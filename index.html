<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VRTX","momentum":139.6997064054,"atr":6.37503,"price":230.21,"sector":"Health Care","shares":39,"position":8978.19},{"rank":2,"ticker":"ABBV","momentum":129.6937715335,"atr":3.00594,"price":145.56,"sector":"Health Care","shares":83,"position":12081.48},{"rank":3,"ticker":"MCK","momentum":126.5354311903,"atr":6.767215,"price":269.0,"sector":"Health Care","shares":36,"position":9684.0},{"rank":4,"ticker":"CERN","momentum":124.5050456465,"atr":0.524625,"price":91.83,"sector":"Health Care","shares":476,"position":43711.08},{"rank":5,"ticker":"MKC","momentum":105.685342701,"atr":2.11297,"price":96.97,"sector":"Consumer Staples","shares":118,"position":11442.46},{"rank":6,"ticker":"DVN","momentum":105.6637483744,"atr":2.806495,"price":52.67,"sector":"Energy","shares":89,"position":4687.63},{"rank":7,"ticker":"HPQ","momentum":75.1420376884,"atr":1.101945,"price":35.19,"sector":"Information Technology","shares":226,"position":7952.94},{"rank":8,"ticker":"CVS","momentum":73.9402518198,"atr":2.527485,"price":101.92,"sector":"Health Care","shares":98,"position":9988.16},{"rank":9,"ticker":"CVX","momentum":73.9195370735,"atr":3.813655,"price":132.4,"sector":"Energy","shares":65,"position":8606.0},{"rank":10,"ticker":"CF","momentum":70.1528414403,"atr":4.342645,"price":73.83,"sector":"Materials","shares":57,"position":4208.31},{"rank":11,"ticker":"MU","momentum":69.8383558206,"atr":4.10024,"price":90.57,"sector":"Information Technology","shares":60,"position":5434.2},{"rank":12,"ticker":"EOG","momentum":69.6379635593,"atr":4.4812,"price":109.53,"sector":"Energy","shares":55,"position":6024.15},{"rank":13,"ticker":"PGR","momentum":69.5332324396,"atr":2.26216,"price":106.25,"sector":"Financials","shares":110,"position":11687.5},{"rank":14,"ticker":"COP","momentum":61.990595969,"atr":3.382735,"price":87.83,"sector":"Energy","shares":73,"position":6411.59},{"rank":15,"ticker":"NI","momentum":61.2863956862,"atr":0.663,"price":28.36,"sector":"Utilities","shares":377,"position":10691.72},{"rank":16,"ticker":"HAL","momentum":60.7792938434,"atr":1.377905,"price":31.46,"sector":"Energy","shares":181,"position":5694.26},{"rank":17,"ticker":"XOM","momentum":60.3201727031,"atr":2.444205,"price":76.46,"sector":"Energy","shares":102,"position":7798.92},{"rank":18,"ticker":"TSN","momentum":59.6246230105,"atr":2.525255,"price":92.44,"sector":"Consumer Staples","shares":98,"position":9059.12},{"rank":19,"ticker":"PXD","momentum":58.6261648679,"atr":9.1343,"price":223.2,"sector":"Energy","shares":27,"position":6026.4},{"rank":20,"ticker":"CHD","momentum":57.4175580265,"atr":2.3743,"price":96.72,"sector":"Consumer Staples","shares":105,"position":10155.6},{"rank":21,"ticker":"FMC","momentum":56.9776724198,"atr":3.197325,"price":116.16,"sector":"Materials","shares":78,"position":9060.48},{"rank":22,"ticker":"ATO","momentum":55.5274421834,"atr":2.26309,"price":106.26,"sector":"Utilities","shares":110,"position":11688.6},{"rank":23,"ticker":"AFL","momentum":52.1368531242,"atr":1.377995,"price":62.77,"sector":"Financials","shares":181,"position":11361.37},{"rank":24,"ticker":"ADM","momentum":51.7281164742,"atr":1.768745,"price":76.71,"sector":"Consumer Staples","shares":141,"position":10816.11},{"rank":25,"ticker":"HSY","momentum":51.4662953043,"atr":4.02192,"price":202.03,"sector":"Consumer Staples","shares":62,"position":12525.86},{"rank":26,"ticker":"STX","momentum":47.2659191309,"atr":4.22662,"price":107.35,"sector":"Information Technology","shares":59,"position":6333.65},{"rank":27,"ticker":"BMY","momentum":46.9697288577,"atr":1.269595,"price":67.45,"sector":"Health Care","shares":196,"position":13220.2},{"rank":28,"ticker":"ABC","momentum":44.5918144383,"atr":3.350715,"price":140.56,"sector":"Health Care","shares":74,"position":10401.44},{"rank":29,"ticker":"CNC","momentum":43.2930767495,"atr":2.297205,"price":81.33,"sector":"Health Care","shares":108,"position":8783.64},{"rank":30,"ticker":"JNPR","momentum":43.2727211424,"atr":1.09217,"price":33.81,"sector":"Information Technology","shares":228,"position":7708.68},{"rank":31,"ticker":"SJM","momentum":42.7304518067,"atr":3.083135,"price":138.64,"sector":"Consumer Staples","shares":81,"position":11229.84},{"rank":32,"ticker":"APA","momentum":41.7659070672,"atr":1.735825,"price":31.04,"sector":"Energy","shares":144,"position":4469.76},{"rank":33,"ticker":"HRL","momentum":40.8483157489,"atr":0.89925,"price":47.6,"sector":"Consumer Staples","shares":278,"position":13232.8},{"rank":34,"ticker":"PG","momentum":39.7607355374,"atr":2.95123,"price":157.93,"sector":"Consumer Staples","shares":84,"position":13266.12},{"rank":35,"ticker":"MTB","momentum":38.4510184956,"atr":4.8317,"price":182.59,"sector":"Financials","shares":51,"position":9312.09},{"rank":36,"ticker":"KO","momentum":38.1370751784,"atr":1.24525,"price":62.28,"sector":"Consumer Staples","shares":200,"position":12456.0},{"rank":37,"ticker":"EMN","momentum":37.2332434493,"atr":3.10852,"price":121.1,"sector":"Materials","shares":80,"position":9688.0},{"rank":38,"ticker":"MPC","momentum":36.7927288414,"atr":2.482245,"price":75.63,"sector":"Energy","shares":100,"position":7563.0},{"rank":39,"ticker":"HPE","momentum":36.7150892016,"atr":0.472905,"price":16.94,"sector":"Information Technology","shares":528,"position":8944.32},{"rank":40,"ticker":"NEM","momentum":36.5901973306,"atr":1.87977,"price":67.17,"sector":"Materials","shares":132,"position":8866.44},{"rank":41,"ticker":"KR","momentum":36.353098955,"atr":1.3475,"price":45.04,"sector":"Consumer Staples","shares":185,"position":8332.4},{"rank":42,"ticker":"BRK.B","momentum":35.892098754,"atr":5.986075,"price":314.16,"sector":"Financials","shares":41,"position":12880.56},{"rank":43,"ticker":"MDLZ","momentum":35.4794281508,"atr":1.358045,"price":66.47,"sector":"Consumer Staples","shares":184,"position":12230.48},{"rank":44,"ticker":"AAPL","momentum":34.8026900722,"atr":4.47882,"price":164.32,"sector":"Information Technology","shares":55,"position":9037.6},{"rank":45,"ticker":"ED","momentum":34.4750610685,"atr":1.8394,"price":84.75,"sector":"Utilities","shares":135,"position":11441.25},{"rank":46,"ticker":"GIS","momentum":34.0982950841,"atr":1.278185,"price":67.34,"sector":"Consumer Staples","shares":195,"position":13131.3},{"rank":47,"ticker":"FE","momentum":33.6446874174,"atr":0.89975,"price":40.95,"sector":"Utilities","shares":277,"position":11343.15},{"rank":48,"ticker":"QCOM","momentum":32.3828854349,"atr":8.17687,"price":165.89,"sector":"Information Technology","shares":30,"position":4976.7},{"rank":49,"ticker":"CTSH","momentum":30.2273616288,"atr":2.59366,"price":85.27,"sector":"Information Technology","shares":96,"position":8185.92},{"rank":50,"ticker":"SLB","momentum":30.0997302535,"atr":1.742435,"price":39.55,"sector":"Energy","shares":143,"position":5655.65},{"rank":51,"ticker":"SCHW","momentum":29.7713751034,"atr":2.95098,"price":84.57,"sector":"Financials","shares":84,"position":7103.88},{"rank":52,"ticker":"WFC","momentum":28.4947345027,"atr":1.650035,"price":55.28,"sector":"Financials","shares":151,"position":8347.28},{"rank":53,"ticker":"PBCT","momentum":28.4272837399,"atr":0.5785,"price":20.99,"sector":"Financials","shares":432,"position":9067.68},{"rank":54,"ticker":"GL","momentum":28.0691376463,"atr":2.55337,"price":104.0,"sector":"Financials","shares":97,"position":10088.0},{"rank":55,"ticker":"CME","momentum":27.9459997499,"atr":6.239725,"price":238.37,"sector":"Financials","shares":40,"position":9534.8},{"rank":56,"ticker":"CMA","momentum":27.8001734306,"atr":3.000975,"price":95.67,"sector":"Financials","shares":83,"position":7940.61},{"rank":57,"ticker":"BDX","momentum":27.7226873255,"atr":6.10238,"price":264.16,"sector":"Health Care","shares":40,"position":10566.4},{"rank":58,"ticker":"WY","momentum":27.6433019872,"atr":1.17261,"price":38.48,"sector":"Real Estate","shares":213,"position":8196.24},{"rank":59,"ticker":"CPB","momentum":27.4813065934,"atr":0.8941,"price":44.69,"sector":"Consumer Staples","shares":279,"position":12468.51},{"rank":60,"ticker":"AMGN","momentum":26.8060004411,"atr":5.76204,"price":221.41,"sector":"Health Care","shares":43,"position":9520.63},{"rank":61,"ticker":"PSA","momentum":25.9158717933,"atr":8.493685,"price":342.38,"sector":"Real Estate","shares":29,"position":9929.02},{"rank":62,"ticker":"WRB","momentum":25.3955061859,"atr":2.139075,"price":90.44,"sector":"Financials","shares":116,"position":10491.04},{"rank":63,"ticker":"LMT","momentum":24.8232882165,"atr":8.318825,"price":386.2,"sector":"Industrials","shares":30,"position":11586.0},{"rank":64,"ticker":"PM","momentum":24.4955141007,"atr":1.99847,"price":108.59,"sector":"Consumer Staples","shares":125,"position":13573.75},{"rank":65,"ticker":"OXY","momentum":23.188942901,"atr":2.067235,"price":38.32,"sector":"Energy","shares":120,"position":4598.4},{"rank":66,"ticker":"MO","momentum":23.0848414816,"atr":0.946725,"price":51.28,"sector":"Consumer Staples","shares":264,"position":13537.92},{"rank":67,"ticker":"CTVA","momentum":22.8161507664,"atr":1.34775,"price":50.67,"sector":"Materials","shares":185,"position":9373.95},{"rank":68,"ticker":"SEE","momentum":22.5196143735,"atr":1.90775,"price":69.32,"sector":"Materials","shares":131,"position":9080.92},{"rank":69,"ticker":"KEY","momentum":21.6295546738,"atr":0.67376,"price":25.59,"sector":"Financials","shares":371,"position":9493.89},{"rank":70,"ticker":"PCAR","momentum":21.1343612759,"atr":2.623075,"price":93.61,"sector":"Industrials","shares":95,"position":8892.95},{"rank":71,"ticker":"BAX","momentum":20.9232314613,"atr":1.95725,"price":84.46,"sector":"Health Care","shares":127,"position":10726.42},{"rank":72,"ticker":"CAG","momentum":20.576993785,"atr":0.701215,"price":35.84,"sector":"Consumer Staples","shares":356,"position":12759.04},{"rank":73,"ticker":"CI","momentum":19.5124108269,"atr":6.731175,"price":227.73,"sector":"Health Care","shares":37,"position":8426.01},{"rank":74,"ticker":"CFG","momentum":18.1186625365,"atr":1.5375,"price":53.13,"sector":"Financials","shares":162,"position":8607.06},{"rank":75,"ticker":"BKR","momentum":16.7737063221,"atr":1.17793,"price":28.6,"sector":"Energy","shares":212,"position":6063.2},{"rank":76,"ticker":"SRE","momentum":16.3331531296,"atr":2.48425,"price":135.51,"sector":"Utilities","shares":100,"position":13551.0},{"rank":77,"ticker":"VTRS","momentum":16.2631614857,"atr":0.366035,"price":14.55,"sector":"Health Care","shares":682,"position":9923.1},{"rank":78,"ticker":"TAP","momentum":16.2129908585,"atr":1.216495,"price":48.59,"sector":"Consumer Staples","shares":205,"position":9960.95},{"rank":79,"ticker":"PEP","momentum":16.1787662921,"atr":3.38981,"price":168.35,"sector":"Consumer Staples","shares":73,"position":12289.55},{"rank":80,"ticker":"CB","momentum":16.1317341234,"atr":4.88417,"price":203.09,"sector":"Financials","shares":51,"position":10357.59},{"rank":81,"ticker":"L","momentum":15.702099655,"atr":1.385585,"price":61.01,"sector":"Financials","shares":180,"position":10981.8},{"rank":82,"ticker":"HWM","momentum":14.8100277675,"atr":1.194615,"price":34.41,"sector":"Industrials","shares":209,"position":7191.69},{"rank":83,"ticker":"ZION","momentum":14.4933794832,"atr":2.325,"price":70.89,"sector":"Financials","shares":107,"position":7585.23},{"rank":84,"ticker":"RJF","momentum":14.3234314158,"atr":3.42161,"price":108.76,"sector":"Financials","shares":73,"position":7939.48},{"rank":85,"ticker":"D","momentum":14.1823659404,"atr":1.5905,"price":79.37,"sector":"Utilities","shares":157,"position":12461.09},{"rank":86,"ticker":"TRV","momentum":14.0633968274,"atr":3.275685,"price":171.08,"sector":"Financials","shares":76,"position":13002.08},{"rank":87,"ticker":"ANTM","momentum":13.9274813797,"atr":12.138775,"price":444.01,"sector":"Health Care","shares":20,"position":8880.2},{"rank":88,"ticker":"PNW","momentum":13.227961238,"atr":1.422,"price":68.9,"sector":"Utilities","shares":175,"position":12057.5},{"rank":89,"ticker":"NLOK","momentum":13.088890854,"atr":0.908435,"price":27.18,"sector":"Information Technology","shares":275,"position":7474.5},{"rank":90,"ticker":"FITB","momentum":13.0523156166,"atr":1.363775,"price":48.33,"sector":"Financials","shares":183,"position":8844.39},{"rank":91,"ticker":"PSX","momentum":13.0071953293,"atr":3.271535,"price":84.1,"sector":"Energy","shares":76,"position":6391.6},{"rank":92,"ticker":"VLO","momentum":12.8375698057,"atr":3.20007,"price":85.84,"sector":"Energy","shares":78,"position":6695.52},{"rank":93,"ticker":"PKG","momentum":12.7233203492,"atr":3.666615,"price":149.06,"sector":"Materials","shares":68,"position":10136.08},{"rank":94,"ticker":"AVGO","momentum":12.3731497783,"atr":21.612145,"price":577.46,"sector":"Information Technology","shares":11,"position":6352.06},{"rank":95,"ticker":"MA","momentum":12.1174091468,"atr":13.29937,"price":368.29,"sector":"Information Technology","shares":18,"position":6629.22},{"rank":96,"ticker":"AEP","momentum":11.9742043652,"atr":1.65547,"price":85.99,"sector":"Utilities","shares":151,"position":12984.49},{"rank":97,"ticker":"FCX","momentum":11.5198073277,"atr":1.790165,"price":42.36,"sector":"Materials","shares":139,"position":5888.04},{"rank":98,"ticker":"CMS","momentum":11.3483537074,"atr":1.27405,"price":62.69,"sector":"Utilities","shares":196,"position":12287.24},{"rank":99,"ticker":"UNH","momentum":10.8497230295,"atr":11.135145,"price":462.51,"sector":"Health Care","shares":22,"position":10175.22},{"rank":100,"ticker":"PEG","momentum":10.0631560868,"atr":1.25875,"price":64.68,"sector":"Utilities","shares":198,"position":12806.64},{"rank":101,"ticker":"MOS","momentum":9.7442124549,"atr":2.07963,"price":44.19,"sector":"Materials","shares":120,"position":5302.8},{"rank":102,"ticker":"RE","momentum":8.3934136353,"atr":7.80888,"price":300.44,"sector":"Financials","shares":32,"position":9614.08},{"rank":103,"ticker":"MET","momentum":8.2271721259,"atr":1.955035,"price":68.96,"sector":"Financials","shares":127,"position":8757.92},{"rank":104,"ticker":"GLW","momentum":8.1339399203,"atr":1.25931,"price":41.12,"sector":"Information Technology","shares":198,"position":8141.76},{"rank":105,"ticker":"GD","momentum":8.1279869549,"atr":4.661355,"price":216.82,"sector":"Industrials","shares":53,"position":11491.46},{"rank":106,"ticker":"DD","momentum":7.3866421448,"atr":2.45411,"price":77.96,"sector":"Materials","shares":101,"position":7873.96},{"rank":107,"ticker":"MAR","momentum":7.0396018848,"atr":6.025225,"price":173.12,"sector":"Consumer Discretionary","shares":41,"position":7097.92},{"rank":108,"ticker":"CNP","momentum":6.9824599759,"atr":0.6175,"price":27.2,"sector":"Utilities","shares":404,"position":10988.8},{"rank":109,"ticker":"UNP","momentum":6.6684460847,"atr":5.63419,"price":246.27,"sector":"Industrials","shares":44,"position":10835.88},{"rank":110,"ticker":"HES","momentum":6.0175060712,"atr":3.953165,"price":93.87,"sector":"Energy","shares":63,"position":5913.81},{"rank":111,"ticker":"SBNY","momentum":6.015129511,"atr":13.91425,"price":340.91,"sector":"Financials","shares":17,"position":5795.47},{"rank":112,"ticker":"K","momentum":5.7589633271,"atr":1.37295,"price":66.12,"sector":"Consumer Staples","shares":182,"position":12033.84},{"rank":113,"ticker":"KIM","momentum":5.2710989938,"atr":0.742035,"price":23.67,"sector":"Real Estate","shares":336,"position":7953.12},{"rank":114,"ticker":"BRO","momentum":4.8418436972,"atr":2.02409,"price":65.68,"sector":"Financials","shares":123,"position":8078.64},{"rank":115,"ticker":"LYB","momentum":3.2244237051,"atr":2.82571,"price":99.56,"sector":"Materials","shares":88,"position":8761.28},{"rank":116,"ticker":"HST","momentum":3.1355633584,"atr":0.648895,"price":18.59,"sector":"Real Estate","shares":385,"position":7157.15},{"rank":117,"ticker":"PRU","momentum":2.9694377167,"atr":3.45901,"price":112.76,"sector":"Financials","shares":72,"position":8118.72},{"rank":118,"ticker":"UPS","momentum":2.8662694673,"atr":6.98765,"price":208.97,"sector":"Industrials","shares":35,"position":7313.95},{"rank":119,"ticker":"DVA","momentum":2.800291437,"atr":2.939875,"price":114.08,"sector":"Health Care","shares":85,"position":9696.8},{"rank":120,"ticker":"HLT","momentum":2.6144267098,"atr":5.50986,"price":147.16,"sector":"Consumer Discretionary","shares":45,"position":6622.2},{"rank":121,"ticker":"NOC","momentum":2.3774857687,"atr":11.00826,"price":390.73,"sector":"Industrials","shares":22,"position":8596.06},{"rank":122,"ticker":"RTX","momentum":1.7126778076,"atr":2.29257,"price":93.54,"sector":"Industrials","shares":109,"position":10195.86},{"rank":123,"ticker":"CTRA","momentum":1.6834198716,"atr":0.90791,"price":22.56,"sector":"Energy","shares":275,"position":6204.0},{"rank":124,"ticker":"SYY","momentum":1.6522034655,"atr":2.45325,"price":84.24,"sector":"Consumer Staples","shares":101,"position":8508.24},{"rank":125,"ticker":"DOW","momentum":1.5209320303,"atr":1.652285,"price":60.3,"sector":"Materials","shares":151,"position":9105.3},{"rank":126,"ticker":"UHS","momentum":1.4198567656,"atr":3.837155,"price":134.06,"sector":"Health Care","shares":65,"position":8713.9},{"rank":127,"ticker":"VZ","momentum":1.2175077746,"atr":0.97253,"price":53.9,"sector":"Communication Services","shares":257,"position":13852.3},{"rank":128,"ticker":"WMB","momentum":1.1930835871,"atr":0.769,"price":29.51,"sector":"Energy","shares":325,"position":9590.75},{"rank":129,"ticker":"JKHY","momentum":1.1637148339,"atr":4.688,"price":169.36,"sector":"Information Technology","shares":53,"position":8976.08},{"rank":130,"ticker":"AXP","momentum":1.0274715737,"atr":5.37671,"price":192.44,"sector":"Financials","shares":46,"position":8852.24},{"rank":131,"ticker":"AIG","momentum":0.9051258118,"atr":1.97988,"price":61.61,"sector":"Financials","shares":126,"position":7762.86},{"rank":132,"ticker":"RHI","momentum":0.7340378941,"atr":3.40125,"price":118.49,"sector":"Industrials","shares":73,"position":8649.77},{"rank":133,"ticker":"BKNG","momentum":0.5148023855,"atr":86.989,"price":2518.22,"sector":"Consumer Discretionary","shares":2,"position":5036.44},{"rank":134,"ticker":"NWL","momentum":0.5069894305,"atr":0.936905,"price":25.11,"sector":"Consumer Discretionary","shares":266,"position":6679.26},{"rank":135,"ticker":"V","momentum":0.4218094392,"atr":6.32676,"price":221.32,"sector":"Information Technology","shares":39,"position":8631.48},{"rank":136,"ticker":"NUE","momentum":0.3971046682,"atr":4.653415,"price":118.71,"sector":"Materials","shares":53,"position":6291.63},{"rank":137,"ticker":"DXC","momentum":0.2972845513,"atr":1.451,"price":35.14,"sector":"Information Technology","shares":172,"position":6044.08},{"rank":138,"ticker":"BXP","momentum":0.1587566437,"atr":3.323465,"price":121.21,"sector":"Real Estate","shares":75,"position":9090.75},{"rank":139,"ticker":"BSX","momentum":0.1444721113,"atr":1.21475,"price":42.98,"sector":"Health Care","shares":205,"position":8810.9},{"rank":140,"ticker":"RF","momentum":0.1202923621,"atr":0.79851,"price":23.88,"sector":"Financials","shares":313,"position":7474.44},{"rank":141,"ticker":"ALK","momentum":0.1006602011,"atr":2.199465,"price":57.83,"sector":"Industrials","shares":113,"position":6534.79},{"rank":142,"ticker":"ALL","momentum":0.0957016985,"atr":3.179175,"price":125.09,"sector":"Financials","shares":78,"position":9757.02},{"rank":143,"ticker":"DFS","momentum":0.0559244477,"atr":3.88953,"price":122.01,"sector":"Financials","shares":64,"position":7808.64},{"rank":144,"ticker":"TFC","momentum":0.0495531784,"atr":1.793045,"price":62.18,"sector":"Financials","shares":139,"position":8643.02},{"rank":145,"ticker":"HSIC","momentum":0.0407454421,"atr":2.4278,"price":83.41,"sector":"Health Care","shares":102,"position":8507.82},{"rank":146,"ticker":"STE","momentum":0.0000258623,"atr":6.33325,"price":229.37,"sector":"Health Care","shares":39,"position":8945.43},{"rank":147,"ticker":"FOXA","momentum":-0.0000001244,"atr":1.298105,"price":41.82,"sector":"Communication Services","shares":192,"position":8029.44},{"rank":148,"ticker":"TDG","momentum":-0.000000174,"atr":21.257625,"price":646.1,"sector":"Industrials","shares":11,"position":7107.1},{"rank":149,"ticker":"KHC","momentum":-0.0024798377,"atr":1.00412,"price":40.4,"sector":"Consumer Staples","shares":248,"position":10019.2},{"rank":150,"ticker":"TMUS","momentum":-0.0135164071,"atr":3.475,"price":123.51,"sector":"Communication Services","shares":71,"position":8769.21},{"rank":151,"ticker":"CINF","momentum":-0.0451206432,"atr":3.27645,"price":123.94,"sector":"Financials","shares":76,"position":9419.44},{"rank":152,"ticker":"FOX","momentum":-0.1311747529,"atr":1.12075,"price":38.18,"sector":"Communication Services","shares":223,"position":8514.14},{"rank":153,"ticker":"WAB","momentum":-0.2965271003,"atr":3.09988,"price":94.67,"sector":"Industrials","shares":80,"position":7573.6},{"rank":154,"ticker":"WYNN","momentum":-0.6374912939,"atr":3.77929,"price":88.55,"sector":"Consumer Discretionary","shares":66,"position":5844.3},{"rank":155,"ticker":"OGN","momentum":-0.6969419375,"atr":1.02649,"price":35.98,"sector":"Health Care","shares":243,"position":8743.14},{"rank":156,"ticker":"XRAY","momentum":-0.8129113581,"atr":1.452295,"price":55.39,"sector":"Health Care","shares":172,"position":9527.08},{"rank":157,"ticker":"UAL","momentum":-1.0281850347,"atr":2.11339,"price":46.32,"sector":"Industrials","shares":118,"position":5465.76},{"rank":158,"ticker":"RL","momentum":-1.1250138224,"atr":4.76275,"price":129.63,"sector":"Consumer Discretionary","shares":52,"position":6740.76},{"rank":159,"ticker":"AIZ","momentum":-1.5381303127,"atr":3.9515,"price":165.12,"sector":"Financials","shares":63,"position":10402.56},{"rank":160,"ticker":"VNO","momentum":-2.0366473937,"atr":1.49546,"price":43.13,"sector":"Real Estate","shares":167,"position":7202.71},{"rank":161,"ticker":"VTR","momentum":-2.0654947964,"atr":1.581825,"price":52.9,"sector":"Real Estate","shares":158,"position":8358.2},{"rank":162,"ticker":"CEG","momentum":-52.5114764088,"atr":0.1,"price":43.54,"sector":"Utilities","shares":2500,"position":108850.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

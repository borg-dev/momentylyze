<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PCG","momentum":228.7196544162,"atr":0.500945,"price":15.31,"sector":"Utilities","shares":499,"position":7639.69},{"rank":2,"ticker":"COP","momentum":214.2710309819,"atr":4.701525,"price":132.32,"sector":"Energy","shares":53,"position":7012.96},{"rank":3,"ticker":"SLB","momentum":141.7402749161,"atr":1.93314,"price":53.1,"sector":"Energy","shares":129,"position":6849.9},{"rank":4,"ticker":"CAH","momentum":121.7640322728,"atr":1.93105,"price":79.52,"sector":"Health Care","shares":129,"position":10258.08},{"rank":5,"ticker":"MPC","momentum":113.5680706581,"atr":3.925745,"price":117.65,"sector":"Energy","shares":63,"position":7411.95},{"rank":6,"ticker":"PFG","momentum":72.5291337436,"atr":2.39975,"price":89.88,"sector":"Financials","shares":104,"position":9347.52},{"rank":7,"ticker":"MOH","momentum":65.1348844932,"atr":10.52719,"price":330.55,"sector":"Health Care","shares":23,"position":7602.65},{"rank":8,"ticker":"ADM","momentum":51.3986539567,"atr":2.752285,"price":95.19,"sector":"Consumer Staples","shares":90,"position":8567.1},{"rank":9,"ticker":"XOM","momentum":50.15398778,"atr":2.83425,"price":112.31,"sector":"Energy","shares":88,"position":9883.28},{"rank":10,"ticker":"GPC","momentum":48.46872987,"atr":4.18981,"price":178.2,"sector":"Consumer Discretionary","shares":59,"position":10513.8},{"rank":11,"ticker":"CTVA","momentum":46.4593273441,"atr":1.864875,"price":65.37,"sector":"Materials","shares":134,"position":8759.58},{"rank":12,"ticker":"SCHW","momentum":37.030219074,"atr":2.79516,"price":79.05,"sector":"Financials","shares":89,"position":7035.45},{"rank":13,"ticker":"HII","momentum":36.7571986171,"atr":7.6615,"price":243.95,"sector":"Industrials","shares":32,"position":7806.4},{"rank":14,"ticker":"DRI","momentum":36.2089520474,"atr":3.510865,"price":141.34,"sector":"Consumer Discretionary","shares":71,"position":10035.14},{"rank":15,"ticker":"AES","momentum":35.0631648167,"atr":0.845045,"price":26.46,"sector":"Utilities","shares":295,"position":7805.7},{"rank":16,"ticker":"CVX","momentum":34.4971316771,"atr":4.87295,"price":183.42,"sector":"Energy","shares":51,"position":9354.42},{"rank":17,"ticker":"CF","momentum":33.8142766764,"atr":5.340565,"price":105.38,"sector":"Materials","shares":46,"position":4847.48},{"rank":18,"ticker":"RJF","momentum":33.6277300766,"atr":3.74498,"price":120.44,"sector":"Financials","shares":66,"position":7949.04},{"rank":19,"ticker":"NRG","momentum":32.4300765871,"atr":1.277675,"price":44.35,"sector":"Utilities","shares":195,"position":8648.25},{"rank":20,"ticker":"ORLY","momentum":32.0738747917,"atr":18.786765,"price":815.74,"sector":"Consumer Discretionary","shares":13,"position":10604.62},{"rank":21,"ticker":"SJM","momentum":31.1958594917,"atr":2.82673,"price":149.38,"sector":"Consumer Staples","shares":88,"position":13145.44},{"rank":22,"ticker":"IT","momentum":31.1668712272,"atr":10.84212,"price":319.5,"sector":"Information Technology","shares":23,"position":7348.5},{"rank":23,"ticker":"CI","momentum":30.2879670295,"atr":7.5745,"price":322.13,"sector":"Health Care","shares":33,"position":10630.29},{"rank":24,"ticker":"GILD","momentum":29.5567353059,"atr":1.95379,"price":80.34,"sector":"Health Care","shares":127,"position":10203.18},{"rank":25,"ticker":"GL","momentum":29.2121815475,"atr":2.846,"price":113.99,"sector":"Financials","shares":87,"position":9917.13},{"rank":26,"ticker":"AMP","momentum":27.8757540848,"atr":10.785445,"price":313.87,"sector":"Financials","shares":23,"position":7219.01},{"rank":27,"ticker":"TJX","momentum":27.229295582,"atr":2.03398,"price":71.19,"sector":"Consumer Discretionary","shares":122,"position":8685.18},{"rank":28,"ticker":"ACGL","momentum":26.4286231628,"atr":1.83265,"price":56.86,"sector":"Financials","shares":136,"position":7732.96},{"rank":29,"ticker":"PSX","momentum":25.5928253967,"atr":3.42995,"price":103.48,"sector":"Energy","shares":72,"position":7450.56},{"rank":30,"ticker":"HBAN","momentum":23.8946373024,"atr":0.47548,"price":15.38,"sector":"Financials","shares":525,"position":8074.5},{"rank":31,"ticker":"MCK","momentum":21.9141785924,"atr":9.754365,"price":396.65,"sector":"Health Care","shares":25,"position":9916.25},{"rank":32,"ticker":"NOC","momentum":21.7556701544,"atr":16.46356,"price":522.77,"sector":"Industrials","shares":15,"position":7841.55},{"rank":33,"ticker":"LW","momentum":21.6139869578,"atr":2.1385,"price":85.46,"sector":"Consumer Staples","shares":116,"position":9913.36},{"rank":34,"ticker":"XYL","momentum":19.4835889641,"atr":3.23225,"price":107.21,"sector":"Industrials","shares":77,"position":8255.17},{"rank":35,"ticker":"VLO","momentum":19.4498251214,"atr":5.35244,"price":128.72,"sector":"Energy","shares":46,"position":5921.12},{"rank":36,"ticker":"FMC","momentum":18.8252681722,"atr":3.70975,"price":124.5,"sector":"Materials","shares":67,"position":8341.5},{"rank":37,"ticker":"CMI","momentum":18.5250171655,"atr":7.454265,"price":238.37,"sector":"Industrials","shares":33,"position":7866.21},{"rank":38,"ticker":"MET","momentum":16.1268538519,"atr":1.77942,"price":74.11,"sector":"Financials","shares":140,"position":10375.4},{"rank":39,"ticker":"KEYS","momentum":15.8517115993,"atr":5.19019,"price":163.85,"sector":"Information Technology","shares":48,"position":7864.8},{"rank":40,"ticker":"WRB","momentum":15.2120083902,"atr":2.04741,"price":74.88,"sector":"Financials","shares":122,"position":9135.36},{"rank":41,"ticker":"WMT","momentum":13.4694745265,"atr":2.78324,"price":140.97,"sector":"Consumer Staples","shares":89,"position":12546.33},{"rank":42,"ticker":"IEX","momentum":13.4459936135,"atr":5.89998,"price":222.59,"sector":"Industrials","shares":42,"position":9348.78},{"rank":43,"ticker":"TT","momentum":12.2113049332,"atr":5.525575,"price":166.74,"sector":"Industrials","shares":45,"position":7503.3},{"rank":44,"ticker":"SBUX","momentum":11.7421887714,"atr":3.13625,"price":91.86,"sector":"Consumer Discretionary","shares":79,"position":7256.94},{"rank":45,"ticker":"AFL","momentum":11.4498338956,"atr":1.582245,"price":67.18,"sector":"Financials","shares":158,"position":10614.44},{"rank":46,"ticker":"GD","momentum":9.4798181869,"atr":6.13217,"price":249.36,"sector":"Industrials","shares":40,"position":9974.4},{"rank":47,"ticker":"AZO","momentum":8.8588556144,"atr":62.458975,"price":2465.1,"sector":"Consumer Discretionary","shares":4,"position":9860.4},{"rank":48,"ticker":"CDAY","momentum":8.4900954434,"atr":3.44025,"price":60.56,"sector":"Information Technology","shares":72,"position":4360.32},{"rank":49,"ticker":"PGR","momentum":8.1596200412,"atr":3.870995,"price":126.62,"sector":"Financials","shares":64,"position":8103.68},{"rank":50,"ticker":"JCI","momentum":7.8794215447,"atr":2.01741,"price":63.81,"sector":"Industrials","shares":123,"position":7848.63},{"rank":51,"ticker":"PCAR","momentum":7.7042126819,"atr":2.69245,"price":99.12,"sector":"Industrials","shares":92,"position":9119.04},{"rank":52,"ticker":"GIS","momentum":7.4932177205,"atr":1.55217,"price":79.06,"sector":"Consumer Staples","shares":161,"position":12728.66},{"rank":53,"ticker":"HAL","momentum":7.0814661034,"atr":1.57925,"price":38.48,"sector":"Energy","shares":158,"position":6079.84},{"rank":54,"ticker":"ON","momentum":6.3687752059,"atr":3.694265,"price":63.19,"sector":"Information Technology","shares":67,"position":4233.73},{"rank":55,"ticker":"BSX","momentum":6.1193293259,"atr":1.105925,"price":41.59,"sector":"Health Care","shares":226,"position":9399.34},{"rank":56,"ticker":"SYK","momentum":5.9046529749,"atr":7.17322,"price":210.98,"sector":"Health Care","shares":34,"position":7173.32},{"rank":57,"ticker":"GWW","momentum":5.8383813615,"atr":17.837895,"price":593.64,"sector":"Industrials","shares":14,"position":8310.96},{"rank":58,"ticker":"NDAQ","momentum":4.6423676634,"atr":1.7165,"price":61.9,"sector":"Financials","shares":145,"position":8975.5},{"rank":59,"ticker":"CTRA","momentum":4.3779967669,"atr":1.21146,"price":28.93,"sector":"Energy","shares":206,"position":5959.58},{"rank":60,"ticker":"A","momentum":4.3621652402,"atr":4.12134,"price":136.08,"sector":"Health Care","shares":60,"position":8164.8},{"rank":61,"ticker":"FCX","momentum":4.1847082716,"atr":1.823495,"price":35.19,"sector":"Materials","shares":137,"position":4821.03},{"rank":62,"ticker":"HSY","momentum":4.1117174261,"atr":4.45652,"price":229.03,"sector":"Consumer Staples","shares":56,"position":12825.68},{"rank":63,"ticker":"WTW","momentum":4.0817674619,"atr":5.66225,"price":221.21,"sector":"Financials","shares":44,"position":9733.24},{"rank":64,"ticker":"RE","momentum":3.6844073932,"atr":10.036495,"price":333.16,"sector":"Financials","shares":24,"position":7995.84},{"rank":65,"ticker":"LMT","momentum":3.6227867167,"atr":13.715895,"price":481.67,"sector":"Industrials","shares":18,"position":8670.06},{"rank":66,"ticker":"TRGP","momentum":3.5696606468,"atr":2.621745,"price":70.37,"sector":"Energy","shares":95,"position":6685.15},{"rank":67,"ticker":"WFC","momentum":3.4612892439,"atr":1.32178,"price":46.74,"sector":"Financials","shares":189,"position":8833.86},{"rank":68,"ticker":"HLT","momentum":3.3716853953,"atr":4.699,"price":130.01,"sector":"Consumer Discretionary","shares":53,"position":6890.53},{"rank":69,"ticker":"AJG","momentum":3.2888512432,"atr":5.00325,"price":188.39,"sector":"Financials","shares":49,"position":9231.11},{"rank":70,"ticker":"HIG","momentum":3.161922107,"atr":2.030585,"price":73.79,"sector":"Financials","shares":123,"position":9076.17},{"rank":71,"ticker":"LLY","momentum":3.0995241681,"atr":10.193025,"price":357.41,"sector":"Health Care","shares":24,"position":8577.84},{"rank":72,"ticker":"ANET","momentum":2.8718788886,"atr":6.24154,"price":131.07,"sector":"Information Technology","shares":40,"position":5242.8},{"rank":73,"ticker":"RF","momentum":2.856147521,"atr":0.798395,"price":22.46,"sector":"Financials","shares":313,"position":7029.98},{"rank":74,"ticker":"ETN","momentum":2.790221708,"atr":4.5645,"price":158.69,"sector":"Industrials","shares":54,"position":8569.26},{"rank":75,"ticker":"ELV","momentum":2.6353758193,"atr":13.481375,"price":526.66,"sector":"Health Care","shares":18,"position":9479.88},{"rank":76,"ticker":"IR","momentum":2.6082369232,"atr":1.8858,"price":52.92,"sector":"Industrials","shares":132,"position":6985.44},{"rank":77,"ticker":"URI","momentum":2.1348236852,"atr":12.02779,"price":323.87,"sector":"Industrials","shares":20,"position":6477.4},{"rank":78,"ticker":"CAT","momentum":2.0948179436,"atr":7.191585,"price":227.85,"sector":"Industrials","shares":34,"position":7746.9},{"rank":79,"ticker":"FTV","momentum":2.0426090368,"atr":1.82875,"price":64.59,"sector":"Industrials","shares":136,"position":8784.24},{"rank":80,"ticker":"CB","momentum":1.8112191725,"atr":5.70562,"price":209.16,"sector":"Financials","shares":43,"position":8993.88},{"rank":81,"ticker":"AME","momentum":1.7787890385,"atr":3.69525,"price":135.25,"sector":"Industrials","shares":67,"position":9061.75},{"rank":82,"ticker":"TRV","momentum":1.6632862213,"atr":4.17162,"price":183.06,"sector":"Financials","shares":59,"position":10800.54},{"rank":83,"ticker":"ALL","momentum":1.6140926354,"atr":5.08652,"price":129.12,"sector":"Financials","shares":49,"position":6326.88},{"rank":84,"ticker":"GM","momentum":1.570897171,"atr":1.326525,"price":39.0,"sector":"Consumer Discretionary","shares":188,"position":7332.0},{"rank":85,"ticker":"ULTA","momentum":1.5705829886,"atr":13.43374,"price":418.32,"sector":"Consumer Discretionary","shares":18,"position":7529.76},{"rank":86,"ticker":"ROL","momentum":1.4942697877,"atr":1.240505,"price":41.91,"sector":"Industrials","shares":201,"position":8423.91},{"rank":87,"ticker":"MSI","momentum":1.3863283325,"atr":7.100905,"price":254.87,"sector":"Information Technology","shares":35,"position":8920.45},{"rank":88,"ticker":"MO","momentum":1.3772883592,"atr":1.073875,"price":45.5,"sector":"Consumer Staples","shares":232,"position":10556.0},{"rank":89,"ticker":"TSCO","momentum":1.1121327292,"atr":7.58987,"price":206.56,"sector":"Consumer Discretionary","shares":32,"position":6609.92},{"rank":90,"ticker":"ADP","momentum":1.0287983083,"atr":6.342245,"price":236.86,"sector":"Information Technology","shares":39,"position":9237.54},{"rank":91,"ticker":"ABC","momentum":0.8812824243,"atr":4.1515,"price":161.64,"sector":"Health Care","shares":60,"position":9698.4},{"rank":92,"ticker":"GE","momentum":0.7999569372,"atr":2.489,"price":81.07,"sector":"Industrials","shares":100,"position":8107.0},{"rank":93,"ticker":"CPB","momentum":0.6566662371,"atr":1.06871,"price":50.83,"sector":"Consumer Staples","shares":233,"position":11843.39},{"rank":94,"ticker":"MRK","momentum":0.5610994234,"atr":2.147535,"price":99.2,"sector":"Health Care","shares":116,"position":11507.2},{"rank":95,"ticker":"BAC","momentum":0.5491368363,"atr":1.08749,"price":36.79,"sector":"Financials","shares":229,"position":8424.91},{"rank":96,"ticker":"ITW","momentum":0.4893476892,"atr":5.993035,"price":215.15,"sector":"Industrials","shares":41,"position":8821.15},{"rank":97,"ticker":"SYF","momentum":0.3970733414,"atr":1.3025,"price":35.02,"sector":"Financials","shares":191,"position":6688.82},{"rank":98,"ticker":"VMC","momentum":0.3858863819,"atr":5.572595,"price":170.15,"sector":"Materials","shares":44,"position":7486.6},{"rank":99,"ticker":"JPM","momentum":0.3770799519,"atr":3.54053,"price":130.68,"sector":"Financials","shares":70,"position":9147.6},{"rank":100,"ticker":"APH","momentum":0.3758124987,"atr":2.185895,"price":76.27,"sector":"Information Technology","shares":114,"position":8694.78},{"rank":101,"ticker":"CBOE","momentum":0.338416153,"atr":2.97137,"price":128.3,"sector":"Financials","shares":84,"position":10777.2},{"rank":102,"ticker":"SNA","momentum":0.3380115734,"atr":5.79483,"price":229.14,"sector":"Industrials","shares":43,"position":9853.02},{"rank":103,"ticker":"AIG","momentum":0.2875840055,"atr":1.606825,"price":57.92,"sector":"Financials","shares":155,"position":8977.6},{"rank":104,"ticker":"GS","momentum":0.2046260619,"atr":9.384965,"price":357.91,"sector":"Financials","shares":26,"position":9305.66},{"rank":105,"ticker":"PWR","momentum":0.2000466524,"atr":4.96579,"price":146.77,"sector":"Industrials","shares":50,"position":7338.5},{"rank":106,"ticker":"CTAS","momentum":0.1525660305,"atr":10.735465,"price":410.64,"sector":"Industrials","shares":23,"position":9444.72},{"rank":107,"ticker":"STT","momentum":0.1252911376,"atr":2.73575,"price":75.45,"sector":"Financials","shares":91,"position":6865.95},{"rank":108,"ticker":"TMUS","momentum":0.1231259727,"atr":3.4426,"price":148.83,"sector":"Communication Services","shares":72,"position":10715.76},{"rank":109,"ticker":"HON","momentum":0.1191646547,"atr":5.08438,"price":207.85,"sector":"Industrials","shares":49,"position":10184.65},{"rank":110,"ticker":"WAB","momentum":0.0874991453,"atr":2.67075,"price":95.45,"sector":"Industrials","shares":93,"position":8876.85},{"rank":111,"ticker":"CAG","momentum":0.0826510994,"atr":0.694815,"price":35.98,"sector":"Consumer Staples","shares":359,"position":12916.82},{"rank":112,"ticker":"APD","momentum":0.0695538783,"atr":7.36777,"price":276.06,"sector":"Materials","shares":33,"position":9109.98},{"rank":113,"ticker":"CFG","momentum":0.0522264417,"atr":1.351395,"price":40.12,"sector":"Financials","shares":184,"position":7382.08},{"rank":114,"ticker":"AMGN","momentum":0.0445851686,"atr":6.26313,"price":269.04,"sector":"Health Care","shares":39,"position":10492.56},{"rank":115,"ticker":"KMI","momentum":0.0391073256,"atr":0.51677,"price":18.17,"sector":"Energy","shares":483,"position":8776.11},{"rank":116,"ticker":"TXT","momentum":0.0328540288,"atr":1.965745,"price":68.52,"sector":"Industrials","shares":127,"position":8702.04},{"rank":117,"ticker":"PH","momentum":0.0222978477,"atr":9.351375,"price":298.88,"sector":"Industrials","shares":26,"position":7770.88},{"rank":118,"ticker":"PEP","momentum":0.0071371862,"atr":3.86129,"price":178.78,"sector":"Consumer Staples","shares":64,"position":11441.92},{"rank":119,"ticker":"UNH","momentum":0.0046708527,"atr":12.520875,"price":538.17,"sector":"Health Care","shares":19,"position":10225.23},{"rank":120,"ticker":"MS","momentum":0.0001710452,"atr":2.540395,"price":84.85,"sector":"Financials","shares":98,"position":8315.3},{"rank":121,"ticker":"PRU","momentum":0.0000089995,"atr":3.139915,"price":105.06,"sector":"Financials","shares":79,"position":8299.74},{"rank":122,"ticker":"FITB","momentum":-0.000764653,"atr":1.323245,"price":35.13,"sector":"Financials","shares":188,"position":6604.44},{"rank":123,"ticker":"AON","momentum":-0.0083708203,"atr":8.31472,"price":279.71,"sector":"Financials","shares":30,"position":8391.3},{"rank":124,"ticker":"LIN","momentum":-0.0120489797,"atr":8.694595,"price":308.93,"sector":"Materials","shares":28,"position":8650.04},{"rank":125,"ticker":"MLM","momentum":-0.0259612431,"atr":11.403185,"price":337.16,"sector":"Materials","shares":21,"position":7080.36},{"rank":126,"ticker":"SPG","momentum":-0.0329896864,"atr":3.38136,"price":115.57,"sector":"Real Estate","shares":73,"position":8436.61},{"rank":127,"ticker":"HWM","momentum":-0.0533523621,"atr":1.19905,"price":36.04,"sector":"Industrials","shares":208,"position":7496.32},{"rank":128,"ticker":"JNPR","momentum":-0.0580936065,"atr":0.90445,"price":30.12,"sector":"Information Technology","shares":276,"position":8313.12},{"rank":129,"ticker":"MCD","momentum":-0.090790365,"atr":5.44362,"price":274.62,"sector":"Consumer Discretionary","shares":45,"position":12357.9},{"rank":130,"ticker":"TDG","momentum":-0.105307077,"atr":17.725685,"price":579.61,"sector":"Industrials","shares":14,"position":8114.54},{"rank":131,"ticker":"F","momentum":-0.1144228891,"atr":0.524,"price":13.51,"sector":"Consumer Discretionary","shares":477,"position":6444.27},{"rank":132,"ticker":"DOV","momentum":-0.1396573903,"atr":3.6195,"price":133.06,"sector":"Industrials","shares":69,"position":9181.14},{"rank":133,"ticker":"MMC","momentum":-0.1601433041,"atr":4.203745,"price":160.37,"sector":"Financials","shares":59,"position":9461.83},{"rank":134,"ticker":"CVS","momentum":-0.2091697731,"atr":2.503855,"price":99.56,"sector":"Health Care","shares":99,"position":9856.44},{"rank":135,"ticker":"DGX","momentum":-0.2286931702,"atr":3.98875,"price":143.62,"sector":"Health Care","shares":62,"position":8904.44},{"rank":136,"ticker":"CDW","momentum":-0.2331298904,"atr":5.191755,"price":172.41,"sector":"Information Technology","shares":48,"position":8275.68},{"rank":137,"ticker":"BWA","momentum":-0.2400838234,"atr":1.18291,"price":37.94,"sector":"Consumer Discretionary","shares":211,"position":8005.34},{"rank":138,"ticker":"OKE","momentum":-0.2870715948,"atr":1.7052,"price":60.74,"sector":"Energy","shares":146,"position":8868.04},{"rank":139,"ticker":"BRK.B","momentum":-0.2950338175,"atr":6.74086,"price":287.47,"sector":"Financials","shares":37,"position":10636.39},{"rank":140,"ticker":"EMR","momentum":-0.3039750887,"atr":2.39098,"price":89.09,"sector":"Industrials","shares":104,"position":9265.36},{"rank":141,"ticker":"CARR","momentum":-0.3793567479,"atr":1.3265,"price":40.28,"sector":"Industrials","shares":188,"position":7572.64},{"rank":142,"ticker":"IPG","momentum":-0.4308385456,"atr":0.93435,"price":29.5,"sector":"Communication Services","shares":267,"position":7876.5},{"rank":143,"ticker":"MSCI","momentum":-0.4610049706,"atr":17.0105,"price":460.91,"sector":"Financials","shares":14,"position":6452.74},{"rank":144,"ticker":"BMY","momentum":-0.5487534793,"atr":1.6069,"price":78.78,"sector":"Health Care","shares":155,"position":12210.9},{"rank":145,"ticker":"BKNG","momentum":-0.5846711888,"atr":70.36826,"price":1874.4,"sector":"Consumer Discretionary","shares":3,"position":5623.2},{"rank":146,"ticker":"DHI","momentum":-0.6528004827,"atr":3.031125,"price":75.18,"sector":"Consumer Discretionary","shares":82,"position":6164.76},{"rank":147,"ticker":"NTAP","momentum":-0.7689935101,"atr":2.24025,"price":68.79,"sector":"Information Technology","shares":111,"position":7635.69},{"rank":148,"ticker":"DG","momentum":-0.7903255603,"atr":5.69423,"price":248.1,"sector":"Consumer Discretionary","shares":43,"position":10668.3},{"rank":149,"ticker":"MTD","momentum":-0.7991418595,"atr":45.806,"price":1284.51,"sector":"Health Care","shares":5,"position":6422.55},{"rank":150,"ticker":"WMB","momentum":-0.8628717077,"atr":0.867665,"price":33.54,"sector":"Energy","shares":288,"position":9659.52},{"rank":151,"ticker":"HPE","momentum":-0.8872649671,"atr":0.408125,"price":14.25,"sector":"Information Technology","shares":612,"position":8721.0},{"rank":152,"ticker":"JBHT","momentum":-0.9090826029,"atr":5.91825,"price":173.25,"sector":"Industrials","shares":42,"position":7276.5},{"rank":153,"ticker":"ABBV","momentum":-0.9703908409,"atr":3.766805,"price":145.28,"sector":"Health Care","shares":66,"position":9588.48},{"rank":154,"ticker":"DD","momentum":-1.0709809398,"atr":1.940315,"price":61.93,"sector":"Materials","shares":128,"position":7927.04},{"rank":155,"ticker":"EA","momentum":-1.248641793,"atr":3.2345,"price":129.76,"sector":"Communication Services","shares":77,"position":9991.52},{"rank":156,"ticker":"LEN","momentum":-1.5563345538,"atr":3.2198,"price":79.61,"sector":"Consumer Discretionary","shares":77,"position":6129.97},{"rank":157,"ticker":"RL","momentum":-1.7514182756,"atr":3.82975,"price":95.06,"sector":"Consumer Discretionary","shares":65,"position":6178.9},{"rank":158,"ticker":"BKR","momentum":-1.8195229264,"atr":1.094,"price":29.11,"sector":"Energy","shares":228,"position":6637.08},{"rank":159,"ticker":"KEY","momentum":-2.2345707169,"atr":0.634,"price":18.23,"sector":"Financials","shares":394,"position":7182.62},{"rank":160,"ticker":"KIM","momentum":-2.4995325715,"atr":0.62271,"price":21.42,"sector":"Real Estate","shares":401,"position":8589.42},{"rank":161,"ticker":"BLK","momentum":-2.5945300314,"atr":22.15639,"price":656.15,"sector":"Financials","shares":11,"position":7217.65},{"rank":162,"ticker":"DFS","momentum":-2.7699236656,"atr":3.4411,"price":99.85,"sector":"Financials","shares":72,"position":7189.2},{"rank":163,"ticker":"STZ","momentum":-2.9942043873,"atr":5.440925,"price":244.83,"sector":"Consumer Staples","shares":45,"position":11017.35},{"rank":164,"ticker":"ALLE","momentum":-3.0384611753,"atr":3.5745,"price":103.12,"sector":"Industrials","shares":69,"position":7115.28},{"rank":165,"ticker":"BK","momentum":-4.1713012325,"atr":1.359185,"price":42.49,"sector":"Financials","shares":183,"position":7775.67},{"rank":166,"ticker":"JNJ","momentum":-4.4897553405,"atr":2.965845,"price":171.48,"sector":"Health Care","shares":84,"position":14404.32},{"rank":167,"ticker":"IBM","momentum":-4.6363213695,"atr":3.050595,"price":136.96,"sector":"Information Technology","shares":81,"position":11093.76},{"rank":168,"ticker":"LDOS","momentum":-4.6998939621,"atr":2.70659,"price":105.76,"sector":"Industrials","shares":92,"position":9729.92},{"rank":169,"ticker":"FRT","momentum":-5.3496484419,"atr":2.8685,"price":105.09,"sector":"Real Estate","shares":87,"position":9142.83},{"rank":170,"ticker":"AAP","momentum":-5.7575722906,"atr":5.141275,"price":181.07,"sector":"Consumer Discretionary","shares":48,"position":8691.36},{"rank":171,"ticker":"BA","momentum":-5.8575526039,"atr":6.55924,"price":160.01,"sector":"Industrials","shares":38,"position":6080.38},{"rank":172,"ticker":"RTX","momentum":-6.1012767728,"atr":2.63059,"price":95.22,"sector":"Industrials","shares":95,"position":9045.9},{"rank":173,"ticker":"YUM","momentum":-6.243095047,"atr":3.19712,"price":121.78,"sector":"Consumer Discretionary","shares":78,"position":9498.84},{"rank":174,"ticker":"NSC","momentum":-6.2433490735,"atr":6.72783,"price":233.8,"sector":"Industrials","shares":37,"position":8650.6},{"rank":175,"ticker":"MNST","momentum":-6.2869203554,"atr":2.66615,"price":97.94,"sector":"Consumer Staples","shares":93,"position":9108.42},{"rank":176,"ticker":"KHC","momentum":-6.3776497083,"atr":0.996385,"price":38.02,"sector":"Consumer Staples","shares":250,"position":9505.0},{"rank":177,"ticker":"TDY","momentum":-6.8682054335,"atr":10.695915,"price":395.03,"sector":"Information Technology","shares":23,"position":9085.69},{"rank":178,"ticker":"OTIS","momentum":-7.451718291,"atr":1.9675,"price":73.22,"sector":"Industrials","shares":127,"position":9298.94},{"rank":179,"ticker":"APTV","momentum":-7.6099943242,"atr":3.786675,"price":97.63,"sector":"Consumer Discretionary","shares":66,"position":6443.58},{"rank":180,"ticker":"HOLX","momentum":-8.4808918159,"atr":2.341125,"price":75.23,"sector":"Health Care","shares":106,"position":7974.38},{"rank":181,"ticker":"MDLZ","momentum":-8.6177054547,"atr":1.305,"price":63.22,"sector":"Consumer Staples","shares":191,"position":12075.02},{"rank":182,"ticker":"REG","momentum":-9.3755314832,"atr":1.6675,"price":63.57,"sector":"Real Estate","shares":149,"position":9471.93},{"rank":183,"ticker":"CRL","momentum":-11.3550532051,"atr":10.02175,"price":220.34,"sector":"Health Care","shares":24,"position":5288.16},{"rank":184,"ticker":"INCY","momentum":-13.6229746193,"atr":2.031225,"price":77.3,"sector":"Health Care","shares":123,"position":9507.9},{"rank":185,"ticker":"SYY","momentum":-13.6335731983,"atr":2.13589,"price":82.25,"sector":"Consumer Staples","shares":117,"position":9623.25},{"rank":186,"ticker":"LUV","momentum":-18.607675736,"atr":1.19621,"price":37.08,"sector":"Industrials","shares":208,"position":7712.64},{"rank":187,"ticker":"AOS","momentum":-18.6139208312,"atr":1.70875,"price":55.98,"sector":"Industrials","shares":146,"position":8173.08},{"rank":188,"ticker":"WBA","momentum":-19.9245318783,"atr":1.058935,"price":37.07,"sector":"Consumer Staples","shares":236,"position":8748.52},{"rank":189,"ticker":"T","momentum":-27.2591353749,"atr":0.493255,"price":18.32,"sector":"Communication Services","shares":506,"position":9269.92}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"LW","momentum":122.1857104216,"atr":1.463655,"price":77.15,"sector":"Consumer Staples","shares":170,"position":13115.5},{"rank":2,"ticker":"NDAQ","momentum":116.619939112,"atr":1.2275883333,"price":61.85,"sector":"Financials","shares":203,"position":12555.55},{"rank":3,"ticker":"BR","momentum":101.2222054813,"atr":3.10875,"price":168.5,"sector":"Information Technology","shares":80,"position":13480.0},{"rank":4,"ticker":"PWR","momentum":94.2418480331,"atr":3.824995,"price":141.45,"sector":"Industrials","shares":65,"position":9194.25},{"rank":5,"ticker":"NEE","momentum":93.772168114,"atr":1.657505,"price":88.86,"sector":"Utilities","shares":150,"position":13329.0},{"rank":6,"ticker":"KEYS","momentum":90.8341743886,"atr":4.22263,"price":168.36,"sector":"Information Technology","shares":59,"position":9933.24},{"rank":7,"ticker":"CDNS","momentum":89.0938541677,"atr":4.17075,"price":166.92,"sector":"Information Technology","shares":59,"position":9848.28},{"rank":8,"ticker":"FDS","momentum":83.2528169205,"atr":8.40997,"price":446.87,"sector":"Financials","shares":29,"position":12959.23},{"rank":9,"ticker":"GPC","momentum":77.7703403746,"atr":2.8917,"price":157.94,"sector":"Consumer Discretionary","shares":86,"position":13582.84},{"rank":10,"ticker":"DRE","momentum":73.4563373591,"atr":1.36845,"price":59.17,"sector":"Real Estate","shares":182,"position":10768.94},{"rank":11,"ticker":"CAH","momentum":72.1197877343,"atr":1.5385,"price":66.83,"sector":"Health Care","shares":162,"position":10826.46},{"rank":12,"ticker":"AES","momentum":70.371286203,"atr":0.67175,"price":26.83,"sector":"Utilities","shares":372,"position":9980.76},{"rank":13,"ticker":"SNPS","momentum":69.6538106267,"atr":9.54424,"price":323.61,"sector":"Information Technology","shares":26,"position":8413.86},{"rank":14,"ticker":"ORLY","momentum":66.2190408727,"atr":13.26781,"price":695.68,"sector":"Consumer Discretionary","shares":18,"position":12522.24},{"rank":15,"ticker":"MSI","momentum":65.8399864314,"atr":4.53775,"price":246.08,"sector":"Information Technology","shares":55,"position":13534.4},{"rank":16,"ticker":"SBUX","momentum":64.8328013878,"atr":2.202,"price":87.84,"sector":"Consumer Discretionary","shares":113,"position":9925.92},{"rank":17,"ticker":"AJG","momentum":60.9784697372,"atr":3.01331,"price":184.81,"sector":"Financials","shares":82,"position":15154.42},{"rank":18,"ticker":"ON","momentum":60.2302039328,"atr":3.349915,"price":66.87,"sector":"Information Technology","shares":74,"position":4948.38},{"rank":19,"ticker":"VICI","momentum":59.8013929574,"atr":0.582915,"price":33.14,"sector":"Real Estate","shares":428,"position":14183.92},{"rank":20,"ticker":"TT","momentum":58.2853698995,"atr":3.70825,"price":160.67,"sector":"Industrials","shares":67,"position":10764.89},{"rank":21,"ticker":"GWW","momentum":57.956640302,"atr":10.06583,"price":557.15,"sector":"Industrials","shares":24,"position":13371.6},{"rank":22,"ticker":"INTU","momentum":55.977043115,"atr":15.456975,"price":429.31,"sector":"Information Technology","shares":16,"position":6868.96},{"rank":23,"ticker":"RMD","momentum":55.1540630719,"atr":4.78,"price":234.64,"sector":"Health Care","shares":52,"position":12201.28},{"rank":24,"ticker":"ADP","momentum":52.7696432883,"atr":4.452065,"price":235.06,"sector":"Information Technology","shares":56,"position":13163.36},{"rank":25,"ticker":"IT","momentum":52.3546827613,"atr":6.69475,"price":302.72,"sector":"Information Technology","shares":37,"position":11200.64},{"rank":26,"ticker":"BF.B","momentum":51.6359498599,"atr":1.442895,"price":71.24,"sector":"Consumer Staples","shares":173,"position":12324.52},{"rank":27,"ticker":"BRO","momentum":49.795110437,"atr":1.2255,"price":62.76,"sector":"Financials","shares":203,"position":12740.28},{"rank":28,"ticker":"MSCI","momentum":49.2663408833,"atr":12.779185,"price":471.77,"sector":"Financials","shares":19,"position":8963.63},{"rank":29,"ticker":"EXR","momentum":45.9228610369,"atr":4.28124,"price":194.5,"sector":"Real Estate","shares":58,"position":11281.0},{"rank":30,"ticker":"TMUS","momentum":42.9562172921,"atr":3.339725,"price":137.74,"sector":"Communication Services","shares":74,"position":10192.76},{"rank":31,"ticker":"DHR","momentum":42.4142431825,"atr":6.728625,"price":281.78,"sector":"Health Care","shares":37,"position":10425.86},{"rank":32,"ticker":"COST","momentum":41.7478130271,"atr":12.125945,"price":510.3,"sector":"Consumer Staples","shares":20,"position":10206.0},{"rank":33,"ticker":"CNC","momentum":40.4544741153,"atr":2.335495,"price":90.03,"sector":"Health Care","shares":107,"position":9633.21},{"rank":34,"ticker":"UPS","momentum":37.9824700152,"atr":3.82668,"price":192.71,"sector":"Industrials","shares":65,"position":12526.15},{"rank":35,"ticker":"CBOE","momentum":37.7065063543,"atr":2.7895,"price":120.93,"sector":"Financials","shares":89,"position":10762.77},{"rank":36,"ticker":"XYL","momentum":37.3484072249,"atr":2.3205,"price":93.72,"sector":"Industrials","shares":107,"position":10028.04},{"rank":37,"ticker":"CTAS","momentum":35.9457103608,"atr":8.046485,"price":408.64,"sector":"Industrials","shares":31,"position":12667.84},{"rank":38,"ticker":"MCK","momentum":34.5057249371,"atr":7.622805,"price":347.89,"sector":"Health Care","shares":32,"position":11132.48},{"rank":39,"ticker":"F","momentum":33.7235104562,"atr":0.505495,"price":14.74,"sector":"Consumer Discretionary","shares":494,"position":7281.56},{"rank":40,"ticker":"MOH","momentum":32.868617707,"atr":8.97542,"price":343.39,"sector":"Health Care","shares":27,"position":9271.53},{"rank":41,"ticker":"CI","momentum":32.2500728295,"atr":5.16106,"price":286.82,"sector":"Health Care","shares":48,"position":13767.36},{"rank":42,"ticker":"AZO","momentum":31.16211895,"atr":46.95133,"price":2138.36,"sector":"Consumer Discretionary","shares":5,"position":10691.8},{"rank":43,"ticker":"IEX","momentum":31.1094321037,"atr":3.785375,"price":207.97,"sector":"Industrials","shares":66,"position":13726.02},{"rank":44,"ticker":"VRSK","momentum":30.9461617515,"atr":3.771295,"price":186.25,"sector":"Industrials","shares":66,"position":12292.5},{"rank":45,"ticker":"HII","momentum":30.6308051375,"atr":4.25008,"price":229.29,"sector":"Industrials","shares":58,"position":13298.82},{"rank":46,"ticker":"VRTX","momentum":30.442111314,"atr":7.845525,"price":280.67,"sector":"Health Care","shares":31,"position":8700.77},{"rank":47,"ticker":"JKHY","momentum":30.3302756146,"atr":4.619385,"price":194.1,"sector":"Information Technology","shares":54,"position":10481.4},{"rank":48,"ticker":"RSG","momentum":28.9725624512,"atr":2.2344,"price":146.31,"sector":"Industrials","shares":111,"position":16240.41},{"rank":49,"ticker":"RJF","momentum":28.1552287652,"atr":2.18959,"price":107.04,"sector":"Financials","shares":114,"position":12202.56},{"rank":50,"ticker":"AAPL","momentum":27.2588502764,"atr":4.016755,"price":153.84,"sector":"Information Technology","shares":62,"position":9538.08},{"rank":51,"ticker":"GIS","momentum":26.3262865375,"atr":1.32951,"price":74.35,"sector":"Consumer Staples","shares":188,"position":13977.8},{"rank":52,"ticker":"NDSN","momentum":25.8443967113,"atr":4.912575,"price":227.35,"sector":"Industrials","shares":50,"position":11367.5},{"rank":53,"ticker":"UNH","momentum":25.1859842349,"atr":9.753995,"price":513.96,"sector":"Health Care","shares":25,"position":12849.0},{"rank":54,"ticker":"CDAY","momentum":25.0607431916,"atr":2.12203,"price":60.27,"sector":"Information Technology","shares":117,"position":7051.59},{"rank":55,"ticker":"PSA","momentum":24.2754053015,"atr":7.03075,"price":327.79,"sector":"Real Estate","shares":35,"position":11472.65},{"rank":56,"ticker":"AVY","momentum":24.2733720417,"atr":3.9537,"price":184.67,"sector":"Materials","shares":63,"position":11634.21},{"rank":57,"ticker":"SPGI","momentum":23.8756184406,"atr":7.86175,"price":356.51,"sector":"Financials","shares":31,"position":11051.81},{"rank":58,"ticker":"TDG","momentum":23.4127961332,"atr":15.105315,"price":593.73,"sector":"Industrials","shares":16,"position":9499.68},{"rank":59,"ticker":"PGR","momentum":22.3720788634,"atr":2.32534,"price":126.71,"sector":"Financials","shares":107,"position":13557.97},{"rank":60,"ticker":"FISV","momentum":22.1532349986,"atr":2.378665,"price":105.92,"sector":"Information Technology","shares":105,"position":11121.6},{"rank":61,"ticker":"KDP","momentum":21.2871678695,"atr":0.68475,"price":37.69,"sector":"Consumer Staples","shares":365,"position":13756.85},{"rank":62,"ticker":"WM","momentum":21.2607147848,"atr":2.41235,"price":171.21,"sector":"Industrials","shares":103,"position":17634.63},{"rank":63,"ticker":"DG","momentum":20.3506679197,"atr":5.3995,"price":240.33,"sector":"Consumer Discretionary","shares":46,"position":11055.18},{"rank":64,"ticker":"A","momentum":20.257202586,"atr":3.84025,"price":133.54,"sector":"Health Care","shares":65,"position":8680.1},{"rank":65,"ticker":"GS","momentum":17.846821433,"atr":7.224025,"price":328.39,"sector":"Financials","shares":34,"position":11165.26},{"rank":66,"ticker":"APH","momentum":17.6819900852,"atr":1.42566,"price":74.2,"sector":"Information Technology","shares":175,"position":12985.0},{"rank":67,"ticker":"TJX","momentum":17.6574240923,"atr":1.952595,"price":64.56,"sector":"Consumer Discretionary","shares":128,"position":8263.68},{"rank":68,"ticker":"CMI","momentum":17.473711844,"atr":4.42708,"price":212.68,"sector":"Industrials","shares":56,"position":11910.08},{"rank":69,"ticker":"MCD","momentum":16.7445752218,"atr":3.57775,"price":254.33,"sector":"Consumer Discretionary","shares":69,"position":17548.77},{"rank":70,"ticker":"SCHW","momentum":15.6129621654,"atr":1.881755,"price":72.95,"sector":"Financials","shares":132,"position":9629.4},{"rank":71,"ticker":"ADSK","momentum":15.2463944826,"atr":7.238785,"price":208.34,"sector":"Information Technology","shares":34,"position":7083.56},{"rank":72,"ticker":"FTV","momentum":14.934281816,"atr":1.29737,"price":64.18,"sector":"Industrials","shares":192,"position":12322.56},{"rank":73,"ticker":"IR","momentum":14.02503544,"atr":1.42415,"price":49.56,"sector":"Industrials","shares":175,"position":8673.0},{"rank":74,"ticker":"MTB","momentum":12.314303204,"atr":3.85745,"price":186.28,"sector":"Financials","shares":64,"position":11921.92},{"rank":75,"ticker":"MMC","momentum":10.808574968,"atr":2.96025,"price":160.49,"sector":"Financials","shares":84,"position":13481.16},{"rank":76,"ticker":"APD","momentum":10.6998129761,"atr":4.98241,"price":256.08,"sector":"Materials","shares":50,"position":12804.0},{"rank":77,"ticker":"AON","momentum":10.5758894394,"atr":5.617495,"price":284.04,"sector":"Financials","shares":44,"position":12497.76},{"rank":78,"ticker":"MS","momentum":10.3058300741,"atr":2.136745,"price":87.05,"sector":"Financials","shares":117,"position":10184.85},{"rank":79,"ticker":"CARR","momentum":10.2273560315,"atr":0.971885,"price":40.88,"sector":"Industrials","shares":257,"position":10506.16},{"rank":80,"ticker":"CHRW","momentum":9.6069314285,"atr":2.40165,"price":110.06,"sector":"Industrials","shares":104,"position":11446.24},{"rank":81,"ticker":"HSY","momentum":9.1187994352,"atr":3.674475,"price":222.9,"sector":"Consumer Staples","shares":68,"position":15157.2},{"rank":82,"ticker":"SO","momentum":8.9929085447,"atr":1.270685,"price":78.23,"sector":"Utilities","shares":196,"position":15333.08},{"rank":83,"ticker":"AFL","momentum":8.4981795966,"atr":1.127,"price":60.79,"sector":"Financials","shares":221,"position":13434.59},{"rank":84,"ticker":"CDW","momentum":8.1969535827,"atr":3.801395,"price":172.45,"sector":"Information Technology","shares":65,"position":11209.25},{"rank":85,"ticker":"HWM","momentum":7.875797618,"atr":0.91512,"price":35.2,"sector":"Industrials","shares":273,"position":9609.6},{"rank":86,"ticker":"DIS","momentum":7.6320078246,"atr":2.900045,"price":111.76,"sector":"Communication Services","shares":86,"position":9611.36},{"rank":87,"ticker":"TMO","momentum":7.5836508873,"atr":11.893805,"price":559.82,"sector":"Health Care","shares":21,"position":11756.22},{"rank":88,"ticker":"ULTA","momentum":7.3081258422,"atr":12.028725,"price":430.06,"sector":"Consumer Discretionary","shares":20,"position":8601.2},{"rank":89,"ticker":"MLM","momentum":7.198074861,"atr":8.716,"price":339.6,"sector":"Materials","shares":28,"position":9508.8},{"rank":90,"ticker":"URI","momentum":7.1886011959,"atr":10.37014,"price":294.67,"sector":"Industrials","shares":24,"position":7072.08},{"rank":91,"ticker":"LOW","momentum":7.0348225352,"atr":6.11953,"price":193.63,"sector":"Consumer Discretionary","shares":40,"position":7745.2},{"rank":92,"ticker":"NOC","momentum":6.7479892969,"atr":9.30824,"price":468.93,"sector":"Industrials","shares":26,"position":12192.18},{"rank":93,"ticker":"JCI","momentum":6.7012428437,"atr":1.532,"price":56.44,"sector":"Industrials","shares":163,"position":9199.72},{"rank":94,"ticker":"CVS","momentum":6.45658464,"atr":1.927955,"price":100.45,"sector":"Health Care","shares":129,"position":12958.05},{"rank":95,"ticker":"PFG","momentum":6.3443943688,"atr":1.67175,"price":77.41,"sector":"Financials","shares":149,"position":11534.09},{"rank":96,"ticker":"GL","momentum":6.0014093079,"atr":1.8423,"price":101.97,"sector":"Financials","shares":135,"position":13765.95},{"rank":97,"ticker":"RF","momentum":5.9163583186,"atr":0.547225,"price":21.68,"sector":"Financials","shares":456,"position":9886.08},{"rank":98,"ticker":"CTXS","momentum":5.2125147547,"atr":0.48575,"price":103.53,"sector":"Information Technology","shares":514,"position":53214.42},{"rank":99,"ticker":"ROL","momentum":5.1457050365,"atr":0.74075,"price":35.93,"sector":"Industrials","shares":337,"position":12108.41},{"rank":100,"ticker":"AWK","momentum":5.1454801796,"atr":3.3031,"price":152.14,"sector":"Utilities","shares":75,"position":11410.5},{"rank":101,"ticker":"PH","momentum":4.9528945491,"atr":7.3075,"price":270.28,"sector":"Industrials","shares":34,"position":9189.52},{"rank":102,"ticker":"GPN","momentum":4.6601031175,"atr":3.15814,"price":132.17,"sector":"Information Technology","shares":79,"position":10441.43},{"rank":103,"ticker":"BSX","momentum":4.5231366412,"atr":0.85275,"price":42.18,"sector":"Health Care","shares":293,"position":12358.74},{"rank":104,"ticker":"LNT","momentum":4.0850950126,"atr":1.083455,"price":61.42,"sector":"Utilities","shares":230,"position":14126.6},{"rank":105,"ticker":"CF","momentum":3.9096606342,"atr":4.232935,"price":100.15,"sector":"Materials","shares":59,"position":5908.85},{"rank":106,"ticker":"ECL","momentum":3.7572282835,"atr":4.0137,"price":166.3,"sector":"Materials","shares":62,"position":10310.6},{"rank":107,"ticker":"SRE","momentum":3.6810584691,"atr":2.978105,"price":170.83,"sector":"Utilities","shares":83,"position":14178.89},{"rank":108,"ticker":"SJM","momentum":3.6665280547,"atr":2.896395,"price":139.34,"sector":"Consumer Staples","shares":86,"position":11983.24},{"rank":109,"ticker":"CNP","momentum":3.5162801715,"atr":0.587995,"price":32.35,"sector":"Utilities","shares":425,"position":13748.75},{"rank":110,"ticker":"ED","momentum":3.3072211217,"atr":1.724,"price":98.82,"sector":"Utilities","shares":145,"position":14328.9},{"rank":111,"ticker":"UNP","momentum":3.2889895801,"atr":4.31833,"price":226.29,"sector":"Industrials","shares":57,"position":12898.53},{"rank":112,"ticker":"AMP","momentum":2.905424424,"atr":6.66561,"price":277.72,"sector":"Financials","shares":37,"position":10275.64},{"rank":113,"ticker":"DRI","momentum":2.6844460339,"atr":3.449,"price":128.71,"sector":"Consumer Discretionary","shares":72,"position":9267.12},{"rank":114,"ticker":"HBAN","momentum":2.6517522281,"atr":0.349835,"price":14.02,"sector":"Financials","shares":714,"position":10010.28},{"rank":115,"ticker":"NSC","momentum":2.6466510061,"atr":5.0565,"price":243.3,"sector":"Industrials","shares":49,"position":11921.7},{"rank":116,"ticker":"AME","momentum":2.6023693522,"atr":2.448725,"price":123.25,"sector":"Industrials","shares":102,"position":12571.5},{"rank":117,"ticker":"VMC","momentum":2.5423241741,"atr":4.034,"price":163.66,"sector":"Materials","shares":61,"position":9983.26},{"rank":118,"ticker":"GM","momentum":2.2499538274,"atr":1.307995,"price":40.53,"sector":"Consumer Discretionary","shares":191,"position":7741.23},{"rank":119,"ticker":"NTAP","momentum":2.2179446312,"atr":1.995,"price":71.06,"sector":"Information Technology","shares":125,"position":8882.5},{"rank":120,"ticker":"CTVA","momentum":2.1776388104,"atr":1.3198,"price":62.65,"sector":"Materials","shares":189,"position":11840.85},{"rank":121,"ticker":"ATO","momentum":2.0962546008,"atr":1.85425,"price":116.46,"sector":"Utilities","shares":134,"position":15605.64},{"rank":122,"ticker":"ETN","momentum":2.0399861561,"atr":3.50854,"price":142.51,"sector":"Industrials","shares":71,"position":10118.21},{"rank":123,"ticker":"MTD","momentum":1.980929533,"atr":31.495225,"price":1270.63,"sector":"Health Care","shares":7,"position":8894.41},{"rank":124,"ticker":"TEL","momentum":1.8822510549,"atr":3.144685,"price":126.33,"sector":"Information Technology","shares":79,"position":9980.07},{"rank":125,"ticker":"SNA","momentum":1.8280086808,"atr":4.3665,"price":217.21,"sector":"Industrials","shares":57,"position":12380.97},{"rank":126,"ticker":"AVB","momentum":1.4870124946,"atr":4.56939,"price":207.85,"sector":"Real Estate","shares":54,"position":11223.9},{"rank":127,"ticker":"STT","momentum":1.4858165587,"atr":1.83812,"price":72.13,"sector":"Financials","shares":136,"position":9809.68},{"rank":128,"ticker":"WEC","momentum":1.4558248297,"atr":1.787995,"price":103.8,"sector":"Utilities","shares":139,"position":14428.2},{"rank":129,"ticker":"ZION","momentum":1.4439097843,"atr":1.368245,"price":57.3,"sector":"Financials","shares":182,"position":10428.6},{"rank":130,"ticker":"DTE","momentum":1.4003726718,"atr":2.0575,"price":132.98,"sector":"Utilities","shares":121,"position":16090.58},{"rank":131,"ticker":"EVRG","momentum":1.3012101263,"atr":1.223755,"price":68.81,"sector":"Utilities","shares":204,"position":14037.24},{"rank":132,"ticker":"AEP","momentum":1.1836042619,"atr":1.94973,"price":102.2,"sector":"Utilities","shares":128,"position":13081.6},{"rank":133,"ticker":"WFC","momentum":1.1777047719,"atr":1.1475,"price":43.22,"sector":"Financials","shares":217,"position":9378.74},{"rank":134,"ticker":"GD","momentum":0.9710000576,"atr":4.40788,"price":227.98,"sector":"Industrials","shares":56,"position":12766.88},{"rank":135,"ticker":"WAB","momentum":0.8247833993,"atr":2.14225,"price":90.04,"sector":"Industrials","shares":116,"position":10444.64},{"rank":136,"ticker":"GILD","momentum":0.7737847032,"atr":1.35754,"price":65.1,"sector":"Health Care","shares":184,"position":11978.4},{"rank":137,"ticker":"XEL","momentum":0.7173789594,"atr":1.30325,"price":75.08,"sector":"Utilities","shares":191,"position":14340.28},{"rank":138,"ticker":"EIX","momentum":0.5836379318,"atr":1.496075,"price":68.9,"sector":"Utilities","shares":167,"position":11506.3},{"rank":139,"ticker":"BDX","momentum":0.5383851331,"atr":4.61225,"price":256.78,"sector":"Health Care","shares":54,"position":13866.12},{"rank":140,"ticker":"AEE","momentum":0.497970153,"atr":1.61255,"price":93.08,"sector":"Utilities","shares":155,"position":14427.4},{"rank":141,"ticker":"PPL","momentum":0.4871750725,"atr":0.49146,"price":29.42,"sector":"Utilities","shares":508,"position":14945.36},{"rank":142,"ticker":"PNW","momentum":0.4794534748,"atr":1.3501,"price":75.07,"sector":"Utilities","shares":185,"position":13887.95},{"rank":143,"ticker":"ES","momentum":0.3736186216,"atr":1.60697,"price":89.64,"sector":"Utilities","shares":155,"position":13894.2},{"rank":144,"ticker":"IRM","momentum":0.3402081724,"atr":1.31639,"price":54.79,"sector":"Real Estate","shares":189,"position":10355.31},{"rank":145,"ticker":"XOM","momentum":0.2497955248,"atr":2.640925,"price":95.33,"sector":"Energy","shares":94,"position":8961.02},{"rank":146,"ticker":"MET","momentum":0.1320943555,"atr":1.325505,"price":66.47,"sector":"Financials","shares":188,"position":12496.36},{"rank":147,"ticker":"ETR","momentum":0.130461421,"atr":2.173,"price":117.71,"sector":"Utilities","shares":115,"position":13536.65},{"rank":148,"ticker":"WMT","momentum":0.0925263655,"atr":2.83345,"price":135.22,"sector":"Consumer Staples","shares":88,"position":11899.36},{"rank":149,"ticker":"D","momentum":0.0698252871,"atr":1.36225,"price":82.24,"sector":"Utilities","shares":183,"position":15049.92},{"rank":150,"ticker":"ITW","momentum":0.0432637364,"atr":4.434875,"price":200.43,"sector":"Industrials","shares":56,"position":11224.08},{"rank":151,"ticker":"BWA","momentum":0.0334727357,"atr":1.166,"price":37.94,"sector":"Consumer Discretionary","shares":214,"position":8119.16},{"rank":152,"ticker":"ADM","momentum":0.0144228446,"atr":2.307585,"price":86.35,"sector":"Consumer Staples","shares":108,"position":9325.8},{"rank":153,"ticker":"MPC","momentum":0.0027236156,"atr":2.7984,"price":97.65,"sector":"Energy","shares":89,"position":8690.85},{"rank":154,"ticker":"MGM","momentum":0.0011048068,"atr":1.24821,"price":33.87,"sector":"Consumer Discretionary","shares":200,"position":6774.0},{"rank":155,"ticker":"COP","momentum":-0.0060983904,"atr":3.454995,"price":112.33,"sector":"Energy","shares":72,"position":8087.76},{"rank":156,"ticker":"PEG","momentum":-0.0376494564,"atr":1.358765,"price":66.84,"sector":"Utilities","shares":183,"position":12231.72},{"rank":157,"ticker":"OKE","momentum":-0.1463256139,"atr":1.5915,"price":61.68,"sector":"Energy","shares":157,"position":9683.76},{"rank":158,"ticker":"DVN","momentum":-0.2130495982,"atr":2.8778,"price":69.07,"sector":"Energy","shares":86,"position":5940.02},{"rank":159,"ticker":"BK","momentum":-0.3110472978,"atr":0.99895,"price":44.11,"sector":"Financials","shares":250,"position":11027.5},{"rank":160,"ticker":"FE","momentum":-0.64691837,"atr":0.738405,"price":41.15,"sector":"Utilities","shares":338,"position":13908.7},{"rank":161,"ticker":"RE","momentum":-0.9331056212,"atr":5.0099,"price":279.48,"sector":"Financials","shares":49,"position":13694.52},{"rank":162,"ticker":"NRG","momentum":-0.9752250354,"atr":0.96507,"price":43.36,"sector":"Utilities","shares":259,"position":11230.24},{"rank":163,"ticker":"CTRA","momentum":-1.5604492057,"atr":1.1288,"price":30.06,"sector":"Energy","shares":221,"position":6643.26},{"rank":164,"ticker":"SYK","momentum":-2.4517540085,"atr":5.64756,"price":225.85,"sector":"Health Care","shares":44,"position":9937.4},{"rank":165,"ticker":"CVX","momentum":-2.907454196,"atr":3.797405,"price":159.41,"sector":"Energy","shares":65,"position":10361.65},{"rank":166,"ticker":"WRB","momentum":-3.4986434027,"atr":1.2674,"price":66.72,"sector":"Financials","shares":197,"position":13143.84}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VLO","momentum":260.4116847601,"atr":5.52584,"price":128.12,"sector":"Energy","shares":45,"position":5765.4},{"rank":2,"ticker":"CTRA","momentum":241.3037931283,"atr":1.56262,"price":34.65,"sector":"Energy","shares":159,"position":5509.35},{"rank":3,"ticker":"CF","momentum":179.00629647,"atr":6.10671,"price":96.71,"sector":"Materials","shares":40,"position":3868.4},{"rank":4,"ticker":"MCK","momentum":120.8958799807,"atr":10.21615,"price":336.42,"sector":"Health Care","shares":24,"position":8074.08},{"rank":5,"ticker":"MPC","momentum":120.4761862975,"atr":3.562965,"price":99.48,"sector":"Energy","shares":70,"position":6963.6},{"rank":6,"ticker":"CEG","momentum":95.2724659247,"atr":2.94691,"price":62.47,"sector":"Utilities","shares":84,"position":5247.48},{"rank":7,"ticker":"LLY","momentum":94.6234990809,"atr":9.35375,"price":313.46,"sector":"Health Care","shares":26,"position":8149.96},{"rank":8,"ticker":"CVX","momentum":90.9631187232,"atr":5.7835,"price":176.59,"sector":"Energy","shares":43,"position":7593.37},{"rank":9,"ticker":"WMB","momentum":82.0481766093,"atr":1.08653,"price":36.92,"sector":"Energy","shares":230,"position":8491.6},{"rank":10,"ticker":"BMY","momentum":79.4239121908,"atr":1.61525,"price":77.59,"sector":"Health Care","shares":154,"position":11948.86},{"rank":11,"ticker":"SRE","momentum":78.019904343,"atr":3.9376,"price":164.85,"sector":"Utilities","shares":63,"position":10385.55},{"rank":12,"ticker":"WRB","momentum":73.3296978019,"atr":1.76629,"price":70.11,"sector":"Financials","shares":141,"position":9885.51},{"rank":13,"ticker":"CTVA","momentum":73.2430285133,"atr":1.95626,"price":63.17,"sector":"Materials","shares":127,"position":8022.59},{"rank":14,"ticker":"AIZ","momentum":67.5842872934,"atr":5.0755,"price":180.05,"sector":"Financials","shares":49,"position":8822.45},{"rank":15,"ticker":"ADM","momentum":62.9474527866,"atr":2.79531,"price":88.31,"sector":"Consumer Staples","shares":89,"position":7859.59},{"rank":16,"ticker":"EXC","momentum":58.5976500326,"atr":1.205,"price":49.16,"sector":"Utilities","shares":207,"position":10176.12},{"rank":17,"ticker":"PXD","momentum":57.7108666883,"atr":11.13921,"price":279.99,"sector":"Energy","shares":22,"position":6159.78},{"rank":18,"ticker":"HAL","momentum":57.2976659422,"atr":1.78395,"price":40.16,"sector":"Energy","shares":140,"position":5622.4},{"rank":19,"ticker":"ED","momentum":53.5808172269,"atr":2.303615,"price":99.87,"sector":"Utilities","shares":108,"position":10785.96},{"rank":20,"ticker":"IRM","momentum":52.7376485264,"atr":1.82648,"price":51.96,"sector":"Real Estate","shares":136,"position":7066.56},{"rank":21,"ticker":"MRK","momentum":52.3986027329,"atr":2.04151,"price":92.31,"sector":"Health Care","shares":122,"position":11261.82},{"rank":22,"ticker":"DOW","momentum":49.3766569264,"atr":1.957095,"price":67.84,"sector":"Materials","shares":127,"position":8615.68},{"rank":23,"ticker":"CNP","momentum":47.4910543725,"atr":0.709,"price":31.98,"sector":"Utilities","shares":352,"position":11256.96},{"rank":24,"ticker":"CI","momentum":46.2719954843,"atr":7.49335,"price":268.88,"sector":"Health Care","shares":33,"position":8873.04},{"rank":25,"ticker":"ABC","momentum":45.4588311247,"atr":4.98125,"price":155.8,"sector":"Health Care","shares":50,"position":7790.0},{"rank":26,"ticker":"AEP","momentum":45.4584919436,"atr":2.28745,"price":102.58,"sector":"Utilities","shares":109,"position":11181.22},{"rank":27,"ticker":"COP","momentum":44.4555221839,"atr":4.68075,"price":113.15,"sector":"Energy","shares":53,"position":5996.95},{"rank":28,"ticker":"ANTM","momentum":40.4200849012,"atr":14.115,"price":512.43,"sector":"Health Care","shares":17,"position":8711.31},{"rank":29,"ticker":"SO","momentum":35.5734015003,"atr":1.606885,"price":75.29,"sector":"Utilities","shares":155,"position":11669.95},{"rank":30,"ticker":"DTE","momentum":32.8443211641,"atr":2.938745,"price":133.19,"sector":"Utilities","shares":85,"position":11321.15},{"rank":31,"ticker":"HST","momentum":32.3163174387,"atr":0.98704,"price":20.36,"sector":"Real Estate","shares":253,"position":5151.08},{"rank":32,"ticker":"XEL","momentum":31.9866295192,"atr":1.6716,"price":74.96,"sector":"Utilities","shares":149,"position":11169.04},{"rank":33,"ticker":"LYB","momentum":31.2080413973,"atr":3.72993,"price":111.5,"sector":"Materials","shares":67,"position":7470.5},{"rank":34,"ticker":"CMS","momentum":30.6999020825,"atr":1.56835,"price":70.81,"sector":"Utilities","shares":159,"position":11258.79},{"rank":35,"ticker":"WEC","momentum":29.856797918,"atr":2.549295,"price":105.4,"sector":"Utilities","shares":98,"position":10329.2},{"rank":36,"ticker":"TAP","momentum":29.7805707651,"atr":1.775085,"price":54.53,"sector":"Consumer Staples","shares":140,"position":7634.2},{"rank":37,"ticker":"KR","momentum":29.7661024402,"atr":1.838235,"price":52.14,"sector":"Consumer Staples","shares":136,"position":7091.04},{"rank":38,"ticker":"ROL","momentum":29.1847098814,"atr":1.051465,"price":36.25,"sector":"Industrials","shares":237,"position":8591.25},{"rank":39,"ticker":"KMI","momentum":28.9548945051,"atr":0.56562,"price":19.62,"sector":"Energy","shares":441,"position":8652.42},{"rank":40,"ticker":"EIX","momentum":28.8099146847,"atr":1.8995,"price":69.03,"sector":"Utilities","shares":131,"position":9042.93},{"rank":41,"ticker":"ETR","momentum":27.6047993758,"atr":2.779875,"price":119.88,"sector":"Utilities","shares":89,"position":10669.32},{"rank":42,"ticker":"VRTX","momentum":27.5131135682,"atr":9.791495,"price":269.65,"sector":"Health Care","shares":25,"position":6741.25},{"rank":43,"ticker":"PWR","momentum":26.4339967117,"atr":4.84575,"price":120.63,"sector":"Industrials","shares":51,"position":6152.13},{"rank":44,"ticker":"AEE","momentum":26.3646825188,"atr":1.89663,"price":95.87,"sector":"Utilities","shares":131,"position":12558.97},{"rank":45,"ticker":"PKG","momentum":24.6230369012,"atr":4.25338,"price":156.41,"sector":"Materials","shares":58,"position":9071.78},{"rank":46,"ticker":"DUK","momentum":24.2430350452,"atr":2.530635,"price":113.23,"sector":"Utilities","shares":98,"position":11096.54},{"rank":47,"ticker":"HII","momentum":23.8198649059,"atr":6.66684,"price":211.5,"sector":"Industrials","shares":37,"position":7825.5},{"rank":48,"ticker":"TMUS","momentum":23.5949112506,"atr":4.201495,"price":132.74,"sector":"Communication Services","shares":59,"position":7831.66},{"rank":49,"ticker":"AMGN","momentum":22.0525770077,"atr":5.1987,"price":253.05,"sector":"Health Care","shares":48,"position":12146.4},{"rank":50,"ticker":"JKHY","momentum":21.8317354906,"atr":5.057745,"price":186.62,"sector":"Information Technology","shares":49,"position":9144.38},{"rank":51,"ticker":"EVRG","momentum":18.9660012993,"atr":1.5432,"price":69.56,"sector":"Utilities","shares":162,"position":11268.72},{"rank":52,"ticker":"K","momentum":18.4685548357,"atr":2.101685,"price":69.88,"sector":"Consumer Staples","shares":118,"position":8245.84},{"rank":53,"ticker":"ATO","momentum":18.2146909247,"atr":2.56458,"price":116.74,"sector":"Utilities","shares":97,"position":11323.78},{"rank":54,"ticker":"WM","momentum":18.0157381426,"atr":4.0922,"price":157.99,"sector":"Industrials","shares":61,"position":9637.39},{"rank":55,"ticker":"J","momentum":17.8866904672,"atr":4.30717,"price":137.89,"sector":"Industrials","shares":58,"position":7997.62},{"rank":56,"ticker":"CPB","momentum":17.5395721846,"atr":1.46419,"price":47.9,"sector":"Consumer Staples","shares":170,"position":8143.0},{"rank":57,"ticker":"HSIC","momentum":16.4080655825,"atr":2.472,"price":85.62,"sector":"Health Care","shares":101,"position":8647.62},{"rank":58,"ticker":"PNW","momentum":14.4418723049,"atr":1.98236,"price":78.32,"sector":"Utilities","shares":126,"position":9868.32},{"rank":59,"ticker":"L","momentum":14.1121414675,"atr":1.639,"price":64.78,"sector":"Financials","shares":152,"position":9846.56},{"rank":60,"ticker":"FMC","momentum":13.8470330941,"atr":4.476465,"price":123.14,"sector":"Materials","shares":55,"position":6772.7},{"rank":61,"ticker":"DG","momentum":13.3933419714,"atr":9.98274,"price":222.13,"sector":"Consumer Discretionary","shares":25,"position":5553.25},{"rank":62,"ticker":"VTR","momentum":13.1925943944,"atr":1.8032,"price":56.38,"sector":"Real Estate","shares":138,"position":7780.44},{"rank":63,"ticker":"HOLX","momentum":12.9630344371,"atr":2.03325,"price":76.19,"sector":"Health Care","shares":122,"position":9295.18},{"rank":64,"ticker":"BALL","momentum":12.6384206454,"atr":0.1,"price":71.76,"sector":"Materials","shares":2500,"position":179400.0},{"rank":65,"ticker":"NI","momentum":12.6356491576,"atr":0.64665,"price":31.54,"sector":"Utilities","shares":386,"position":12174.44},{"rank":66,"ticker":"D","momentum":12.2206097702,"atr":2.002095,"price":84.58,"sector":"Utilities","shares":124,"position":10487.92},{"rank":67,"ticker":"REGN","momentum":11.9505365353,"atr":20.218395,"price":683.44,"sector":"Health Care","shares":12,"position":8201.28},{"rank":68,"ticker":"PEG","momentum":11.3032025582,"atr":1.4254,"price":67.98,"sector":"Utilities","shares":175,"position":11896.5},{"rank":69,"ticker":"SBAC","momentum":10.8464689276,"atr":11.96725,"price":338.45,"sector":"Real Estate","shares":20,"position":6769.0},{"rank":70,"ticker":"RSG","momentum":10.4533802422,"atr":3.5012,"price":134.14,"sector":"Industrials","shares":71,"position":9523.94},{"rank":71,"ticker":"ALL","momentum":10.0214643278,"atr":3.4875,"price":133.69,"sector":"Financials","shares":71,"position":9491.99},{"rank":72,"ticker":"ES","momentum":9.9408183498,"atr":2.140035,"price":92.19,"sector":"Utilities","shares":116,"position":10694.04},{"rank":73,"ticker":"CHRW","momentum":9.8258708926,"atr":3.58045,"price":107.61,"sector":"Industrials","shares":69,"position":7425.09},{"rank":74,"ticker":"CINF","momentum":9.0853668425,"atr":3.704795,"price":127.06,"sector":"Financials","shares":67,"position":8513.02},{"rank":75,"ticker":"UNH","momentum":8.4101414165,"atr":14.423175,"price":502.23,"sector":"Health Care","shares":17,"position":8537.91},{"rank":76,"ticker":"INCY","momentum":7.9955813948,"atr":2.54299,"price":76.02,"sector":"Health Care","shares":98,"position":7449.96},{"rank":77,"ticker":"CERN","momentum":7.1857246643,"atr":0.36225,"price":94.55,"sector":"Health Care","shares":690,"position":65239.5},{"rank":78,"ticker":"AMCR","momentum":7.1576423323,"atr":0.42479,"price":13.1,"sector":"Materials","shares":588,"position":7702.8},{"rank":79,"ticker":"SLB","momentum":7.0523280929,"atr":2.11075,"price":46.69,"sector":"Energy","shares":118,"position":5509.42},{"rank":80,"ticker":"STZ","momentum":6.7906129998,"atr":5.84013,"price":244.37,"sector":"Consumer Staples","shares":42,"position":10263.54},{"rank":81,"ticker":"PSX","momentum":5.4868378954,"atr":3.667,"price":98.68,"sector":"Energy","shares":68,"position":6710.24},{"rank":82,"ticker":"OKE","momentum":5.3834182493,"atr":2.329485,"price":65.82,"sector":"Energy","shares":107,"position":7042.74},{"rank":83,"ticker":"NRG","momentum":5.1967092669,"atr":1.461,"price":46.71,"sector":"Utilities","shares":171,"position":7987.41},{"rank":84,"ticker":"CB","momentum":4.864971317,"atr":5.075155,"price":207.7,"sector":"Financials","shares":49,"position":10177.3},{"rank":85,"ticker":"ADP","momentum":4.6858372042,"atr":6.142275,"price":218.28,"sector":"Information Technology","shares":40,"position":8731.2},{"rank":86,"ticker":"FE","momentum":4.5862539536,"atr":1.066,"price":43.32,"sector":"Utilities","shares":234,"position":10136.88},{"rank":87,"ticker":"PGR","momentum":3.9945603553,"atr":3.18,"price":116.81,"sector":"Financials","shares":78,"position":9111.18},{"rank":88,"ticker":"CCI","momentum":3.549679528,"atr":5.125335,"price":187.53,"sector":"Real Estate","shares":48,"position":9001.44},{"rank":89,"ticker":"GIS","momentum":3.0638595129,"atr":1.877315,"price":69.46,"sector":"Consumer Staples","shares":133,"position":9238.18},{"rank":90,"ticker":"SNA","momentum":2.8373119645,"atr":6.760365,"price":219.27,"sector":"Industrials","shares":36,"position":7893.72},{"rank":91,"ticker":"FANG","momentum":2.7489742591,"atr":7.224945,"price":146.43,"sector":"Energy","shares":34,"position":4978.62},{"rank":92,"ticker":"SYY","momentum":2.4906215964,"atr":3.31784,"price":82.84,"sector":"Consumer Staples","shares":75,"position":6213.0},{"rank":93,"ticker":"HWM","momentum":2.0699778117,"atr":1.44775,"price":34.61,"sector":"Industrials","shares":172,"position":5952.92},{"rank":94,"ticker":"TRV","momentum":1.8652002301,"atr":3.62803,"price":174.87,"sector":"Financials","shares":68,"position":11891.16},{"rank":95,"ticker":"LNT","momentum":1.4697472357,"atr":1.55375,"price":62.46,"sector":"Utilities","shares":160,"position":9993.6},{"rank":96,"ticker":"OGN","momentum":1.4500773958,"atr":1.27711,"price":38.56,"sector":"Health Care","shares":195,"position":7519.2},{"rank":97,"ticker":"GPC","momentum":1.2844424221,"atr":4.1905,"price":136.04,"sector":"Consumer Discretionary","shares":59,"position":8026.36},{"rank":98,"ticker":"AZO","momentum":1.2835282338,"atr":86.384645,"price":2028.96,"sector":"Consumer Discretionary","shares":2,"position":4057.92},{"rank":99,"ticker":"LIN","momentum":0.9721415179,"atr":8.27087,"price":320.33,"sector":"Materials","shares":30,"position":9609.9},{"rank":100,"ticker":"IP","momentum":0.9264751516,"atr":1.31925,"price":48.68,"sector":"Materials","shares":189,"position":9200.52},{"rank":101,"ticker":"DGX","momentum":0.7954650122,"atr":3.709875,"price":141.65,"sector":"Health Care","shares":67,"position":9490.55},{"rank":102,"ticker":"MAR","momentum":0.6083332042,"atr":7.904155,"price":170.17,"sector":"Consumer Discretionary","shares":31,"position":5275.27},{"rank":103,"ticker":"MNST","momentum":0.5734191651,"atr":2.87995,"price":88.73,"sector":"Consumer Staples","shares":86,"position":7630.78},{"rank":104,"ticker":"PPL","momentum":0.4477593692,"atr":0.617945,"price":30.24,"sector":"Utilities","shares":404,"position":12216.96},{"rank":105,"ticker":"WDC","momentum":0.3697520993,"atr":2.93151,"price":60.68,"sector":"Information Technology","shares":85,"position":5157.8},{"rank":106,"ticker":"IBM","momentum":0.3210385224,"atr":3.76125,"price":136.89,"sector":"Information Technology","shares":66,"position":9034.74},{"rank":107,"ticker":"FLT","momentum":0.2896397663,"atr":9.473875,"price":240.37,"sector":"Information Technology","shares":26,"position":6249.62},{"rank":108,"ticker":"AMT","momentum":0.1791172727,"atr":8.04927,"price":254.69,"sector":"Real Estate","shares":31,"position":7895.39},{"rank":109,"ticker":"LUV","momentum":0.0680903214,"atr":1.76208,"price":45.0,"sector":"Industrials","shares":141,"position":6345.0},{"rank":110,"ticker":"PEP","momentum":0.0143619586,"atr":4.33794,"price":170.11,"sector":"Consumer Staples","shares":57,"position":9696.27},{"rank":111,"ticker":"KMB","momentum":-0.0000669513,"atr":3.390975,"price":132.41,"sector":"Consumer Staples","shares":73,"position":9665.93},{"rank":112,"ticker":"PM","momentum":-0.0104314385,"atr":3.15225,"price":108.07,"sector":"Consumer Staples","shares":79,"position":8537.53},{"rank":113,"ticker":"PFE","momentum":-0.0152245279,"atr":1.442645,"price":53.99,"sector":"Health Care","shares":173,"position":9340.27},{"rank":114,"ticker":"ADI","momentum":-0.0168793911,"atr":5.639615,"price":164.0,"sector":"Information Technology","shares":44,"position":7216.0},{"rank":115,"ticker":"WAT","momentum":-0.2506336941,"atr":12.7325,"price":319.89,"sector":"Health Care","shares":19,"position":6077.91},{"rank":116,"ticker":"GILD","momentum":-1.2844225856,"atr":1.345245,"price":64.47,"sector":"Health Care","shares":185,"position":11926.95},{"rank":117,"ticker":"SNPS","momentum":-1.4338858091,"atr":13.80775,"price":306.1,"sector":"Information Technology","shares":18,"position":5509.8},{"rank":118,"ticker":"SHW","momentum":-2.1635288907,"atr":9.759395,"price":271.97,"sector":"Materials","shares":25,"position":6799.25},{"rank":119,"ticker":"CE","momentum":-2.3824586025,"atr":5.965915,"price":155.75,"sector":"Materials","shares":41,"position":6385.75},{"rank":120,"ticker":"MTB","momentum":-2.5031949878,"atr":5.5202,"price":177.75,"sector":"Financials","shares":45,"position":7998.75},{"rank":121,"ticker":"EXPD","momentum":-2.6538099015,"atr":4.096,"price":108.71,"sector":"Industrials","shares":61,"position":6631.31},{"rank":122,"ticker":"IFF","momentum":-4.0839479748,"atr":4.1275,"price":131.0,"sector":"Materials","shares":60,"position":7860.0},{"rank":123,"ticker":"FIS","momentum":-4.8652061645,"atr":3.644255,"price":104.2,"sector":"Information Technology","shares":68,"position":7085.6},{"rank":124,"ticker":"EA","momentum":-5.2528070579,"atr":4.997105,"price":138.68,"sector":"Communication Services","shares":50,"position":6934.0},{"rank":125,"ticker":"NXPI","momentum":-15.8444175163,"atr":7.994745,"price":192.63,"sector":"Information Technology","shares":31,"position":5971.53},{"rank":126,"ticker":"MAS","momentum":-18.3901134491,"atr":1.89255,"price":57.11,"sector":"Industrials","shares":132,"position":7538.52}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

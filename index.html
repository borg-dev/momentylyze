<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":281.2232740042,"atr":12.01712,"price":507.49,"sector":"Information Technology","shares":20,"position":10149.8},{"rank":2,"ticker":"DXCM","momentum":200.3456831999,"atr":16.726745,"price":541.83,"sector":"Health Care","shares":14,"position":7585.62},{"rank":3,"ticker":"IT","momentum":174.9665758839,"atr":8.24599,"price":304.2,"sector":"Information Technology","shares":30,"position":9126.0},{"rank":4,"ticker":"CMG","momentum":155.3385746527,"atr":40.49123,"price":1833.89,"sector":"Consumer Discretionary","shares":6,"position":11003.34},{"rank":5,"ticker":"FTNT","momentum":147.7972843758,"atr":9.35545,"price":301.8,"sector":"Information Technology","shares":26,"position":7846.8},{"rank":6,"ticker":"WST","momentum":129.1851011048,"atr":12.147895,"price":413.29,"sector":"Health Care","shares":20,"position":8265.8},{"rank":7,"ticker":"CTLT","momentum":128.5618886587,"atr":3.342735,"price":129.36,"sector":"Health Care","shares":74,"position":9572.64},{"rank":8,"ticker":"BIO","momentum":124.194140029,"atr":20.124595,"price":722.77,"sector":"Health Care","shares":12,"position":8673.24},{"rank":9,"ticker":"NOW","momentum":119.2547865374,"atr":15.5175,"price":629.36,"sector":"Information Technology","shares":16,"position":10069.76},{"rank":10,"ticker":"MSCI","momentum":117.4143682869,"atr":16.923385,"price":599.94,"sector":"Financials","shares":14,"position":8399.16},{"rank":11,"ticker":"DHR","momentum":109.8121297199,"atr":7.32084,"price":300.6,"sector":"Health Care","shares":34,"position":10220.4},{"rank":12,"ticker":"AMD","momentum":99.3800240018,"atr":2.96432,"price":103.64,"sector":"Information Technology","shares":84,"position":8705.76},{"rank":13,"ticker":"TMO","momentum":98.0688770253,"atr":15.938045,"price":575.6,"sector":"Health Care","shares":15,"position":8634.0},{"rank":14,"ticker":"CDNS","momentum":97.8000523777,"atr":3.75275,"price":150.04,"sector":"Information Technology","shares":66,"position":9902.64},{"rank":15,"ticker":"PWR","momentum":96.9591310163,"atr":3.148225,"price":111.71,"sector":"Industrials","shares":79,"position":8825.09},{"rank":16,"ticker":"CRL","momentum":94.2000735844,"atr":12.69425,"price":407.82,"sector":"Health Care","shares":19,"position":7748.58},{"rank":17,"ticker":"PKI","momentum":92.2873740014,"atr":4.70255,"price":170.25,"sector":"Health Care","shares":53,"position":9023.25},{"rank":18,"ticker":"AON","momentum":81.1974153286,"atr":5.65243,"price":290.83,"sector":"Financials","shares":44,"position":12796.52},{"rank":19,"ticker":"RMD","momentum":80.1861831965,"atr":6.252625,"price":256.17,"sector":"Health Care","shares":39,"position":9990.63},{"rank":20,"ticker":"SNPS","momentum":79.4813179617,"atr":7.422055,"price":294.57,"sector":"Information Technology","shares":33,"position":9720.81},{"rank":21,"ticker":"VRSK","momentum":78.463693804,"atr":3.35152,"price":203.73,"sector":"Industrials","shares":74,"position":15076.02},{"rank":22,"ticker":"COST","momentum":77.3263700417,"atr":8.73342,"price":449.34,"sector":"Consumer Staples","shares":28,"position":12581.52},{"rank":23,"ticker":"INTU","momentum":73.2105979534,"atr":12.66072,"price":534.61,"sector":"Information Technology","shares":19,"position":10157.59},{"rank":24,"ticker":"HOLX","momentum":70.4579433265,"atr":1.7253,"price":71.34,"sector":"Health Care","shares":144,"position":10272.96},{"rank":25,"ticker":"DGX","momentum":65.1759116592,"atr":3.007565,"price":142.33,"sector":"Health Care","shares":83,"position":11813.39},{"rank":26,"ticker":"ISRG","momentum":63.3989591785,"atr":9.1279133333,"price":334.94,"sector":"Health Care","shares":27,"position":9043.38},{"rank":27,"ticker":"TECH","momentum":63.2674647386,"atr":15.59499,"price":483.57,"sector":"Health Care","shares":16,"position":7737.12},{"rank":28,"ticker":"KEYS","momentum":60.6328841345,"atr":3.473745,"price":161.15,"sector":"Information Technology","shares":71,"position":11441.65},{"rank":29,"ticker":"ODFL","momentum":60.5887429417,"atr":6.74598,"price":292.84,"sector":"Industrials","shares":37,"position":10835.08},{"rank":30,"ticker":"ACN","momentum":60.3702162912,"atr":6.396995,"price":325.19,"sector":"Information Technology","shares":39,"position":12682.41},{"rank":31,"ticker":"EW","momentum":60.3396803505,"atr":2.885115,"price":109.48,"sector":"Health Care","shares":86,"position":9415.28},{"rank":32,"ticker":"GOOGL","momentum":59.8310341213,"atr":57.746,"price":2751.3,"sector":"Communication Services","shares":4,"position":11005.2},{"rank":33,"ticker":"NVDA","momentum":57.8933323998,"atr":6.798745,"price":207.0,"sector":"Information Technology","shares":36,"position":7452.0},{"rank":34,"ticker":"GRMN","momentum":55.2256287987,"atr":3.619135,"price":156.29,"sector":"Consumer Discretionary","shares":69,"position":10784.01},{"rank":35,"ticker":"RSG","momentum":52.0959659624,"atr":1.92592,"price":123.51,"sector":"Industrials","shares":129,"position":15932.79},{"rank":36,"ticker":"MMC","momentum":51.1180621453,"atr":2.92948,"price":155.25,"sector":"Financials","shares":85,"position":13196.25},{"rank":37,"ticker":"CARR","momentum":50.9585946687,"atr":1.2975,"price":52.61,"sector":"Industrials","shares":192,"position":10101.12},{"rank":38,"ticker":"NDAQ","momentum":47.8824119142,"atr":3.63929,"price":194.64,"sector":"Financials","shares":68,"position":13235.52},{"rank":39,"ticker":"MSI","momentum":47.4029936585,"atr":4.301995,"price":233.76,"sector":"Information Technology","shares":58,"position":13558.08},{"rank":40,"ticker":"BLL","momentum":45.9109230427,"atr":1.42972,"price":92.45,"sector":"Materials","shares":174,"position":16086.3},{"rank":41,"ticker":"MSFT","momentum":45.7181270592,"atr":6.040995,"price":293.11,"sector":"Information Technology","shares":41,"position":12017.51},{"rank":42,"ticker":"IPG","momentum":44.7619532068,"atr":1.001245,"price":37.4,"sector":"Communication Services","shares":249,"position":9312.6},{"rank":43,"ticker":"TSCO","momentum":42.9809242268,"atr":4.3771,"price":196.65,"sector":"Consumer Discretionary","shares":57,"position":11209.05},{"rank":44,"ticker":"EFX","momentum":42.7770822313,"atr":5.598885,"price":257.02,"sector":"Industrials","shares":44,"position":11308.88},{"rank":45,"ticker":"APH","momentum":41.3534190839,"atr":1.414,"price":74.53,"sector":"Information Technology","shares":176,"position":13117.28},{"rank":46,"ticker":"GOOG","momentum":41.0043008524,"atr":59.56397,"price":2747.08,"sector":"Communication Services","shares":4,"position":10988.32},{"rank":47,"ticker":"ABMD","momentum":40.1676954161,"atr":10.445645,"price":337.3,"sector":"Health Care","shares":23,"position":7757.9},{"rank":48,"ticker":"ULTA","momentum":39.9231919728,"atr":9.352345,"price":368.21,"sector":"Consumer Discretionary","shares":26,"position":9573.46},{"rank":49,"ticker":"AWK","momentum":39.4792475469,"atr":3.33177,"price":174.18,"sector":"Utilities","shares":75,"position":13063.5},{"rank":50,"ticker":"MS","momentum":39.2066006207,"atr":2.75092,"price":99.1,"sector":"Financials","shares":90,"position":8919.0},{"rank":51,"ticker":"MAA","momentum":39.2042611967,"atr":3.66175,"price":192.1,"sector":"Real Estate","shares":68,"position":13062.8},{"rank":52,"ticker":"COO","momentum":38.4381336715,"atr":9.62175,"price":414.64,"sector":"Health Care","shares":25,"position":10366.0},{"rank":53,"ticker":"SPGI","momentum":38.3683595204,"atr":8.89225,"price":427.76,"sector":"Financials","shares":28,"position":11977.28},{"rank":54,"ticker":"NEE","momentum":37.7981096295,"atr":1.499665,"price":81.18,"sector":"Utilities","shares":166,"position":13475.88},{"rank":55,"ticker":"CRM","momentum":37.3717776792,"atr":6.25666,"price":275.27,"sector":"Information Technology","shares":39,"position":10735.53},{"rank":56,"ticker":"AZO","momentum":37.1644855039,"atr":36.46444,"price":1663.81,"sector":"Consumer Discretionary","shares":6,"position":9982.86},{"rank":57,"ticker":"BRO","momentum":34.9869650581,"atr":1.247675,"price":58.8,"sector":"Financials","shares":200,"position":11760.0},{"rank":58,"ticker":"INFO","momentum":34.47052268,"atr":2.72522,"price":118.13,"sector":"Industrials","shares":91,"position":10749.83},{"rank":59,"ticker":"WM","momentum":32.9330141369,"atr":2.140025,"price":151.28,"sector":"Industrials","shares":116,"position":17548.48},{"rank":60,"ticker":"PNR","momentum":32.0715750189,"atr":1.73005,"price":72.49,"sector":"Industrials","shares":144,"position":10438.56},{"rank":61,"ticker":"WAB","momentum":28.9713200367,"atr":1.94105,"price":88.82,"sector":"Industrials","shares":128,"position":11368.96},{"rank":62,"ticker":"ORLY","momentum":28.2531959651,"atr":11.524045,"price":612.93,"sector":"Consumer Discretionary","shares":21,"position":12871.53},{"rank":63,"ticker":"IR","momentum":28.2488721115,"atr":1.29147,"price":51.17,"sector":"Industrials","shares":193,"position":9875.81},{"rank":64,"ticker":"EXC","momentum":27.3154711003,"atr":0.90851,"price":49.11,"sector":"Utilities","shares":275,"position":13505.25},{"rank":65,"ticker":"EXR","momentum":26.8404366303,"atr":3.788585,"price":170.53,"sector":"Real Estate","shares":65,"position":11084.45},{"rank":66,"ticker":"AAPL","momentum":26.5590187406,"atr":3.20785,"price":142.0,"sector":"Information Technology","shares":77,"position":10934.0},{"rank":67,"ticker":"GNRC","momentum":26.0185558406,"atr":16.083085,"price":405.17,"sector":"Industrials","shares":15,"position":6077.55},{"rank":68,"ticker":"SBAC","momentum":25.8363265335,"atr":6.99225,"price":336.82,"sector":"Real Estate","shares":35,"position":11788.7},{"rank":69,"ticker":"KLAC","momentum":24.9686788757,"atr":10.48705,"price":329.1,"sector":"Information Technology","shares":23,"position":7569.3},{"rank":70,"ticker":"ROK","momentum":24.6010197343,"atr":5.552265,"price":298.21,"sector":"Industrials","shares":45,"position":13419.45},{"rank":71,"ticker":"ORCL","momentum":24.3492111905,"atr":2.1507,"price":91.34,"sector":"Information Technology","shares":116,"position":10595.44},{"rank":72,"ticker":"ROL","momentum":24.2824341309,"atr":0.8175,"price":36.38,"sector":"Industrials","shares":305,"position":11095.9},{"rank":73,"ticker":"CTSH","momentum":23.7459894806,"atr":1.38894,"price":74.36,"sector":"Information Technology","shares":179,"position":13310.44},{"rank":74,"ticker":"CHTR","momentum":23.4607547522,"atr":15.540895,"price":743.75,"sector":"Communication Services","shares":16,"position":11900.0},{"rank":75,"ticker":"CTAS","momentum":22.6722271717,"atr":8.1995,"price":395.94,"sector":"Industrials","shares":30,"position":11878.2},{"rank":76,"ticker":"CBOE","momentum":22.5101529892,"atr":2.85034,"price":121.69,"sector":"Financials","shares":87,"position":10587.03},{"rank":77,"ticker":"EBAY","momentum":22.3757552156,"atr":1.848185,"price":71.54,"sector":"Consumer Discretionary","shares":135,"position":9657.9},{"rank":78,"ticker":"ZTS","momentum":21.8932726827,"atr":4.175465,"price":195.78,"sector":"Health Care","shares":59,"position":11551.02},{"rank":79,"ticker":"CB","momentum":21.2941197672,"atr":3.47799,"price":176.72,"sector":"Financials","shares":71,"position":12547.12},{"rank":80,"ticker":"AIG","momentum":19.9810869411,"atr":1.27875,"price":57.32,"sector":"Financials","shares":195,"position":11177.4},{"rank":81,"ticker":"FFIV","momentum":19.2423243964,"atr":4.635415,"price":197.61,"sector":"Information Technology","shares":53,"position":10473.33},{"rank":82,"ticker":"OGN","momentum":18.9339870297,"atr":0.8772,"price":33.07,"sector":"Health Care","shares":284,"position":9391.88},{"rank":83,"ticker":"HD","momentum":18.2398056503,"atr":5.67666,"price":330.36,"sector":"Consumer Discretionary","shares":44,"position":14535.84},{"rank":84,"ticker":"PG","momentum":16.9976701728,"atr":2.00025,"price":141.19,"sector":"Consumer Staples","shares":124,"position":17507.56},{"rank":85,"ticker":"UDR","momentum":16.0145589519,"atr":1.0395,"price":54.0,"sector":"Real Estate","shares":240,"position":12960.0},{"rank":86,"ticker":"AVGO","momentum":14.5309129247,"atr":10.003045,"price":488.78,"sector":"Information Technology","shares":24,"position":11730.72},{"rank":87,"ticker":"MCK","momentum":14.2840115111,"atr":4.25873,"price":198.21,"sector":"Health Care","shares":58,"position":11496.18},{"rank":88,"ticker":"SHW","momentum":13.78695762,"atr":5.828625,"price":293.86,"sector":"Materials","shares":42,"position":12342.12},{"rank":89,"ticker":"PLD","momentum":13.0127001314,"atr":2.276195,"price":127.79,"sector":"Real Estate","shares":109,"position":13929.11},{"rank":90,"ticker":"STE","momentum":12.8586079851,"atr":4.799645,"price":212.2,"sector":"Health Care","shares":52,"position":11034.4},{"rank":91,"ticker":"SYK","momentum":12.4786307061,"atr":5.413205,"price":263.72,"sector":"Health Care","shares":46,"position":12131.12},{"rank":92,"ticker":"AMP","momentum":12.1634500483,"atr":7.27346,"price":273.19,"sector":"Financials","shares":34,"position":9288.46},{"rank":93,"ticker":"SIVB","momentum":11.6393783759,"atr":21.251555,"price":659.85,"sector":"Financials","shares":11,"position":7258.35},{"rank":94,"ticker":"PAYX","momentum":11.5711628826,"atr":2.110095,"price":118.04,"sector":"Information Technology","shares":118,"position":13928.72},{"rank":95,"ticker":"ARE","momentum":11.0891064356,"atr":3.24075,"price":195.18,"sector":"Real Estate","shares":77,"position":15028.86},{"rank":96,"ticker":"AVB","momentum":11.0118330676,"atr":4.38275,"price":226.35,"sector":"Real Estate","shares":57,"position":12901.95},{"rank":97,"ticker":"TEL","momentum":10.4370889861,"atr":2.967215,"price":144.39,"sector":"Information Technology","shares":84,"position":12128.76},{"rank":98,"ticker":"GD","momentum":10.035363487,"atr":3.63608,"price":199.36,"sector":"Industrials","shares":68,"position":13556.48},{"rank":99,"ticker":"ESS","momentum":8.7454284341,"atr":6.995,"price":328.87,"sector":"Real Estate","shares":35,"position":11510.45},{"rank":100,"ticker":"MCD","momentum":8.3439003852,"atr":3.62479,"price":247.1,"sector":"Consumer Discretionary","shares":68,"position":16802.8},{"rank":101,"ticker":"GS","momentum":8.2764549286,"atr":10.217745,"price":388.05,"sector":"Financials","shares":24,"position":9313.2},{"rank":102,"ticker":"JBHT","momentum":7.9916722559,"atr":4.127125,"price":171.66,"sector":"Industrials","shares":60,"position":10299.6},{"rank":103,"ticker":"TXT","momentum":7.5705190162,"atr":1.904995,"price":71.74,"sector":"Industrials","shares":131,"position":9397.94},{"rank":104,"ticker":"PEP","momentum":6.8559377228,"atr":2.25975,"price":154.96,"sector":"Consumer Staples","shares":110,"position":17045.6},{"rank":105,"ticker":"FRC","momentum":6.8405721958,"atr":4.30325,"price":201.22,"sector":"Financials","shares":58,"position":11670.76},{"rank":106,"ticker":"AJG","momentum":6.1270067451,"atr":3.206095,"price":152.83,"sector":"Financials","shares":77,"position":11767.91},{"rank":107,"ticker":"ES","momentum":5.2532462459,"atr":1.69975,"price":86.26,"sector":"Utilities","shares":147,"position":12680.22},{"rank":108,"ticker":"BR","momentum":5.2242444702,"atr":2.937965,"price":166.98,"sector":"Information Technology","shares":85,"position":14193.3},{"rank":109,"ticker":"BK","momentum":5.0732472966,"atr":1.36075,"price":54.54,"sector":"Financials","shares":183,"position":9980.82},{"rank":110,"ticker":"DISH","momentum":4.8262750674,"atr":1.301995,"price":44.69,"sector":"Communication Services","shares":192,"position":8580.48},{"rank":111,"ticker":"HLT","momentum":4.7788220615,"atr":3.63,"price":139.36,"sector":"Consumer Discretionary","shares":68,"position":9476.48},{"rank":112,"ticker":"DFS","momentum":3.8153613515,"atr":3.78537,"price":126.49,"sector":"Financials","shares":66,"position":8348.34},{"rank":113,"ticker":"STT","momentum":3.747913707,"atr":2.43941,"price":88.47,"sector":"Financials","shares":102,"position":9023.94},{"rank":114,"ticker":"AAP","momentum":3.5361017565,"atr":4.39286,"price":211.3,"sector":"Consumer Discretionary","shares":56,"position":11832.8},{"rank":115,"ticker":"ICE","momentum":3.0644259087,"atr":2.11958,"price":122.62,"sector":"Financials","shares":117,"position":14346.54},{"rank":116,"ticker":"TXN","momentum":2.5706845926,"atr":3.76099,"price":194.39,"sector":"Information Technology","shares":66,"position":12829.74},{"rank":117,"ticker":"AIZ","momentum":2.4809774048,"atr":3.0635,"price":161.1,"sector":"Financials","shares":81,"position":13049.1},{"rank":118,"ticker":"DRE","momentum":2.3282646728,"atr":0.99165,"price":50.31,"sector":"Real Estate","shares":252,"position":12678.12},{"rank":119,"ticker":"WFC","momentum":1.9976656585,"atr":1.293245,"price":47.87,"sector":"Financials","shares":193,"position":9238.91},{"rank":120,"ticker":"LHX","momentum":1.9356011893,"atr":4.5992,"price":226.87,"sector":"Industrials","shares":54,"position":12250.98},{"rank":121,"ticker":"JNPR","momentum":1.773542129,"atr":0.540985,"price":28.08,"sector":"Information Technology","shares":462,"position":12972.96},{"rank":122,"ticker":"FOXA","momentum":1.6348008946,"atr":1.0455,"price":41.55,"sector":"Communication Services","shares":239,"position":9930.45},{"rank":123,"ticker":"TSN","momentum":1.1225992076,"atr":1.414825,"price":78.62,"sector":"Consumer Staples","shares":176,"position":13837.12},{"rank":124,"ticker":"JPM","momentum":1.0436031677,"atr":3.69632,"price":169.02,"sector":"Financials","shares":67,"position":11324.34},{"rank":125,"ticker":"COF","momentum":0.9941155052,"atr":4.389945,"price":167.87,"sector":"Financials","shares":56,"position":9400.72},{"rank":126,"ticker":"RE","momentum":0.9760566612,"atr":5.2325,"price":260.85,"sector":"Financials","shares":47,"position":12259.95},{"rank":127,"ticker":"WY","momentum":0.9443351797,"atr":0.8024,"price":35.82,"sector":"Real Estate","shares":311,"position":11140.02},{"rank":128,"ticker":"PNC","momentum":0.8395146922,"atr":4.568585,"price":200.82,"sector":"Financials","shares":54,"position":10844.28},{"rank":129,"ticker":"ADP","momentum":0.7814008454,"atr":3.528095,"price":204.99,"sector":"Information Technology","shares":70,"position":14349.3},{"rank":130,"ticker":"TRV","momentum":0.7065848175,"atr":3.086315,"price":155.09,"sector":"Financials","shares":81,"position":12562.29},{"rank":131,"ticker":"MAR","momentum":0.25656426,"atr":4.053085,"price":155.31,"sector":"Consumer Discretionary","shares":61,"position":9473.91},{"rank":132,"ticker":"HSIC","momentum":0.2206654025,"atr":1.75494,"price":78.17,"sector":"Health Care","shares":142,"position":11100.14},{"rank":133,"ticker":"CNP","momentum":0.0700852326,"atr":0.60525,"price":25.79,"sector":"Utilities","shares":413,"position":10651.27},{"rank":134,"ticker":"SYF","momentum":0.0658845103,"atr":1.500995,"price":49.85,"sector":"Financials","shares":166,"position":8275.1},{"rank":135,"ticker":"SCHW","momentum":0.010856332,"atr":2.32224,"price":75.71,"sector":"Financials","shares":107,"position":8100.97},{"rank":136,"ticker":"HSY","momentum":0.0003053305,"atr":2.8892,"price":178.55,"sector":"Consumer Staples","shares":86,"position":15355.3},{"rank":137,"ticker":"FOX","momentum":0.0001166314,"atr":0.89355,"price":38.36,"sector":"Communication Services","shares":279,"position":10702.44},{"rank":138,"ticker":"MET","momentum":-0.0004944774,"atr":1.622165,"price":63.98,"sector":"Financials","shares":154,"position":9852.92},{"rank":139,"ticker":"BKR","momentum":-0.0074902031,"atr":0.867175,"price":24.78,"sector":"Energy","shares":288,"position":7136.64},{"rank":140,"ticker":"MRK","momentum":-0.0217837543,"atr":1.860835,"price":80.66,"sector":"Health Care","shares":134,"position":10808.44},{"rank":141,"ticker":"CF","momentum":-0.1620157139,"atr":2.031345,"price":59.85,"sector":"Materials","shares":123,"position":7361.55},{"rank":142,"ticker":"CE","momentum":-0.2993082333,"atr":4.136855,"price":158.84,"sector":"Materials","shares":60,"position":9530.4},{"rank":143,"ticker":"BAX","momentum":-0.3464431866,"atr":1.45717,"price":80.86,"sector":"Health Care","shares":171,"position":13827.06},{"rank":144,"ticker":"APTV","momentum":-0.6213642215,"atr":4.647,"price":157.7,"sector":"Consumer Discretionary","shares":53,"position":8358.1},{"rank":145,"ticker":"K","momentum":-0.7095916203,"atr":1.00129,"price":64.4,"sector":"Consumer Staples","shares":249,"position":16035.6},{"rank":146,"ticker":"C","momentum":-0.8248907899,"atr":1.772675,"price":72.42,"sector":"Financials","shares":141,"position":10211.22},{"rank":147,"ticker":"L","momentum":-1.1628547647,"atr":1.2024,"price":56.58,"sector":"Financials","shares":207,"position":11712.06},{"rank":148,"ticker":"RTX","momentum":-1.4344799563,"atr":1.68154,"price":89.27,"sector":"Industrials","shares":148,"position":13211.96},{"rank":149,"ticker":"WLTW","momentum":-1.6588511064,"atr":5.93971,"price":241.33,"sector":"Financials","shares":42,"position":10135.86},{"rank":150,"ticker":"CSX","momentum":-2.0918925896,"atr":0.671575,"price":32.54,"sector":"Industrials","shares":372,"position":12104.88},{"rank":151,"ticker":"WRB","momentum":-2.5388652739,"atr":1.386,"price":76.63,"sector":"Financials","shares":180,"position":13793.4},{"rank":152,"ticker":"GIS","momentum":-3.2354158909,"atr":1.112115,"price":62.13,"sector":"Consumer Staples","shares":224,"position":13917.12},{"rank":153,"ticker":"ADM","momentum":-3.4533229837,"atr":1.387945,"price":62.3,"sector":"Consumer Staples","shares":180,"position":11214.0},{"rank":154,"ticker":"NOC","momentum":-4.029562423,"atr":6.57864,"price":377.32,"sector":"Industrials","shares":38,"position":14338.16},{"rank":155,"ticker":"WMB","momentum":-7.6199321999,"atr":0.61713,"price":27.06,"sector":"Energy","shares":405,"position":10959.3},{"rank":156,"ticker":"IBM","momentum":-9.8766727113,"atr":2.49889,"price":142.36,"sector":"Information Technology","shares":100,"position":14236.0},{"rank":157,"ticker":"CVX","momentum":-10.0246893081,"atr":2.397305,"price":104.93,"sector":"Energy","shares":104,"position":10912.72},{"rank":158,"ticker":"TDG","momentum":-10.5440835048,"atr":15.44619,"price":650.59,"sector":"Industrials","shares":16,"position":10409.44},{"rank":159,"ticker":"XOM","momentum":-12.5102045707,"atr":1.624235,"price":60.49,"sector":"Energy","shares":153,"position":9254.97},{"rank":160,"ticker":"LUV","momentum":-13.5185116493,"atr":1.58889,"price":54.45,"sector":"Industrials","shares":157,"position":8548.65},{"rank":161,"ticker":"NSC","momentum":-18.8913761167,"atr":4.995735,"price":262.53,"sector":"Industrials","shares":50,"position":13126.5},{"rank":162,"ticker":"F","momentum":-18.9408927634,"atr":0.4235,"price":14.12,"sector":"Consumer Discretionary","shares":590,"position":8330.8},{"rank":163,"ticker":"CTRA","momentum":-85.5885606455,"atr":0.1,"price":22.07,"sector":"Energy","shares":2500,"position":55175.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MNST","momentum":74.483938822,"atr":2.23333,"price":95.77,"sector":"Consumer Staples","shares":111,"position":10630.47},{"rank":2,"ticker":"MRK","momentum":33.4824721125,"atr":2.004615,"price":90.14,"sector":"Health Care","shares":124,"position":11177.36},{"rank":3,"ticker":"LLY","momentum":27.6193871708,"atr":7.98837,"price":326.92,"sector":"Health Care","shares":31,"position":10134.52},{"rank":4,"ticker":"K","momentum":27.1448252393,"atr":1.312285,"price":70.24,"sector":"Consumer Staples","shares":190,"position":13345.6},{"rank":5,"ticker":"VICI","momentum":26.5250982431,"atr":0.760135,"price":32.99,"sector":"Real Estate","shares":328,"position":10820.72},{"rank":6,"ticker":"CI","momentum":19.1501551098,"atr":7.506095,"price":266.35,"sector":"Health Care","shares":33,"position":8789.55},{"rank":7,"ticker":"AMCR","momentum":15.438905716,"atr":0.299,"price":12.64,"sector":"Materials","shares":836,"position":10567.04},{"rank":8,"ticker":"CPB","momentum":14.1978621891,"atr":0.86902,"price":47.61,"sector":"Consumer Staples","shares":287,"position":13664.07},{"rank":9,"ticker":"GPC","momentum":12.8943353189,"atr":2.696975,"price":142.55,"sector":"Consumer Discretionary","shares":92,"position":13114.6},{"rank":10,"ticker":"GIS","momentum":12.0071000212,"atr":1.489185,"price":73.1,"sector":"Consumer Staples","shares":167,"position":12207.7},{"rank":11,"ticker":"VRTX","momentum":8.2146812038,"atr":7.967485,"price":283.11,"sector":"Health Care","shares":31,"position":8776.41},{"rank":12,"ticker":"XOM","momentum":6.5286839387,"atr":3.43381,"price":87.75,"sector":"Energy","shares":72,"position":6318.0},{"rank":13,"ticker":"BF.B","momentum":6.1384472415,"atr":1.312235,"price":71.19,"sector":"Consumer Staples","shares":190,"position":13526.1},{"rank":14,"ticker":"TMUS","momentum":5.8881989583,"atr":3.37015,"price":133.19,"sector":"Communication Services","shares":74,"position":9856.06},{"rank":15,"ticker":"MCK","momentum":5.7401733284,"atr":8.02527,"price":327.81,"sector":"Health Care","shares":31,"position":10162.11},{"rank":16,"ticker":"KMB","momentum":5.2748606489,"atr":2.27878,"price":130.55,"sector":"Consumer Staples","shares":109,"position":14229.95},{"rank":17,"ticker":"WAT","momentum":4.9426141044,"atr":9.22323,"price":349.48,"sector":"Health Care","shares":27,"position":9435.96},{"rank":18,"ticker":"TAP","momentum":4.4283428846,"atr":1.387475,"price":57.18,"sector":"Consumer Staples","shares":180,"position":10292.4},{"rank":19,"ticker":"AZO","momentum":2.4715022069,"atr":54.66695,"price":2138.75,"sector":"Consumer Discretionary","shares":4,"position":8555.0},{"rank":20,"ticker":"DG","momentum":2.0113479125,"atr":5.5222,"price":246.94,"sector":"Consumer Discretionary","shares":45,"position":11112.3},{"rank":21,"ticker":"STZ","momentum":1.0331892269,"atr":5.776335,"price":242.28,"sector":"Consumer Staples","shares":43,"position":10418.04},{"rank":22,"ticker":"ROL","momentum":0.9197658515,"atr":0.82876,"price":36.56,"sector":"Industrials","shares":301,"position":11004.56},{"rank":23,"ticker":"SYY","momentum":0.5493710614,"atr":2.014995,"price":86.92,"sector":"Consumer Staples","shares":124,"position":10778.08},{"rank":24,"ticker":"MCD","momentum":0.5374563224,"atr":4.175845,"price":253.47,"sector":"Consumer Discretionary","shares":59,"position":14954.73},{"rank":25,"ticker":"EA","momentum":0.4642162264,"atr":2.816625,"price":130.21,"sector":"Communication Services","shares":88,"position":11458.48},{"rank":26,"ticker":"AMT","momentum":0.3735180273,"atr":6.762745,"price":255.4,"sector":"Real Estate","shares":36,"position":9194.4},{"rank":27,"ticker":"CTLT","momentum":0.2686565103,"atr":3.804575,"price":110.1,"sector":"Health Care","shares":65,"position":7156.5},{"rank":28,"ticker":"AMGN","momentum":0.2506026331,"atr":3.90898,"price":245.78,"sector":"Health Care","shares":63,"position":15484.14},{"rank":29,"ticker":"CBOE","momentum":0.0027008964,"atr":2.77125,"price":124.0,"sector":"Financials","shares":90,"position":11160.0},{"rank":30,"ticker":"SNPS","momentum":0.0004739698,"atr":9.51524,"price":338.66,"sector":"Information Technology","shares":26,"position":8805.16},{"rank":31,"ticker":"PEP","momentum":-0.0016278097,"atr":2.995005,"price":168.51,"sector":"Consumer Staples","shares":83,"position":13986.33},{"rank":32,"ticker":"HSY","momentum":-0.0016418078,"atr":3.502295,"price":215.91,"sector":"Consumer Staples","shares":71,"position":15329.61},{"rank":33,"ticker":"ULTA","momentum":-0.0052599479,"atr":12.0785,"price":411.27,"sector":"Consumer Discretionary","shares":20,"position":8225.4},{"rank":34,"ticker":"MAS","momentum":-0.0122895891,"atr":1.47105,"price":56.3,"sector":"Industrials","shares":169,"position":9514.7},{"rank":35,"ticker":"CNC","momentum":-0.0238359276,"atr":2.38441,"price":90.51,"sector":"Health Care","shares":104,"position":9413.04},{"rank":36,"ticker":"INCY","momentum":-0.0308652772,"atr":1.985995,"price":82.86,"sector":"Health Care","shares":125,"position":10357.5},{"rank":37,"ticker":"CDNS","momentum":-0.0328433852,"atr":5.197,"price":168.75,"sector":"Information Technology","shares":48,"position":8100.0},{"rank":38,"ticker":"PWR","momentum":-0.0805201328,"atr":4.9217,"price":133.14,"sector":"Industrials","shares":50,"position":6657.0},{"rank":39,"ticker":"O","momentum":-0.086433941,"atr":1.312815,"price":70.58,"sector":"Real Estate","shares":190,"position":13410.2},{"rank":40,"ticker":"PFE","momentum":-0.2607315108,"atr":1.214315,"price":51.12,"sector":"Health Care","shares":205,"position":10479.6},{"rank":41,"ticker":"CMI","momentum":-0.2856139881,"atr":6.06374,"price":206.13,"sector":"Industrials","shares":41,"position":8451.33},{"rank":42,"ticker":"UNH","momentum":-0.4735613157,"atr":14.36475,"price":522.46,"sector":"Health Care","shares":17,"position":8881.82},{"rank":43,"ticker":"DRE","momentum":-0.7111380917,"atr":1.637,"price":59.1,"sector":"Real Estate","shares":152,"position":8983.2},{"rank":44,"ticker":"MHK","momentum":-0.7913197036,"atr":4.960635,"price":134.73,"sector":"Consumer Discretionary","shares":50,"position":6736.5},{"rank":45,"ticker":"YUM","momentum":-0.9547813791,"atr":2.24442,"price":120.25,"sector":"Consumer Discretionary","shares":111,"position":13347.75},{"rank":46,"ticker":"FIS","momentum":-0.9738598327,"atr":2.82522,"price":98.91,"sector":"Information Technology","shares":88,"position":8704.08},{"rank":47,"ticker":"PHM","momentum":-1.026505195,"atr":1.6817,"price":45.58,"sector":"Consumer Discretionary","shares":148,"position":6745.84},{"rank":48,"ticker":"RSG","momentum":-1.8045087789,"atr":2.536975,"price":131.24,"sector":"Industrials","shares":98,"position":12861.52},{"rank":49,"ticker":"SHW","momentum":-2.0091385715,"atr":6.8135,"price":256.59,"sector":"Materials","shares":36,"position":9237.24},{"rank":50,"ticker":"SNA","momentum":-2.0697753218,"atr":4.7782,"price":211.81,"sector":"Industrials","shares":52,"position":11014.12},{"rank":51,"ticker":"ON","momentum":-2.3052122939,"atr":2.615825,"price":61.17,"sector":"Information Technology","shares":95,"position":5811.15},{"rank":52,"ticker":"AVY","momentum":-2.3195167656,"atr":4.42172,"price":176.03,"sector":"Materials","shares":56,"position":9857.68},{"rank":53,"ticker":"NEE","momentum":-2.3453137007,"atr":1.860345,"price":78.87,"sector":"Utilities","shares":134,"position":10568.58},{"rank":54,"ticker":"GL","momentum":-2.3962820119,"atr":2.28671,"price":100.72,"sector":"Financials","shares":109,"position":10978.48},{"rank":55,"ticker":"TJX","momentum":-2.8135533606,"atr":1.63986,"price":63.74,"sector":"Consumer Discretionary","shares":152,"position":9688.48},{"rank":56,"ticker":"JKHY","momentum":-2.8489857799,"atr":3.957895,"price":198.69,"sector":"Information Technology","shares":63,"position":12517.47},{"rank":57,"ticker":"ADP","momentum":-3.2352941948,"atr":5.03518,"price":218.09,"sector":"Information Technology","shares":49,"position":10686.41},{"rank":58,"ticker":"ADI","momentum":-3.4826138887,"atr":4.6885,"price":165.19,"sector":"Information Technology","shares":53,"position":8755.07},{"rank":59,"ticker":"BR","momentum":-3.7836719734,"atr":3.72943,"price":155.9,"sector":"Information Technology","shares":67,"position":10445.3},{"rank":60,"ticker":"AJG","momentum":-3.8085781666,"atr":3.48125,"price":169.6,"sector":"Financials","shares":71,"position":12041.6},{"rank":61,"ticker":"KLAC","momentum":-4.012115241,"atr":13.73837,"price":360.54,"sector":"Information Technology","shares":18,"position":6489.72},{"rank":62,"ticker":"EL","momentum":-5.5399991271,"atr":7.7115,"price":262.57,"sector":"Consumer Staples","shares":32,"position":8402.24},{"rank":63,"ticker":"MTB","momentum":-5.8721852238,"atr":5.62035,"price":169.22,"sector":"Financials","shares":44,"position":7445.68},{"rank":64,"ticker":"IQV","momentum":-5.888464509,"atr":6.476675,"price":225.63,"sector":"Health Care","shares":38,"position":8573.94},{"rank":65,"ticker":"ORLY","momentum":-5.9338457867,"atr":14.325745,"price":685.86,"sector":"Consumer Discretionary","shares":17,"position":11659.62},{"rank":66,"ticker":"V","momentum":-6.0807147369,"atr":5.473505,"price":216.19,"sector":"Information Technology","shares":45,"position":9728.55},{"rank":67,"ticker":"SBUX","momentum":-6.8257189939,"atr":2.04651,"price":83.54,"sector":"Consumer Discretionary","shares":122,"position":10191.88},{"rank":68,"ticker":"MPWR","momentum":-7.2219244975,"atr":18.62715,"price":456.03,"sector":"Information Technology","shares":13,"position":5928.39},{"rank":69,"ticker":"DHI","momentum":-7.3609438336,"atr":2.70026,"price":75.83,"sector":"Consumer Discretionary","shares":92,"position":6976.36},{"rank":70,"ticker":"MA","momentum":-7.8667909208,"atr":9.10815,"price":346.92,"sector":"Information Technology","shares":27,"position":9366.84},{"rank":71,"ticker":"FTV","momentum":-8.2647379095,"atr":1.389785,"price":58.79,"sector":"Industrials","shares":179,"position":10523.41},{"rank":72,"ticker":"IEX","momentum":-8.3678819683,"atr":4.462,"price":192.64,"sector":"Industrials","shares":56,"position":10787.84},{"rank":73,"ticker":"TMO","momentum":-8.4216552518,"atr":15.846765,"price":575.0,"sector":"Health Care","shares":15,"position":8625.0},{"rank":74,"ticker":"LEN","momentum":-8.8845639925,"atr":2.811725,"price":82.08,"sector":"Consumer Discretionary","shares":88,"position":7223.04},{"rank":75,"ticker":"HWM","momentum":-9.1241257247,"atr":1.101365,"price":34.75,"sector":"Industrials","shares":226,"position":7853.5},{"rank":76,"ticker":"FISV","momentum":-9.3183459815,"atr":2.59425,"price":99.18,"sector":"Information Technology","shares":96,"position":9521.28},{"rank":77,"ticker":"CTAS","momentum":-9.7240821166,"atr":9.1988,"price":399.99,"sector":"Industrials","shares":27,"position":10799.73},{"rank":78,"ticker":"KEYS","momentum":-10.4002458052,"atr":3.84383,"price":153.4,"sector":"Information Technology","shares":65,"position":9971.0},{"rank":79,"ticker":"NVR","momentum":-10.4498742362,"atr":146.14485,"price":4552.68,"sector":"Consumer Discretionary","shares":1,"position":4552.68},{"rank":80,"ticker":"FRC","momentum":-10.7415537119,"atr":4.101625,"price":162.65,"sector":"Financials","shares":60,"position":9759.0},{"rank":81,"ticker":"RMD","momentum":-12.5102832263,"atr":5.475165,"price":232.91,"sector":"Health Care","shares":45,"position":10480.95},{"rank":82,"ticker":"CPRT","momentum":-12.5216874984,"atr":3.00065,"price":123.72,"sector":"Industrials","shares":83,"position":10268.76},{"rank":83,"ticker":"MSI","momentum":-12.6384233796,"atr":5.16475,"price":222.22,"sector":"Information Technology","shares":48,"position":10666.56},{"rank":84,"ticker":"FDS","momentum":-12.7981566303,"atr":11.14801,"price":411.05,"sector":"Financials","shares":22,"position":9043.1},{"rank":85,"ticker":"CDW","momentum":-13.0338811207,"atr":4.239,"price":171.25,"sector":"Information Technology","shares":58,"position":9932.5},{"rank":86,"ticker":"DHR","momentum":-13.3004032609,"atr":8.084675,"price":279.23,"sector":"Health Care","shares":30,"position":8376.9},{"rank":87,"ticker":"ZTS","momentum":-14.0187120674,"atr":4.44163,"price":180.6,"sector":"Health Care","shares":56,"position":10113.6},{"rank":88,"ticker":"NXPI","momentum":-14.2005202955,"atr":6.140495,"price":179.95,"sector":"Information Technology","shares":40,"position":7198.0},{"rank":89,"ticker":"A","momentum":-15.420140513,"atr":3.61595,"price":127.19,"sector":"Health Care","shares":69,"position":8776.11},{"rank":90,"ticker":"NDSN","momentum":-15.6510560219,"atr":5.288195,"price":220.14,"sector":"Industrials","shares":47,"position":10346.58},{"rank":91,"ticker":"NDAQ","momentum":-15.835565024,"atr":3.994795,"price":174.0,"sector":"Financials","shares":62,"position":10788.0},{"rank":92,"ticker":"TEL","momentum":-16.8124221836,"atr":3.1595,"price":124.82,"sector":"Information Technology","shares":79,"position":9860.78},{"rank":93,"ticker":"HD","momentum":-17.5628763756,"atr":7.32703,"price":305.0,"sector":"Consumer Discretionary","shares":34,"position":10370.0},{"rank":94,"ticker":"GS","momentum":-18.2955545688,"atr":9.645165,"price":326.54,"sector":"Financials","shares":25,"position":8163.5},{"rank":95,"ticker":"XYL","momentum":-18.7593565608,"atr":2.189955,"price":82.96,"sector":"Industrials","shares":114,"position":9457.44},{"rank":96,"ticker":"ADSK","momentum":-18.7905518521,"atr":7.255255,"price":199.1,"sector":"Information Technology","shares":34,"position":6769.4},{"rank":97,"ticker":"BIO","momentum":-19.2531314995,"atr":17.612695,"price":534.41,"sector":"Health Care","shares":14,"position":7481.74},{"rank":98,"ticker":"COST","momentum":-19.6995767742,"atr":12.13738,"price":529.46,"sector":"Consumer Staples","shares":20,"position":10589.2},{"rank":99,"ticker":"INTU","momentum":-22.773667945,"atr":15.9028,"price":434.7,"sector":"Information Technology","shares":15,"position":6520.5},{"rank":100,"ticker":"ABMD","momentum":-26.9685791585,"atr":10.034575,"price":284.81,"sector":"Health Care","shares":24,"position":6835.44},{"rank":101,"ticker":"AAPL","momentum":-27.5217176478,"atr":3.89691,"price":155.35,"sector":"Information Technology","shares":64,"position":9942.4},{"rank":102,"ticker":"GRMN","momentum":-28.1389624712,"atr":2.762075,"price":107.89,"sector":"Consumer Discretionary","shares":90,"position":9710.1},{"rank":103,"ticker":"STX","momentum":-29.6075547618,"atr":2.542595,"price":83.61,"sector":"Information Technology","shares":98,"position":8193.78},{"rank":104,"ticker":"BA","momentum":-33.6936952452,"atr":6.51643,"price":161.41,"sector":"Industrials","shares":38,"position":6133.58}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":253.4642721815,"atr":12.16,"price":509.41,"sector":"Information Technology","shares":20,"position":10188.2},{"rank":2,"ticker":"DXCM","momentum":162.758926633,"atr":16.72126,"price":538.46,"sector":"Health Care","shares":14,"position":7538.44},{"rank":3,"ticker":"IT","momentum":152.2059697668,"atr":7.900165,"price":301.06,"sector":"Information Technology","shares":31,"position":9332.86},{"rank":4,"ticker":"FTNT","momentum":121.1661121782,"atr":8.995915,"price":306.58,"sector":"Information Technology","shares":27,"position":8277.66},{"rank":5,"ticker":"PWR","momentum":117.5838049874,"atr":3.091435,"price":111.64,"sector":"Industrials","shares":80,"position":8931.2},{"rank":6,"ticker":"CMG","momentum":111.6078168508,"atr":41.79473,"price":1803.57,"sector":"Consumer Discretionary","shares":5,"position":9017.85},{"rank":7,"ticker":"CTLT","momentum":105.5008815022,"atr":3.194485,"price":128.63,"sector":"Health Care","shares":78,"position":10033.14},{"rank":8,"ticker":"AON","momentum":96.9577209847,"atr":5.68443,"price":298.72,"sector":"Financials","shares":43,"position":12844.96},{"rank":9,"ticker":"NOW","momentum":91.3620150703,"atr":17.20775,"price":629.13,"sector":"Information Technology","shares":14,"position":8807.82},{"rank":10,"ticker":"WST","momentum":89.0924420984,"atr":11.14925,"price":403.2,"sector":"Health Care","shares":22,"position":8870.4},{"rank":11,"ticker":"TMO","momentum":84.7725434735,"atr":15.709495,"price":575.91,"sector":"Health Care","shares":15,"position":8638.65},{"rank":12,"ticker":"BIO","momentum":81.621473574,"atr":19.378845,"price":709.08,"sector":"Health Care","shares":12,"position":8508.96},{"rank":13,"ticker":"MSCI","momentum":79.5245684193,"atr":17.06468,"price":595.25,"sector":"Financials","shares":14,"position":8333.5},{"rank":14,"ticker":"AMD","momentum":79.4681222708,"atr":3.11739,"price":105.04,"sector":"Information Technology","shares":80,"position":8403.2},{"rank":15,"ticker":"VRSK","momentum":77.700081155,"atr":3.43459,"price":207.75,"sector":"Industrials","shares":72,"position":14958.0},{"rank":16,"ticker":"DHR","momentum":75.2567576496,"atr":6.92409,"price":296.85,"sector":"Health Care","shares":36,"position":10686.6},{"rank":17,"ticker":"CDNS","momentum":70.8719629026,"atr":3.708015,"price":150.16,"sector":"Information Technology","shares":67,"position":10060.72},{"rank":18,"ticker":"COST","momentum":66.6732975841,"atr":8.86867,"price":446.87,"sector":"Consumer Staples","shares":28,"position":12512.36},{"rank":19,"ticker":"ODFL","momentum":66.3616472002,"atr":6.49313,"price":285.77,"sector":"Industrials","shares":38,"position":10859.26},{"rank":20,"ticker":"CRL","momentum":65.9317206523,"atr":12.5795,"price":408.03,"sector":"Health Care","shares":19,"position":7752.57},{"rank":21,"ticker":"XLNX","momentum":65.9160514457,"atr":4.713435,"price":155.91,"sector":"Information Technology","shares":53,"position":8263.23},{"rank":22,"ticker":"SNPS","momentum":51.9855887373,"atr":7.707695,"price":292.04,"sector":"Information Technology","shares":32,"position":9345.28},{"rank":23,"ticker":"RSG","momentum":51.3284512495,"atr":2.05045,"price":126.22,"sector":"Industrials","shares":121,"position":15272.62},{"rank":24,"ticker":"INTU","momentum":50.7955394472,"atr":12.33748,"price":527.05,"sector":"Information Technology","shares":20,"position":10541.0},{"rank":25,"ticker":"MMC","momentum":49.6256443007,"atr":2.76873,"price":157.0,"sector":"Financials","shares":90,"position":14130.0},{"rank":26,"ticker":"GOOGL","momentum":49.4203346313,"atr":58.135785,"price":2728.98,"sector":"Communication Services","shares":4,"position":10915.92},{"rank":27,"ticker":"IPG","momentum":48.260127794,"atr":1.007245,"price":36.88,"sector":"Communication Services","shares":248,"position":9146.24},{"rank":28,"ticker":"ACN","momentum":47.2267978876,"atr":6.1,"price":327.69,"sector":"Information Technology","shares":40,"position":13107.6},{"rank":29,"ticker":"BLL","momentum":44.741177911,"atr":1.356845,"price":90.46,"sector":"Materials","shares":184,"position":16644.64},{"rank":30,"ticker":"TECH","momentum":43.8037609499,"atr":15.05699,"price":478.01,"sector":"Health Care","shares":16,"position":7648.16},{"rank":31,"ticker":"NDAQ","momentum":43.2708216177,"atr":3.816945,"price":197.48,"sector":"Financials","shares":65,"position":12836.2},{"rank":32,"ticker":"ISRG","momentum":41.1216231925,"atr":8.9588333333,"price":324.45,"sector":"Health Care","shares":27,"position":8760.15},{"rank":33,"ticker":"MSI","momentum":40.7276285047,"atr":4.335245,"price":239.32,"sector":"Information Technology","shares":57,"position":13641.24},{"rank":34,"ticker":"ULTA","momentum":40.684188675,"atr":9.227605,"price":386.92,"sector":"Consumer Discretionary","shares":27,"position":10446.84},{"rank":35,"ticker":"NVDA","momentum":39.3090003968,"atr":6.722745,"price":206.71,"sector":"Information Technology","shares":37,"position":7648.27},{"rank":36,"ticker":"AIG","momentum":39.2765019359,"atr":1.283995,"price":57.4,"sector":"Financials","shares":194,"position":11135.6},{"rank":37,"ticker":"CRM","momentum":39.0286950997,"atr":6.54999,"price":279.0,"sector":"Information Technology","shares":38,"position":10602.0},{"rank":38,"ticker":"BRO","momentum":38.7156808396,"atr":1.20025,"price":60.75,"sector":"Financials","shares":208,"position":12636.0},{"rank":39,"ticker":"APH","momentum":38.2734193489,"atr":1.45175,"price":74.0,"sector":"Information Technology","shares":172,"position":12728.0},{"rank":40,"ticker":"TSCO","momentum":36.9173556381,"atr":4.1601,"price":193.29,"sector":"Consumer Discretionary","shares":60,"position":11597.4},{"rank":41,"ticker":"MS","momentum":35.3048991758,"atr":2.82517,"price":97.78,"sector":"Financials","shares":88,"position":8604.64},{"rank":42,"ticker":"MSFT","momentum":34.4272477425,"atr":5.85029,"price":292.88,"sector":"Information Technology","shares":42,"position":12300.96},{"rank":43,"ticker":"WAB","momentum":33.957917414,"atr":1.90836,"price":89.9,"sector":"Industrials","shares":131,"position":11776.9},{"rank":44,"ticker":"AZO","momentum":32.7706967203,"atr":38.649565,"price":1677.29,"sector":"Consumer Discretionary","shares":6,"position":10063.74},{"rank":45,"ticker":"WM","momentum":32.7465911222,"atr":2.218785,"price":154.46,"sector":"Industrials","shares":112,"position":17299.52},{"rank":46,"ticker":"EFX","momentum":32.0371905826,"atr":5.50125,"price":255.63,"sector":"Industrials","shares":45,"position":11503.35},{"rank":47,"ticker":"MAA","momentum":31.8589678752,"atr":3.7255,"price":193.54,"sector":"Real Estate","shares":67,"position":12967.18},{"rank":48,"ticker":"GOOG","momentum":31.0929463606,"atr":59.29305,"price":2734.26,"sector":"Communication Services","shares":4,"position":10937.04},{"rank":49,"ticker":"OGN","momentum":29.8563253035,"atr":0.8546,"price":32.84,"sector":"Health Care","shares":292,"position":9589.28},{"rank":50,"ticker":"CB","momentum":27.6985551368,"atr":3.509895,"price":181.63,"sector":"Financials","shares":71,"position":12895.73},{"rank":51,"ticker":"NEE","momentum":26.6801923161,"atr":1.60965,"price":78.87,"sector":"Utilities","shares":155,"position":12224.85},{"rank":52,"ticker":"SPGI","momentum":26.6303168019,"atr":8.9775,"price":430.67,"sector":"Financials","shares":27,"position":11628.09},{"rank":53,"ticker":"INFO","momentum":26.5658482789,"atr":2.63597,"price":119.27,"sector":"Industrials","shares":94,"position":11211.38},{"rank":54,"ticker":"AWK","momentum":26.3850533884,"atr":3.34602,"price":169.54,"sector":"Utilities","shares":74,"position":12545.96},{"rank":55,"ticker":"ORCL","momentum":26.1328880928,"atr":2.1212,"price":95.57,"sector":"Information Technology","shares":117,"position":11181.69},{"rank":56,"ticker":"SIVB","momentum":25.2520259528,"atr":21.255805,"price":659.09,"sector":"Financials","shares":11,"position":7249.99},{"rank":57,"ticker":"ABMD","momentum":25.1447827536,"atr":10.2651,"price":334.14,"sector":"Health Care","shares":24,"position":8019.36},{"rank":58,"ticker":"CTSH","momentum":24.6106536397,"atr":1.41394,"price":75.11,"sector":"Information Technology","shares":176,"position":13219.36},{"rank":59,"ticker":"EXC","momentum":23.8042341561,"atr":0.91001,"price":48.29,"sector":"Utilities","shares":274,"position":13231.46},{"rank":60,"ticker":"ORLY","momentum":21.9243151424,"atr":11.514045,"price":608.92,"sector":"Consumer Discretionary","shares":21,"position":12787.32},{"rank":61,"ticker":"AMP","momentum":21.2677801331,"atr":7.64121,"price":279.49,"sector":"Financials","shares":32,"position":8943.68},{"rank":62,"ticker":"CTAS","momentum":18.9633877255,"atr":7.686,"price":404.0,"sector":"Industrials","shares":32,"position":12928.0},{"rank":63,"ticker":"CBOE","momentum":18.8280759513,"atr":3.05504,"price":125.2,"sector":"Financials","shares":81,"position":10141.2},{"rank":64,"ticker":"EBAY","momentum":18.809869165,"atr":1.912435,"price":74.67,"sector":"Consumer Discretionary","shares":130,"position":9707.1},{"rank":65,"ticker":"HD","momentum":18.4280724138,"atr":6.1339,"price":337.8,"sector":"Consumer Discretionary","shares":40,"position":13512.0},{"rank":66,"ticker":"EXR","momentum":15.5265087736,"atr":3.72304,"price":176.66,"sector":"Real Estate","shares":67,"position":11836.22},{"rank":67,"ticker":"ROK","momentum":14.8315247509,"atr":5.777515,"price":297.96,"sector":"Industrials","shares":43,"position":12812.28},{"rank":68,"ticker":"CPRT","momentum":14.6094786842,"atr":3.80775,"price":138.51,"sector":"Industrials","shares":65,"position":9003.15},{"rank":69,"ticker":"AJG","momentum":14.2278797582,"atr":3.19959,"price":157.2,"sector":"Financials","shares":78,"position":12261.6},{"rank":70,"ticker":"PG","momentum":14.1935887419,"atr":1.94625,"price":142.11,"sector":"Consumer Staples","shares":128,"position":18190.08},{"rank":71,"ticker":"FFIV","momentum":14.0822811199,"atr":4.876,"price":197.69,"sector":"Information Technology","shares":51,"position":10082.19},{"rank":72,"ticker":"AVGO","momentum":13.6982227356,"atr":10.33515,"price":485.28,"sector":"Information Technology","shares":24,"position":11646.72},{"rank":73,"ticker":"DISH","momentum":13.3502921851,"atr":1.188245,"price":42.87,"sector":"Communication Services","shares":210,"position":9002.7},{"rank":74,"ticker":"MCK","momentum":12.7915421622,"atr":4.1705,"price":200.13,"sector":"Health Care","shares":59,"position":11807.67},{"rank":75,"ticker":"SHW","momentum":12.7463925183,"atr":5.828625,"price":291.86,"sector":"Materials","shares":42,"position":12258.12},{"rank":76,"ticker":"GD","momentum":12.2796604121,"atr":3.400995,"price":203.55,"sector":"Industrials","shares":73,"position":14859.15},{"rank":77,"ticker":"ZTS","momentum":11.8703148314,"atr":4.20746,"price":197.15,"sector":"Health Care","shares":59,"position":11631.85},{"rank":78,"ticker":"UDR","momentum":11.1248683128,"atr":1.036,"price":53.6,"sector":"Real Estate","shares":241,"position":12917.6},{"rank":79,"ticker":"PAYX","momentum":10.3205909302,"atr":2.025345,"price":117.33,"sector":"Information Technology","shares":123,"position":14431.59},{"rank":80,"ticker":"BK","momentum":10.2645047232,"atr":1.35725,"price":55.51,"sector":"Financials","shares":184,"position":10213.84},{"rank":81,"ticker":"HLT","momentum":9.9570140884,"atr":3.448995,"price":144.7,"sector":"Consumer Discretionary","shares":72,"position":10418.4},{"rank":82,"ticker":"GNRC","momentum":9.8979929795,"atr":15.558015,"price":421.43,"sector":"Industrials","shares":16,"position":6742.88},{"rank":83,"ticker":"JBHT","momentum":9.7296840456,"atr":3.875625,"price":170.39,"sector":"Industrials","shares":64,"position":10904.96},{"rank":84,"ticker":"MCD","momentum":9.6996570545,"atr":3.66204,"price":244.52,"sector":"Consumer Discretionary","shares":68,"position":16627.36},{"rank":85,"ticker":"PLD","momentum":9.6711082018,"atr":2.29771,"price":132.29,"sector":"Real Estate","shares":108,"position":14287.32},{"rank":86,"ticker":"STE","momentum":9.3861129643,"atr":4.7365,"price":218.21,"sector":"Health Care","shares":52,"position":11346.92},{"rank":87,"ticker":"FRC","momentum":9.2999194802,"atr":4.5765,"price":200.73,"sector":"Financials","shares":54,"position":10839.42},{"rank":88,"ticker":"LKQ","momentum":9.2511194391,"atr":1.32642,"price":52.79,"sector":"Consumer Discretionary","shares":188,"position":9924.52},{"rank":89,"ticker":"GS","momentum":9.1151919465,"atr":10.38325,"price":386.53,"sector":"Financials","shares":24,"position":9276.72},{"rank":90,"ticker":"TXT","momentum":9.0498161045,"atr":1.928505,"price":71.32,"sector":"Industrials","shares":129,"position":9200.28},{"rank":91,"ticker":"AVB","momentum":8.5405178222,"atr":4.3555,"price":226.5,"sector":"Real Estate","shares":57,"position":12910.5},{"rank":92,"ticker":"WY","momentum":7.8609798383,"atr":0.82065,"price":37.43,"sector":"Real Estate","shares":304,"position":11378.72},{"rank":93,"ticker":"ESS","momentum":7.180453257,"atr":6.9245,"price":330.49,"sector":"Real Estate","shares":36,"position":11897.64},{"rank":94,"ticker":"STT","momentum":7.1652551372,"atr":2.448965,"price":90.63,"sector":"Financials","shares":102,"position":9244.26},{"rank":95,"ticker":"JPM","momentum":6.8631285461,"atr":3.55947,"price":165.36,"sector":"Financials","shares":70,"position":11575.2},{"rank":96,"ticker":"PEP","momentum":6.0410880793,"atr":2.28725,"price":156.93,"sector":"Consumer Staples","shares":109,"position":17105.37},{"rank":97,"ticker":"FOXA","momentum":5.4977536874,"atr":1.1322,"price":42.0,"sector":"Communication Services","shares":220,"position":9240.0},{"rank":98,"ticker":"ARE","momentum":5.485344555,"atr":3.03125,"price":194.48,"sector":"Real Estate","shares":82,"position":15947.36},{"rank":99,"ticker":"ABC","momentum":5.0731134406,"atr":2.6405,"price":119.73,"sector":"Health Care","shares":94,"position":11254.62},{"rank":100,"ticker":"PNC","momentum":4.7585642959,"atr":4.262085,"price":203.3,"sector":"Financials","shares":58,"position":11791.4},{"rank":101,"ticker":"TSN","momentum":4.5107946806,"atr":1.285075,"price":79.24,"sector":"Consumer Staples","shares":194,"position":15372.56},{"rank":102,"ticker":"DFS","momentum":3.9864872818,"atr":3.810755,"price":127.39,"sector":"Financials","shares":65,"position":8280.35},{"rank":103,"ticker":"WFC","momentum":3.7872816957,"atr":1.258495,"price":46.65,"sector":"Financials","shares":198,"position":9236.7},{"rank":104,"ticker":"ICE","momentum":3.7293424496,"atr":2.294375,"price":127.54,"sector":"Financials","shares":108,"position":13774.32},{"rank":105,"ticker":"AIZ","momentum":3.1971576283,"atr":3.0395,"price":161.33,"sector":"Financials","shares":82,"position":13229.06},{"rank":106,"ticker":"ES","momentum":2.989607831,"atr":1.543,"price":85.51,"sector":"Utilities","shares":162,"position":13852.62},{"rank":107,"ticker":"BR","momentum":2.9658699916,"atr":2.903015,"price":170.71,"sector":"Information Technology","shares":86,"position":14681.06},{"rank":108,"ticker":"TRV","momentum":2.9158520262,"atr":3.040065,"price":156.48,"sector":"Financials","shares":82,"position":12831.36},{"rank":109,"ticker":"COF","momentum":2.643096894,"atr":4.35425,"price":167.65,"sector":"Financials","shares":57,"position":9556.05},{"rank":110,"ticker":"RE","momentum":2.5135877699,"atr":5.107905,"price":265.79,"sector":"Financials","shares":48,"position":12757.92},{"rank":111,"ticker":"LHX","momentum":2.2990914997,"atr":4.50657,"price":237.12,"sector":"Industrials","shares":55,"position":13041.6},{"rank":112,"ticker":"AAP","momentum":2.2611240142,"atr":4.33436,"price":212.01,"sector":"Consumer Discretionary","shares":57,"position":12084.57},{"rank":113,"ticker":"MAR","momentum":2.2438345997,"atr":3.849535,"price":157.45,"sector":"Consumer Discretionary","shares":64,"position":10076.8},{"rank":114,"ticker":"DRE","momentum":1.5336828953,"atr":0.95413,"price":51.55,"sector":"Real Estate","shares":262,"position":13506.1},{"rank":115,"ticker":"PSA","momentum":1.3768242945,"atr":6.1725,"price":311.31,"sector":"Real Estate","shares":40,"position":12452.4},{"rank":116,"ticker":"JNPR","momentum":1.082637504,"atr":0.545185,"price":28.35,"sector":"Information Technology","shares":458,"position":12984.3},{"rank":117,"ticker":"SCHW","momentum":0.9586874504,"atr":2.27899,"price":77.27,"sector":"Financials","shares":109,"position":8422.43},{"rank":118,"ticker":"MET","momentum":0.8863969617,"atr":1.55025,"price":64.78,"sector":"Financials","shares":161,"position":10429.58},{"rank":119,"ticker":"HSIC","momentum":0.6883462859,"atr":1.72089,"price":78.5,"sector":"Health Care","shares":145,"position":11382.5},{"rank":120,"ticker":"FOX","momentum":0.6547643002,"atr":0.897555,"price":38.82,"sector":"Communication Services","shares":278,"position":10791.96},{"rank":121,"ticker":"BKR","momentum":0.4853990003,"atr":0.85667,"price":25.75,"sector":"Energy","shares":291,"position":7493.25},{"rank":122,"ticker":"FAST","momentum":0.4625144338,"atr":1.108795,"price":53.83,"sector":"Industrials","shares":225,"position":12111.75},{"rank":123,"ticker":"ADP","momentum":0.3826125739,"atr":3.30867,"price":203.84,"sector":"Information Technology","shares":75,"position":15288.0},{"rank":124,"ticker":"CF","momentum":0.3145666515,"atr":2.11052,"price":60.9,"sector":"Materials","shares":118,"position":7186.2},{"rank":125,"ticker":"SYF","momentum":0.2926572776,"atr":1.407745,"price":49.69,"sector":"Financials","shares":177,"position":8795.13},{"rank":126,"ticker":"CNP","momentum":0.0616686227,"atr":0.5755,"price":26.04,"sector":"Utilities","shares":434,"position":11301.36},{"rank":127,"ticker":"CE","momentum":0.0041991977,"atr":3.930605,"price":159.24,"sector":"Materials","shares":63,"position":10032.12},{"rank":128,"ticker":"HSY","momentum":0.001157581,"atr":3.024055,"price":179.5,"sector":"Consumer Staples","shares":82,"position":14719.0},{"rank":129,"ticker":"MRK","momentum":-0.0000029736,"atr":1.92033,"price":79.59,"sector":"Health Care","shares":130,"position":10346.7},{"rank":130,"ticker":"L","momentum":-0.0045397292,"atr":1.15775,"price":56.89,"sector":"Financials","shares":215,"position":12231.35},{"rank":131,"ticker":"WLTW","momentum":-0.023887843,"atr":5.405955,"price":241.9,"sector":"Financials","shares":46,"position":11127.4},{"rank":132,"ticker":"RTX","momentum":-0.0641087387,"atr":1.63478,"price":89.72,"sector":"Industrials","shares":152,"position":13637.44},{"rank":133,"ticker":"ED","momentum":-0.1171477464,"atr":1.39827,"price":75.69,"sector":"Utilities","shares":178,"position":13472.82},{"rank":134,"ticker":"APTV","momentum":-0.1233964183,"atr":5.13475,"price":163.02,"sector":"Consumer Discretionary","shares":48,"position":7824.96},{"rank":135,"ticker":"NOC","momentum":-0.2997921722,"atr":6.8239,"price":390.07,"sector":"Industrials","shares":36,"position":14042.52},{"rank":136,"ticker":"ADM","momentum":-0.3023740646,"atr":1.382525,"price":63.39,"sector":"Consumer Staples","shares":180,"position":11410.2},{"rank":137,"ticker":"WRB","momentum":-0.3141711957,"atr":1.319,"price":76.46,"sector":"Financials","shares":189,"position":14450.94},{"rank":138,"ticker":"GIS","momentum":-0.4272725119,"atr":1.121615,"price":62.14,"sector":"Consumer Staples","shares":222,"position":13795.08},{"rank":139,"ticker":"ANET","momentum":-0.8194360965,"atr":8.18151,"price":374.95,"sector":"Information Technology","shares":30,"position":11248.5},{"rank":140,"ticker":"WMB","momentum":-0.9807948733,"atr":0.64375,"price":28.93,"sector":"Energy","shares":388,"position":11224.84},{"rank":141,"ticker":"NTRS","momentum":-1.3928927287,"atr":2.892595,"price":115.6,"sector":"Financials","shares":86,"position":9941.6},{"rank":142,"ticker":"CVX","momentum":-3.4817810385,"atr":2.335155,"price":107.15,"sector":"Energy","shares":107,"position":11465.05},{"rank":143,"ticker":"XOM","momentum":-6.6628662637,"atr":1.579235,"price":61.24,"sector":"Energy","shares":158,"position":9675.92},{"rank":144,"ticker":"F","momentum":-6.9802144507,"atr":0.489,"price":15.64,"sector":"Consumer Discretionary","shares":511,"position":7992.04},{"rank":145,"ticker":"NWS","momentum":-7.9486284713,"atr":0.58289,"price":23.99,"sector":"Communication Services","shares":428,"position":10267.72},{"rank":146,"ticker":"NSC","momentum":-11.3735299993,"atr":5.201985,"price":261.07,"sector":"Industrials","shares":48,"position":12531.36},{"rank":147,"ticker":"HII","momentum":-12.0906989658,"atr":4.46013,"price":212.17,"sector":"Industrials","shares":56,"position":11881.52},{"rank":148,"ticker":"GM","momentum":-20.8267448126,"atr":1.589255,"price":58.96,"sector":"Consumer Discretionary","shares":157,"position":9256.72},{"rank":149,"ticker":"KMI","momentum":-21.262149326,"atr":0.39738,"price":17.94,"sector":"Energy","shares":629,"position":11284.26},{"rank":150,"ticker":"TTWO","momentum":-22.7723863392,"atr":4.158335,"price":171.35,"sector":"Communication Services","shares":60,"position":10281.0},{"rank":151,"ticker":"BWA","momentum":-24.8847345334,"atr":1.455055,"price":47.32,"sector":"Consumer Discretionary","shares":171,"position":8091.72},{"rank":152,"ticker":"CTRA","momentum":-76.8693126535,"atr":0.1,"price":20.95,"sector":"Energy","shares":2500,"position":52375.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VLO","momentum":249.3160969672,"atr":5.69634,"price":127.34,"sector":"Energy","shares":43,"position":5475.62},{"rank":2,"ticker":"CTRA","momentum":234.2654624263,"atr":1.53731,"price":33.94,"sector":"Energy","shares":162,"position":5498.28},{"rank":3,"ticker":"CF","momentum":193.7738731879,"atr":6.04746,"price":100.57,"sector":"Materials","shares":41,"position":4123.37},{"rank":4,"ticker":"MCK","momentum":121.8466878886,"atr":10.0204,"price":333.48,"sector":"Health Care","shares":24,"position":8003.52},{"rank":5,"ticker":"DVN","momentum":117.5717751496,"atr":3.702785,"price":71.94,"sector":"Energy","shares":67,"position":4819.98},{"rank":6,"ticker":"MPC","momentum":116.4821177889,"atr":3.660915,"price":99.02,"sector":"Energy","shares":68,"position":6733.36},{"rank":7,"ticker":"CEG","momentum":94.3441920385,"atr":2.880775,"price":59.17,"sector":"Utilities","shares":86,"position":5088.62},{"rank":8,"ticker":"CVX","momentum":92.8142736767,"atr":6.041,"price":175.41,"sector":"Energy","shares":41,"position":7191.81},{"rank":9,"ticker":"LLY","momentum":92.6579242702,"atr":9.60975,"price":307.01,"sector":"Health Care","shares":26,"position":7982.26},{"rank":10,"ticker":"WMB","momentum":81.114043935,"atr":1.12153,"price":36.69,"sector":"Energy","shares":222,"position":8145.18},{"rank":11,"ticker":"SRE","momentum":80.272457209,"atr":3.9101,"price":166.74,"sector":"Utilities","shares":63,"position":10504.62},{"rank":12,"ticker":"WRB","momentum":74.0542075698,"atr":1.75429,"price":69.01,"sector":"Financials","shares":142,"position":9799.42},{"rank":13,"ticker":"CTVA","momentum":72.1995948046,"atr":1.91476,"price":62.01,"sector":"Materials","shares":130,"position":8061.3},{"rank":14,"ticker":"AIZ","momentum":71.4696687474,"atr":5.042,"price":181.27,"sector":"Financials","shares":49,"position":8882.23},{"rank":15,"ticker":"ADM","momentum":67.3632894967,"atr":2.88081,"price":88.77,"sector":"Consumer Staples","shares":86,"position":7634.22},{"rank":16,"ticker":"EXC","momentum":59.510371551,"atr":1.2275,"price":49.02,"sector":"Utilities","shares":203,"position":9951.06},{"rank":17,"ticker":"HAL","momentum":59.2905341908,"atr":1.79745,"price":38.78,"sector":"Energy","shares":139,"position":5390.42},{"rank":18,"ticker":"XOM","momentum":58.303989977,"atr":3.2545,"price":96.3,"sector":"Energy","shares":76,"position":7318.8},{"rank":19,"ticker":"IRM","momentum":56.46827132,"atr":1.84548,"price":51.34,"sector":"Real Estate","shares":135,"position":6930.9},{"rank":20,"ticker":"ED","momentum":53.6218019845,"atr":2.310745,"price":100.32,"sector":"Utilities","shares":108,"position":10834.56},{"rank":21,"ticker":"DOW","momentum":48.2549646869,"atr":1.984595,"price":67.3,"sector":"Materials","shares":125,"position":8412.5},{"rank":22,"ticker":"MRK","momentum":48.2116005571,"atr":2.12676,"price":93.75,"sector":"Health Care","shares":117,"position":10968.75},{"rank":23,"ticker":"BKR","momentum":48.1787722411,"atr":1.52343,"price":35.72,"sector":"Energy","shares":164,"position":5858.08},{"rank":24,"ticker":"NOC","momentum":47.9339449686,"atr":12.25646,"price":467.62,"sector":"Industrials","shares":20,"position":9352.4},{"rank":25,"ticker":"ABC","momentum":47.6499051819,"atr":4.88275,"price":154.27,"sector":"Health Care","shares":51,"position":7867.77},{"rank":26,"ticker":"CNP","momentum":47.2967205173,"atr":0.709,"price":31.84,"sector":"Utilities","shares":352,"position":11207.68},{"rank":27,"ticker":"KHC","momentum":46.400948008,"atr":1.26208,"price":39.88,"sector":"Consumer Staples","shares":198,"position":7896.24},{"rank":28,"ticker":"AEP","momentum":44.7730048358,"atr":2.45245,"price":102.48,"sector":"Utilities","shares":101,"position":10350.48},{"rank":29,"ticker":"COP","momentum":43.2143683376,"atr":4.87375,"price":111.2,"sector":"Energy","shares":51,"position":5671.2},{"rank":30,"ticker":"CI","momentum":42.857802908,"atr":7.47985,"price":265.75,"sector":"Health Care","shares":33,"position":8769.75},{"rank":31,"ticker":"ANTM","momentum":40.0693063535,"atr":14.30675,"price":504.78,"sector":"Health Care","shares":17,"position":8581.26},{"rank":32,"ticker":"SO","momentum":34.5274674621,"atr":1.686885,"price":75.69,"sector":"Utilities","shares":148,"position":11202.12},{"rank":33,"ticker":"DTE","momentum":33.5319632092,"atr":2.995245,"price":133.02,"sector":"Utilities","shares":83,"position":11040.66},{"rank":34,"ticker":"HST","momentum":31.469310893,"atr":0.97604,"price":19.35,"sector":"Real Estate","shares":256,"position":4953.6},{"rank":35,"ticker":"XEL","momentum":31.3543759802,"atr":1.7471,"price":75.7,"sector":"Utilities","shares":143,"position":10825.1},{"rank":36,"ticker":"CMS","momentum":30.9646860093,"atr":1.59635,"price":70.54,"sector":"Utilities","shares":156,"position":11004.24},{"rank":37,"ticker":"HSY","momentum":30.5806698756,"atr":5.79581,"price":211.43,"sector":"Consumer Staples","shares":43,"position":9091.49},{"rank":38,"ticker":"LYB","momentum":29.0980948016,"atr":3.72793,"price":109.01,"sector":"Materials","shares":67,"position":7303.67},{"rank":39,"ticker":"EIX","momentum":28.4875175604,"atr":1.898,"price":68.42,"sector":"Utilities","shares":131,"position":8963.02},{"rank":40,"ticker":"TAP","momentum":28.0206279703,"atr":1.808335,"price":54.33,"sector":"Consumer Staples","shares":138,"position":7497.54},{"rank":41,"ticker":"WEC","momentum":27.9983936264,"atr":2.562795,"price":105.81,"sector":"Utilities","shares":97,"position":10263.57},{"rank":42,"ticker":"ROL","momentum":27.8621887566,"atr":1.055405,"price":35.32,"sector":"Industrials","shares":236,"position":8335.52},{"rank":43,"ticker":"VRTX","momentum":27.7617341896,"atr":9.880745,"price":270.84,"sector":"Health Care","shares":25,"position":6771.0},{"rank":44,"ticker":"KMI","momentum":27.6132651656,"atr":0.579995,"price":19.39,"sector":"Energy","shares":431,"position":8357.09},{"rank":45,"ticker":"PWR","momentum":27.4922391515,"atr":4.86525,"price":118.36,"sector":"Industrials","shares":51,"position":6036.36},{"rank":46,"ticker":"ETR","momentum":27.0665563987,"atr":2.839375,"price":118.84,"sector":"Utilities","shares":88,"position":10457.92},{"rank":47,"ticker":"PKG","momentum":26.9820674843,"atr":4.22313,"price":153.34,"sector":"Materials","shares":59,"position":9047.06},{"rank":48,"ticker":"AEE","momentum":25.5439742003,"atr":1.91813,"price":95.49,"sector":"Utilities","shares":130,"position":12413.7},{"rank":49,"ticker":"TMUS","momentum":25.2621900746,"atr":4.279495,"price":131.44,"sector":"Communication Services","shares":58,"position":7623.52},{"rank":50,"ticker":"DUK","momentum":24.1840161584,"atr":2.565635,"price":112.39,"sector":"Utilities","shares":97,"position":10901.83},{"rank":51,"ticker":"JKHY","momentum":23.551811195,"atr":5.023245,"price":183.92,"sector":"Information Technology","shares":49,"position":9012.08},{"rank":52,"ticker":"HII","momentum":23.3684152728,"atr":6.50084,"price":206.12,"sector":"Industrials","shares":38,"position":7832.56},{"rank":53,"ticker":"AMGN","momentum":20.375642685,"atr":5.90445,"price":253.01,"sector":"Health Care","shares":42,"position":10626.42},{"rank":54,"ticker":"ATO","momentum":18.9911968058,"atr":2.57658,"price":115.92,"sector":"Utilities","shares":97,"position":11244.24},{"rank":55,"ticker":"EVRG","momentum":18.2386758647,"atr":1.5527,"price":69.52,"sector":"Utilities","shares":161,"position":11192.72},{"rank":56,"ticker":"HSIC","momentum":17.9751524911,"atr":2.55825,"price":85.18,"sector":"Health Care","shares":97,"position":8262.46},{"rank":57,"ticker":"JNJ","momentum":17.7145204813,"atr":3.17136,"price":179.62,"sector":"Health Care","shares":78,"position":14010.36},{"rank":58,"ticker":"J","momentum":17.5043973394,"atr":4.30967,"price":137.32,"sector":"Industrials","shares":58,"position":7964.56},{"rank":59,"ticker":"WM","momentum":16.8425085327,"atr":4.2015,"price":156.01,"sector":"Industrials","shares":59,"position":9204.59},{"rank":60,"ticker":"MO","momentum":16.5085590369,"atr":1.53507,"price":53.89,"sector":"Consumer Staples","shares":162,"position":8730.18},{"rank":61,"ticker":"K","momentum":16.380974173,"atr":2.105685,"price":70.13,"sector":"Consumer Staples","shares":118,"position":8275.34},{"rank":62,"ticker":"FMC","momentum":15.64397826,"atr":4.537465,"price":122.28,"sector":"Materials","shares":55,"position":6725.4},{"rank":63,"ticker":"CPB","momentum":15.358452014,"atr":1.49469,"price":47.98,"sector":"Consumer Staples","shares":167,"position":8012.66},{"rank":64,"ticker":"VTR","momentum":14.5548705412,"atr":1.7607,"price":57.48,"sector":"Real Estate","shares":141,"position":8104.68},{"rank":65,"ticker":"PNW","momentum":14.176500745,"atr":1.96686,"price":77.78,"sector":"Utilities","shares":127,"position":9878.06},{"rank":66,"ticker":"L","momentum":13.8882746709,"atr":1.6455,"price":64.2,"sector":"Financials","shares":151,"position":9694.2},{"rank":67,"ticker":"HOLX","momentum":13.4508880064,"atr":2.19975,"price":76.0,"sector":"Health Care","shares":113,"position":8588.0},{"rank":68,"ticker":"NI","momentum":12.7188891648,"atr":0.65515,"price":31.44,"sector":"Utilities","shares":381,"position":11978.64},{"rank":69,"ticker":"D","momentum":12.6497110539,"atr":2.024345,"price":84.66,"sector":"Utilities","shares":123,"position":10413.18},{"rank":70,"ticker":"REGN","momentum":12.3334789669,"atr":20.34681,"price":690.88,"sector":"Health Care","shares":12,"position":8290.56},{"rank":71,"ticker":"PEG","momentum":12.2768094405,"atr":1.4259,"price":68.13,"sector":"Utilities","shares":175,"position":11922.75},{"rank":72,"ticker":"SBAC","momentum":10.6686332203,"atr":11.96075,"price":346.36,"sector":"Real Estate","shares":20,"position":6927.2},{"rank":73,"ticker":"ALL","momentum":10.1802374166,"atr":3.4655,"price":130.95,"sector":"Financials","shares":72,"position":9428.4},{"rank":74,"ticker":"RSG","momentum":9.5855525839,"atr":3.5327,"price":132.95,"sector":"Industrials","shares":70,"position":9306.5},{"rank":75,"ticker":"UNH","momentum":9.3284254045,"atr":14.620425,"price":498.09,"sector":"Health Care","shares":17,"position":8467.53},{"rank":76,"ticker":"ES","momentum":8.9695846313,"atr":2.178035,"price":92.15,"sector":"Utilities","shares":114,"position":10505.1},{"rank":77,"ticker":"CHRW","momentum":7.6651146201,"atr":3.87295,"price":106.18,"sector":"Industrials","shares":64,"position":6795.52},{"rank":78,"ticker":"INCY","momentum":7.5670253628,"atr":2.57599,"price":76.51,"sector":"Health Care","shares":97,"position":7421.47},{"rank":79,"ticker":"CERN","momentum":7.0849947746,"atr":0.36475,"price":94.59,"sector":"Health Care","shares":685,"position":64794.15},{"rank":80,"ticker":"SLB","momentum":6.4318980029,"atr":2.10675,"price":45.05,"sector":"Energy","shares":118,"position":5315.9},{"rank":81,"ticker":"BALL","momentum":6.1757648021,"atr":0.1,"price":70.29,"sector":"Materials","shares":2500,"position":175725.0},{"rank":82,"ticker":"STZ","momentum":5.6653068043,"atr":5.80563,"price":243.03,"sector":"Consumer Staples","shares":43,"position":10450.29},{"rank":83,"ticker":"CB","momentum":5.6250104622,"atr":5.161655,"price":207.98,"sector":"Financials","shares":48,"position":9983.04},{"rank":84,"ticker":"AMCR","momentum":5.2190970834,"atr":0.43154,"price":12.97,"sector":"Materials","shares":579,"position":7509.63},{"rank":85,"ticker":"T","momentum":4.9085064008,"atr":0.494185,"price":21.3,"sector":"Communication Services","shares":505,"position":10756.5},{"rank":86,"ticker":"MOH","momentum":4.8207288236,"atr":10.09024,"price":314.68,"sector":"Health Care","shares":24,"position":7552.32},{"rank":87,"ticker":"PSX","momentum":3.9153701703,"atr":3.79675,"price":99.08,"sector":"Energy","shares":65,"position":6440.2},{"rank":88,"ticker":"CNC","momentum":3.4916531213,"atr":2.92125,"price":85.31,"sector":"Health Care","shares":85,"position":7251.35},{"rank":89,"ticker":"NRG","momentum":3.4775324171,"atr":1.463,"price":46.85,"sector":"Utilities","shares":170,"position":7964.5},{"rank":90,"ticker":"PGR","momentum":3.3073060144,"atr":3.28775,"price":115.62,"sector":"Financials","shares":76,"position":8787.12},{"rank":91,"ticker":"CCI","momentum":2.9417917803,"atr":5.144835,"price":190.18,"sector":"Real Estate","shares":48,"position":9128.64},{"rank":92,"ticker":"GIS","momentum":2.7658890895,"atr":1.860315,"price":69.26,"sector":"Consumer Staples","shares":134,"position":9280.84},{"rank":93,"ticker":"FANG","momentum":2.4270784291,"atr":7.33094,"price":141.75,"sector":"Energy","shares":34,"position":4819.5},{"rank":94,"ticker":"TRV","momentum":2.3604672989,"atr":3.67403,"price":173.59,"sector":"Financials","shares":68,"position":11804.12},{"rank":95,"ticker":"SNA","momentum":2.3177026079,"atr":6.790865,"price":215.21,"sector":"Industrials","shares":36,"position":7747.56},{"rank":96,"ticker":"OGN","momentum":1.3148070107,"atr":1.26961,"price":38.1,"sector":"Health Care","shares":196,"position":7467.6},{"rank":97,"ticker":"LNT","momentum":1.2694537461,"atr":1.526625,"price":61.25,"sector":"Utilities","shares":163,"position":9983.75},{"rank":98,"ticker":"GPC","momentum":0.7033599047,"atr":4.23325,"price":133.17,"sector":"Consumer Discretionary","shares":59,"position":7857.03},{"rank":99,"ticker":"LIN","momentum":0.6290064696,"atr":8.65062,"price":315.85,"sector":"Materials","shares":28,"position":8843.8},{"rank":100,"ticker":"DGX","momentum":0.5460484028,"atr":3.765125,"price":141.03,"sector":"Health Care","shares":66,"position":9307.98},{"rank":101,"ticker":"IP","momentum":0.5005685544,"atr":1.457,"price":47.89,"sector":"Materials","shares":171,"position":8189.19},{"rank":102,"ticker":"MNST","momentum":0.3007799448,"atr":2.92695,"price":87.73,"sector":"Consumer Staples","shares":85,"position":7457.05},{"rank":103,"ticker":"PPL","momentum":0.205494969,"atr":0.604945,"price":29.94,"sector":"Utilities","shares":413,"position":12365.22},{"rank":104,"ticker":"IBM","momentum":0.1881747666,"atr":3.71225,"price":134.39,"sector":"Information Technology","shares":67,"position":9004.13},{"rank":105,"ticker":"AMT","momentum":0.0959573334,"atr":8.06627,"price":260.29,"sector":"Real Estate","shares":30,"position":7808.7},{"rank":106,"ticker":"WDC","momentum":0.0438990121,"atr":2.92901,"price":59.1,"sector":"Information Technology","shares":85,"position":5023.5},{"rank":107,"ticker":"PM","momentum":-0.0359048619,"atr":3.17625,"price":108.57,"sector":"Consumer Staples","shares":78,"position":8468.46},{"rank":108,"ticker":"ADI","momentum":-0.0606371981,"atr":5.942865,"price":162.32,"sector":"Information Technology","shares":42,"position":6817.44},{"rank":109,"ticker":"PFE","momentum":-0.0744889805,"atr":1.44639,"price":53.71,"sector":"Health Care","shares":172,"position":9238.12},{"rank":110,"ticker":"GILD","momentum":-2.1478786419,"atr":1.346995,"price":65.01,"sector":"Health Care","shares":185,"position":12026.85},{"rank":111,"ticker":"MTB","momentum":-3.2258056107,"atr":5.52145,"price":173.66,"sector":"Financials","shares":45,"position":7814.7},{"rank":112,"ticker":"CE","momentum":-3.7621296775,"atr":5.960915,"price":151.47,"sector":"Materials","shares":41,"position":6210.27},{"rank":113,"ticker":"EA","momentum":-7.3048510616,"atr":5.054855,"price":137.35,"sector":"Communication Services","shares":49,"position":6730.15}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

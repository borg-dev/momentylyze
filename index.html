<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VLO","momentum":285.4825038609,"atr":5.41734,"price":133.62,"sector":"Energy","shares":46,"position":6146.52},{"rank":2,"ticker":"CTRA","momentum":240.4769961609,"atr":1.55712,"price":34.98,"sector":"Energy","shares":160,"position":5596.8},{"rank":3,"ticker":"MPC","momentum":130.1041897072,"atr":3.325465,"price":104.27,"sector":"Energy","shares":75,"position":7820.25},{"rank":4,"ticker":"DVN","momentum":125.2925731445,"atr":3.539785,"price":76.31,"sector":"Energy","shares":70,"position":5341.7},{"rank":5,"ticker":"CF","momentum":120.0835034058,"atr":6.13199,"price":97.51,"sector":"Materials","shares":40,"position":3900.4},{"rank":6,"ticker":"MCK","momentum":105.7044507035,"atr":10.3653,"price":318.58,"sector":"Health Care","shares":24,"position":7645.92},{"rank":7,"ticker":"CEG","momentum":101.5754786469,"atr":3.10716,"price":63.75,"sector":"Utilities","shares":80,"position":5100.0},{"rank":8,"ticker":"LLY","momentum":95.6968130501,"atr":10.014,"price":302.43,"sector":"Health Care","shares":24,"position":7258.32},{"rank":9,"ticker":"WMB","momentum":81.2360857218,"atr":1.03828,"price":37.74,"sector":"Energy","shares":240,"position":9057.6},{"rank":10,"ticker":"CVX","momentum":79.5293789929,"atr":5.5565,"price":176.0,"sector":"Energy","shares":44,"position":7744.0},{"rank":11,"ticker":"CTVA","momentum":68.9402640709,"atr":1.93496,"price":62.54,"sector":"Materials","shares":129,"position":8067.66},{"rank":12,"ticker":"BMY","momentum":68.1217126848,"atr":1.5468,"price":75.07,"sector":"Health Care","shares":161,"position":12086.27},{"rank":13,"ticker":"SRE","momentum":65.4327028744,"atr":3.73954,"price":162.91,"sector":"Utilities","shares":66,"position":10752.06},{"rank":14,"ticker":"MRK","momentum":64.5825082471,"atr":2.02176,"price":90.0,"sector":"Health Care","shares":123,"position":11070.0},{"rank":15,"ticker":"XOM","momentum":60.3710354915,"atr":3.039025,"price":97.67,"sector":"Energy","shares":82,"position":8008.94},{"rank":16,"ticker":"PXD","momentum":58.9683720264,"atr":11.265215,"price":275.29,"sector":"Energy","shares":22,"position":6056.38},{"rank":17,"ticker":"CI","momentum":57.2881263485,"atr":7.4226,"price":263.43,"sector":"Health Care","shares":33,"position":8693.19},{"rank":18,"ticker":"EXC","momentum":55.0898608487,"atr":1.151,"price":48.99,"sector":"Utilities","shares":217,"position":10630.83},{"rank":19,"ticker":"ED","momentum":51.5179868559,"atr":2.200365,"price":98.58,"sector":"Utilities","shares":113,"position":11139.54},{"rank":20,"ticker":"HAL","momentum":49.5440198557,"atr":1.80845,"price":41.04,"sector":"Energy","shares":138,"position":5663.52},{"rank":21,"ticker":"AIZ","momentum":48.8043850385,"atr":4.61525,"price":179.93,"sector":"Financials","shares":54,"position":9716.22},{"rank":22,"ticker":"DOW","momentum":47.5720472646,"atr":1.910495,"price":68.1,"sector":"Materials","shares":130,"position":8853.0},{"rank":23,"ticker":"CNP","momentum":47.3556429399,"atr":0.64419,"price":32.1,"sector":"Utilities","shares":388,"position":12454.8},{"rank":24,"ticker":"NOC","momentum":47.1296594255,"atr":11.905105,"price":462.87,"sector":"Industrials","shares":20,"position":9257.4},{"rank":25,"ticker":"AEP","momentum":46.068734638,"atr":2.1596,"price":102.25,"sector":"Utilities","shares":115,"position":11758.75},{"rank":26,"ticker":"COP","momentum":45.8224332179,"atr":4.72825,"price":114.96,"sector":"Energy","shares":52,"position":5977.92},{"rank":27,"ticker":"ADM","momentum":44.3026609194,"atr":2.959015,"price":89.28,"sector":"Consumer Staples","shares":84,"position":7499.52},{"rank":28,"ticker":"IRM","momentum":41.914390087,"atr":1.65073,"price":53.8,"sector":"Real Estate","shares":151,"position":8123.8},{"rank":29,"ticker":"SO","momentum":39.5905925271,"atr":1.48867,"price":75.95,"sector":"Utilities","shares":167,"position":12683.65},{"rank":30,"ticker":"BKR","momentum":39.5891136509,"atr":1.545555,"price":36.91,"sector":"Energy","shares":161,"position":5942.51},{"rank":31,"ticker":"ANTM","momentum":38.9455951062,"atr":13.45475,"price":496.93,"sector":"Health Care","shares":18,"position":8944.74},{"rank":32,"ticker":"WEC","momentum":37.916601148,"atr":2.349795,"price":104.86,"sector":"Utilities","shares":106,"position":11115.16},{"rank":33,"ticker":"LYB","momentum":37.6171131714,"atr":3.5739,"price":110.05,"sector":"Materials","shares":69,"position":7593.45},{"rank":34,"ticker":"XEL","momentum":33.8959273611,"atr":1.6226,"price":75.48,"sector":"Utilities","shares":154,"position":11623.92},{"rank":35,"ticker":"KMI","momentum":32.630193699,"atr":0.53406,"price":19.96,"sector":"Energy","shares":468,"position":9341.28},{"rank":36,"ticker":"HST","momentum":31.5569520352,"atr":0.955,"price":20.69,"sector":"Real Estate","shares":261,"position":5400.09},{"rank":37,"ticker":"ROL","momentum":31.3188429206,"atr":1.003215,"price":34.79,"sector":"Industrials","shares":249,"position":8662.71},{"rank":38,"ticker":"TAP","momentum":30.376722871,"atr":1.670835,"price":53.98,"sector":"Consumer Staples","shares":149,"position":8043.02},{"rank":39,"ticker":"BALL","momentum":30.0258746368,"atr":0.1,"price":72.51,"sector":"Materials","shares":2500,"position":181275.0},{"rank":40,"ticker":"CMS","momentum":29.7862882057,"atr":1.4258,"price":71.28,"sector":"Utilities","shares":175,"position":12474.0},{"rank":41,"ticker":"EIX","momentum":29.7326081489,"atr":1.8172,"price":70.36,"sector":"Utilities","shares":137,"position":9639.32},{"rank":42,"ticker":"ETR","momentum":29.3647548481,"atr":2.664375,"price":120.41,"sector":"Utilities","shares":93,"position":11198.13},{"rank":43,"ticker":"DTE","momentum":29.0037575419,"atr":2.617245,"price":132.79,"sector":"Utilities","shares":95,"position":12615.05},{"rank":44,"ticker":"AEE","momentum":27.6584158676,"atr":1.767,"price":94.11,"sector":"Utilities","shares":141,"position":13269.51},{"rank":45,"ticker":"K","momentum":25.3222002661,"atr":2.072935,"price":68.18,"sector":"Consumer Staples","shares":120,"position":8181.6},{"rank":46,"ticker":"AMGN","momentum":25.3134297104,"atr":5.34755,"price":248.28,"sector":"Health Care","shares":46,"position":11420.88},{"rank":47,"ticker":"LDOS","momentum":25.2361655318,"atr":2.312725,"price":105.65,"sector":"Industrials","shares":108,"position":11410.2},{"rank":48,"ticker":"VRTX","momentum":25.1752382238,"atr":9.072995,"price":270.05,"sector":"Health Care","shares":27,"position":7291.35},{"rank":49,"ticker":"DUK","momentum":23.8386405605,"atr":2.31698,"price":111.79,"sector":"Utilities","shares":107,"position":11961.53},{"rank":50,"ticker":"HII","momentum":23.6173418225,"atr":6.185125,"price":211.8,"sector":"Industrials","shares":40,"position":8472.0},{"rank":51,"ticker":"CPB","momentum":22.3034525455,"atr":1.48969,"price":45.75,"sector":"Consumer Staples","shares":167,"position":7640.25},{"rank":52,"ticker":"EVRG","momentum":21.788677563,"atr":1.43395,"price":70.01,"sector":"Utilities","shares":174,"position":12181.74},{"rank":53,"ticker":"KR","momentum":21.5097209992,"atr":1.822735,"price":52.88,"sector":"Consumer Staples","shares":137,"position":7244.56},{"rank":54,"ticker":"WM","momentum":21.060454679,"atr":3.578155,"price":159.38,"sector":"Industrials","shares":69,"position":10997.22},{"rank":55,"ticker":"LMT","momentum":20.3769776092,"atr":9.90287,"price":441.11,"sector":"Industrials","shares":25,"position":11027.75},{"rank":56,"ticker":"J","momentum":19.8399224325,"atr":3.84292,"price":140.27,"sector":"Industrials","shares":65,"position":9117.55},{"rank":57,"ticker":"CHRW","momentum":19.2870507869,"atr":3.3382,"price":107.57,"sector":"Industrials","shares":74,"position":7960.18},{"rank":58,"ticker":"PWR","momentum":18.3952228427,"atr":4.91955,"price":124.57,"sector":"Industrials","shares":50,"position":6228.5},{"rank":59,"ticker":"PKG","momentum":17.8647122939,"atr":4.29913,"price":159.69,"sector":"Materials","shares":58,"position":9262.02},{"rank":60,"ticker":"AMCR","momentum":17.3314802246,"atr":0.35629,"price":13.45,"sector":"Materials","shares":701,"position":9428.45},{"rank":61,"ticker":"TMUS","momentum":17.0522280101,"atr":3.510495,"price":135.8,"sector":"Communication Services","shares":71,"position":9641.8},{"rank":62,"ticker":"PNW","momentum":15.8452280077,"atr":1.78911,"price":77.58,"sector":"Utilities","shares":139,"position":10783.62},{"rank":63,"ticker":"JKHY","momentum":15.0739013558,"atr":4.26787,"price":187.55,"sector":"Information Technology","shares":58,"position":10877.9},{"rank":64,"ticker":"MO","momentum":14.9112560689,"atr":1.37107,"price":54.15,"sector":"Consumer Staples","shares":182,"position":9855.3},{"rank":65,"ticker":"JNJ","momentum":14.3919106144,"atr":3.27325,"price":177.15,"sector":"Health Care","shares":76,"position":13463.4},{"rank":66,"ticker":"RSG","momentum":14.3704505445,"atr":3.2144,"price":135.39,"sector":"Industrials","shares":77,"position":10425.03},{"rank":67,"ticker":"ES","momentum":14.2560817078,"atr":1.987035,"price":92.42,"sector":"Utilities","shares":125,"position":11552.5},{"rank":68,"ticker":"ATO","momentum":14.0648257536,"atr":2.43708,"price":116.6,"sector":"Utilities","shares":102,"position":11893.2},{"rank":69,"ticker":"DG","momentum":13.5920929147,"atr":10.175965,"price":224.72,"sector":"Consumer Discretionary","shares":24,"position":5393.28},{"rank":70,"ticker":"NRG","momentum":13.0006323751,"atr":1.41675,"price":45.92,"sector":"Utilities","shares":176,"position":8081.92},{"rank":71,"ticker":"L","momentum":12.5378686868,"atr":1.53275,"price":65.37,"sector":"Financials","shares":163,"position":10655.31},{"rank":72,"ticker":"PSX","momentum":12.438285268,"atr":3.537265,"price":103.0,"sector":"Energy","shares":70,"position":7210.0},{"rank":73,"ticker":"STZ","momentum":12.4210260759,"atr":5.44833,"price":245.79,"sector":"Consumer Staples","shares":45,"position":11060.55},{"rank":74,"ticker":"HOLX","momentum":11.3804285739,"atr":2.0055,"price":75.99,"sector":"Health Care","shares":124,"position":9422.76},{"rank":75,"ticker":"NI","momentum":10.4266419777,"atr":0.58365,"price":31.41,"sector":"Utilities","shares":428,"position":13443.48},{"rank":76,"ticker":"D","momentum":10.2621788474,"atr":1.9182,"price":83.48,"sector":"Utilities","shares":130,"position":10852.4},{"rank":77,"ticker":"KO","momentum":9.8472296915,"atr":1.516305,"price":63.73,"sector":"Consumer Staples","shares":164,"position":10451.72},{"rank":78,"ticker":"SBAC","momentum":9.5825648158,"atr":11.65075,"price":335.97,"sector":"Real Estate","shares":21,"position":7055.37},{"rank":79,"ticker":"HSIC","momentum":8.7678664887,"atr":2.327,"price":84.98,"sector":"Health Care","shares":107,"position":9092.86},{"rank":80,"ticker":"WRK","momentum":8.6326215103,"atr":1.939185,"price":49.44,"sector":"Materials","shares":128,"position":6328.32},{"rank":81,"ticker":"ALL","momentum":8.5395865447,"atr":3.3175,"price":134.15,"sector":"Financials","shares":75,"position":10061.25},{"rank":82,"ticker":"ADP","momentum":8.4437007237,"atr":5.66135,"price":223.71,"sector":"Information Technology","shares":44,"position":9843.24},{"rank":83,"ticker":"PEG","momentum":8.4400197941,"atr":1.32215,"price":68.54,"sector":"Utilities","shares":189,"position":12954.06},{"rank":84,"ticker":"SLB","momentum":8.2665901367,"atr":2.1265,"price":46.3,"sector":"Energy","shares":117,"position":5417.1},{"rank":85,"ticker":"VTR","momentum":8.031357901,"atr":1.68545,"price":56.57,"sector":"Real Estate","shares":148,"position":8372.36},{"rank":86,"ticker":"FMC","momentum":7.4093055416,"atr":3.99055,"price":125.55,"sector":"Materials","shares":62,"position":7784.1},{"rank":87,"ticker":"CERN","momentum":7.2522459093,"atr":0.356,"price":94.96,"sector":"Health Care","shares":702,"position":66661.92},{"rank":88,"ticker":"PGR","momentum":7.1133947479,"atr":3.01825,"price":119.38,"sector":"Financials","shares":82,"position":9789.16},{"rank":89,"ticker":"CCI","momentum":6.7633964316,"atr":5.222335,"price":187.21,"sector":"Real Estate","shares":47,"position":8798.87},{"rank":90,"ticker":"WDC","momentum":6.735710838,"atr":2.57951,"price":61.93,"sector":"Information Technology","shares":96,"position":5945.28},{"rank":91,"ticker":"ULTA","momentum":5.2834634148,"atr":20.263395,"price":416.54,"sector":"Consumer Discretionary","shares":12,"position":4998.48},{"rank":92,"ticker":"GPC","momentum":4.6658813003,"atr":3.945525,"price":136.78,"sector":"Consumer Discretionary","shares":63,"position":8617.14},{"rank":93,"ticker":"LHX","momentum":4.6005065591,"atr":5.18318,"price":240.69,"sector":"Industrials","shares":48,"position":11553.12},{"rank":94,"ticker":"AJG","momentum":4.5598549928,"atr":4.65928,"price":164.37,"sector":"Financials","shares":53,"position":8711.61},{"rank":95,"ticker":"CINF","momentum":4.431727316,"atr":2.888895,"price":127.35,"sector":"Financials","shares":86,"position":10952.1},{"rank":96,"ticker":"GD","momentum":4.229969899,"atr":5.90179,"price":229.44,"sector":"Industrials","shares":42,"position":9636.48},{"rank":97,"ticker":"SNA","momentum":4.1218815838,"atr":6.239835,"price":220.49,"sector":"Industrials","shares":40,"position":8819.6},{"rank":98,"ticker":"GIS","momentum":4.0183001679,"atr":1.80804,"price":68.68,"sector":"Consumer Staples","shares":138,"position":9477.84},{"rank":99,"ticker":"LIN","momentum":3.9665886051,"atr":8.52662,"price":333.18,"sector":"Materials","shares":29,"position":9662.22},{"rank":100,"ticker":"FANG","momentum":3.8402346673,"atr":7.263845,"price":153.9,"sector":"Energy","shares":34,"position":5232.6},{"rank":101,"ticker":"CAT","momentum":3.7683604206,"atr":6.58375,"price":220.0,"sector":"Industrials","shares":37,"position":8140.0},{"rank":102,"ticker":"IP","momentum":3.3408323323,"atr":1.269,"price":47.5,"sector":"Materials","shares":197,"position":9357.5},{"rank":103,"ticker":"MNST","momentum":3.3338002214,"atr":2.70295,"price":90.34,"sector":"Consumer Staples","shares":92,"position":8311.28},{"rank":104,"ticker":"MMC","momentum":2.9236775107,"atr":4.22925,"price":160.09,"sector":"Financials","shares":59,"position":9445.31},{"rank":105,"ticker":"PPL","momentum":2.7097882368,"atr":0.594445,"price":29.94,"sector":"Utilities","shares":420,"position":12574.8},{"rank":106,"ticker":"LNT","momentum":2.6099640051,"atr":1.50775,"price":62.4,"sector":"Utilities","shares":165,"position":10296.0},{"rank":107,"ticker":"CB","momentum":2.5286009078,"atr":4.922655,"price":209.91,"sector":"Financials","shares":50,"position":10495.5},{"rank":108,"ticker":"HWM","momentum":2.4601551094,"atr":1.3605,"price":36.99,"sector":"Industrials","shares":183,"position":6769.17},{"rank":109,"ticker":"OKE","momentum":2.4142368072,"atr":2.19895,"price":67.41,"sector":"Energy","shares":113,"position":7617.33},{"rank":110,"ticker":"PAYX","momentum":2.1472611758,"atr":3.376975,"price":125.95,"sector":"Information Technology","shares":74,"position":9320.3},{"rank":111,"ticker":"DGX","momentum":1.9352667762,"atr":3.623375,"price":138.65,"sector":"Health Care","shares":68,"position":9428.2},{"rank":112,"ticker":"AZO","momentum":1.6176587719,"atr":83.889395,"price":2061.3,"sector":"Consumer Discretionary","shares":2,"position":4122.6},{"rank":113,"ticker":"SYY","momentum":1.3276984466,"atr":3.10334,"price":84.32,"sector":"Consumer Staples","shares":80,"position":6745.6},{"rank":114,"ticker":"OGN","momentum":1.215096567,"atr":1.28211,"price":37.33,"sector":"Health Care","shares":194,"position":7242.02},{"rank":115,"ticker":"IBM","momentum":1.1859615068,"atr":3.626215,"price":140.15,"sector":"Information Technology","shares":68,"position":9530.2},{"rank":116,"ticker":"AMT","momentum":0.8923643059,"atr":7.91402,"price":262.36,"sector":"Real Estate","shares":31,"position":8133.16},{"rank":117,"ticker":"TRV","momentum":0.8022152241,"atr":3.64298,"price":178.06,"sector":"Financials","shares":68,"position":12108.08},{"rank":118,"ticker":"FLT","momentum":0.2286448402,"atr":9.11675,"price":245.26,"sector":"Information Technology","shares":27,"position":6622.02},{"rank":119,"ticker":"CTAS","momentum":0.20011974,"atr":11.11154,"price":398.23,"sector":"Industrials","shares":22,"position":8761.06},{"rank":120,"ticker":"MAR","momentum":0.1601939843,"atr":7.372325,"price":174.42,"sector":"Consumer Discretionary","shares":33,"position":5755.86},{"rank":121,"ticker":"LUV","momentum":0.1165456684,"atr":1.73663,"price":44.57,"sector":"Industrials","shares":143,"position":6373.51},{"rank":122,"ticker":"MPWR","momentum":0.0631216438,"atr":28.56379,"price":472.3,"sector":"Information Technology","shares":8,"position":3778.4},{"rank":123,"ticker":"RTX","momentum":0.0486096613,"atr":2.47234,"price":96.24,"sector":"Industrials","shares":101,"position":9720.24},{"rank":124,"ticker":"CDNS","momentum":0.032977954,"atr":6.62435,"price":161.41,"sector":"Information Technology","shares":37,"position":5972.17},{"rank":125,"ticker":"HON","momentum":0.0272341231,"atr":5.194745,"price":197.04,"sector":"Industrials","shares":48,"position":9457.92},{"rank":126,"ticker":"HIG","momentum":0.0117546977,"atr":1.88713,"price":71.95,"sector":"Financials","shares":132,"position":9497.4},{"rank":127,"ticker":"PFE","momentum":0.0099208413,"atr":1.37182,"price":52.68,"sector":"Health Care","shares":182,"position":9587.76},{"rank":128,"ticker":"ADI","momentum":0.0049464573,"atr":5.443,"price":169.24,"sector":"Information Technology","shares":45,"position":7615.8},{"rank":129,"ticker":"GWW","momentum":0.0024702268,"atr":12.79939,"price":498.68,"sector":"Industrials","shares":19,"position":9474.92},{"rank":130,"ticker":"PM","momentum":0.0016248966,"atr":3.025205,"price":106.21,"sector":"Consumer Staples","shares":82,"position":8709.22},{"rank":131,"ticker":"TXN","momentum":-0.0013898707,"atr":4.782625,"price":176.72,"sector":"Information Technology","shares":52,"position":9189.44},{"rank":132,"ticker":"WAT","momentum":-0.021200384,"atr":11.88775,"price":333.03,"sector":"Health Care","shares":21,"position":6993.63},{"rank":133,"ticker":"GILD","momentum":-0.0216183254,"atr":1.271495,"price":63.46,"sector":"Health Care","shares":196,"position":12438.16},{"rank":134,"ticker":"WAB","momentum":-0.0839557921,"atr":2.79625,"price":94.96,"sector":"Industrials","shares":89,"position":8451.44},{"rank":135,"ticker":"CE","momentum":-0.0861296918,"atr":5.305915,"price":158.41,"sector":"Materials","shares":47,"position":7445.27},{"rank":136,"ticker":"MCD","momentum":-0.1359560207,"atr":5.55053,"price":250.38,"sector":"Consumer Discretionary","shares":45,"position":11267.1},{"rank":137,"ticker":"PFG","momentum":-0.2243213424,"atr":2.167035,"price":72.19,"sector":"Financials","shares":115,"position":8301.85},{"rank":138,"ticker":"EXPD","momentum":-0.2509610936,"atr":3.51575,"price":108.97,"sector":"Industrials","shares":71,"position":7736.87},{"rank":139,"ticker":"CTLT","momentum":-0.2706793765,"atr":4.09718,"price":110.67,"sector":"Health Care","shares":61,"position":6750.87},{"rank":140,"ticker":"SHW","momentum":-0.2758835455,"atr":9.000385,"price":269.49,"sector":"Materials","shares":27,"position":7276.23},{"rank":141,"ticker":"SNPS","momentum":-0.33002563,"atr":13.98289,"price":330.81,"sector":"Information Technology","shares":17,"position":5623.77},{"rank":142,"ticker":"CL","momentum":-0.3472272645,"atr":1.621145,"price":79.27,"sector":"Consumer Staples","shares":154,"position":12207.58},{"rank":143,"ticker":"FISV","momentum":-0.4183693579,"atr":2.8007,"price":100.85,"sector":"Information Technology","shares":89,"position":8975.65},{"rank":144,"ticker":"EA","momentum":-0.4824554069,"atr":4.79723,"price":141.5,"sector":"Communication Services","shares":52,"position":7358.0},{"rank":145,"ticker":"NEE","momentum":-0.5352000122,"atr":1.983555,"price":78.52,"sector":"Utilities","shares":126,"position":9893.52},{"rank":146,"ticker":"TMO","momentum":-0.5518472357,"atr":18.4672,"price":570.1,"sector":"Health Care","shares":13,"position":7411.3},{"rank":147,"ticker":"IFF","momentum":-0.8305600671,"atr":3.8885,"price":133.81,"sector":"Materials","shares":64,"position":8563.84},{"rank":148,"ticker":"FIS","momentum":-1.4729320854,"atr":3.147755,"price":106.19,"sector":"Information Technology","shares":79,"position":8389.01},{"rank":149,"ticker":"TRMB","momentum":-1.8751471186,"atr":2.88392,"price":70.2,"sector":"Information Technology","shares":86,"position":6037.2},{"rank":150,"ticker":"MTB","momentum":-2.3124279583,"atr":5.36474,"price":180.38,"sector":"Financials","shares":46,"position":8297.48},{"rank":151,"ticker":"MA","momentum":-2.6360260739,"atr":11.804315,"price":363.08,"sector":"Information Technology","shares":21,"position":7624.68},{"rank":152,"ticker":"APD","momentum":-2.6738918108,"atr":7.34626,"price":252.85,"sector":"Materials","shares":34,"position":8596.9},{"rank":153,"ticker":"V","momentum":-4.8690465701,"atr":6.7645,"price":215.05,"sector":"Information Technology","shares":36,"position":7741.8},{"rank":154,"ticker":"IEX","momentum":-5.6635035206,"atr":5.454375,"price":196.18,"sector":"Industrials","shares":45,"position":8828.1},{"rank":155,"ticker":"YUM","momentum":-7.1163808808,"atr":2.810465,"price":120.3,"sector":"Consumer Discretionary","shares":88,"position":10586.4},{"rank":156,"ticker":"MCHP","momentum":-7.5312633817,"atr":2.89475,"price":73.32,"sector":"Information Technology","shares":86,"position":6305.52},{"rank":157,"ticker":"NXPI","momentum":-8.1094475171,"atr":7.621245,"price":187.94,"sector":"Information Technology","shares":32,"position":6014.08},{"rank":158,"ticker":"BKNG","momentum":-8.1739963312,"atr":106.93257,"price":2372.36,"sector":"Consumer Discretionary","shares":2,"position":4744.72},{"rank":159,"ticker":"DHR","momentum":-8.2395506253,"atr":8.1911,"price":273.26,"sector":"Health Care","shares":30,"position":8197.8},{"rank":160,"ticker":"KLAC","momentum":-8.3109410443,"atr":16.997745,"price":371.77,"sector":"Information Technology","shares":14,"position":5204.78},{"rank":161,"ticker":"MAS","momentum":-8.884175792,"atr":1.7526,"price":56.85,"sector":"Industrials","shares":142,"position":8072.7},{"rank":162,"ticker":"CMI","momentum":-10.3434002531,"atr":6.35902,"price":211.64,"sector":"Industrials","shares":39,"position":8253.96},{"rank":163,"ticker":"CBOE","momentum":-12.6503060917,"atr":2.805925,"price":115.54,"sector":"Financials","shares":89,"position":10283.06},{"rank":164,"ticker":"BWA","momentum":-14.6892915647,"atr":1.3995,"price":40.23,"sector":"Consumer Discretionary","shares":178,"position":7160.94},{"rank":165,"ticker":"FTV","momentum":-15.2534292132,"atr":1.8215,"price":63.14,"sector":"Industrials","shares":137,"position":8650.18},{"rank":166,"ticker":"PCAR","momentum":-21.314069375,"atr":2.53625,"price":88.95,"sector":"Industrials","shares":98,"position":8717.1},{"rank":167,"ticker":"ADSK","momentum":-30.3231953697,"atr":10.449135,"price":214.09,"sector":"Information Technology","shares":23,"position":4924.07},{"rank":168,"ticker":"AMD","momentum":-31.3038005165,"atr":6.64705,"price":108.59,"sector":"Information Technology","shares":37,"position":4017.83}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

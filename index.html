<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"BALL","momentum":900.5080403058,"atr":0.1,"price":71.71,"sector":"Materials","shares":2500,"position":179275.0},{"rank":2,"ticker":"CF","momentum":267.5131538551,"atr":5.99523,"price":107.01,"sector":"Materials","shares":41,"position":4387.41},{"rank":3,"ticker":"CTRA","momentum":214.8447555208,"atr":1.56856,"price":30.56,"sector":"Energy","shares":159,"position":4859.04},{"rank":4,"ticker":"VLO","momentum":194.1804453059,"atr":5.546745,"price":127.78,"sector":"Energy","shares":45,"position":5750.1},{"rank":5,"ticker":"CEG","momentum":133.9419684851,"atr":2.966565,"price":56.59,"sector":"Utilities","shares":84,"position":4753.56},{"rank":6,"ticker":"MCK","momentum":132.7381485531,"atr":9.8748,"price":327.83,"sector":"Health Care","shares":25,"position":8195.75},{"rank":7,"ticker":"CVX","momentum":117.3053514257,"atr":5.93409,"price":173.01,"sector":"Energy","shares":42,"position":7266.42},{"rank":8,"ticker":"ADM","momentum":112.9148846549,"atr":3.227835,"price":87.18,"sector":"Consumer Staples","shares":77,"position":6712.86},{"rank":9,"ticker":"DVN","momentum":104.8257359291,"atr":3.82895,"price":70.99,"sector":"Energy","shares":65,"position":4614.35},{"rank":10,"ticker":"HAL","momentum":103.7448809467,"atr":1.98052,"price":37.57,"sector":"Energy","shares":126,"position":4733.82},{"rank":11,"ticker":"MPC","momentum":100.8641088891,"atr":3.699,"price":96.47,"sector":"Energy","shares":67,"position":6463.49},{"rank":12,"ticker":"SRE","momentum":91.1807973832,"atr":3.806155,"price":161.51,"sector":"Utilities","shares":65,"position":10498.15},{"rank":13,"ticker":"WMB","momentum":87.9062694568,"atr":1.168,"price":35.44,"sector":"Energy","shares":214,"position":7584.16},{"rank":14,"ticker":"AIZ","momentum":86.6030132625,"atr":4.59795,"price":180.48,"sector":"Financials","shares":54,"position":9745.92},{"rank":15,"ticker":"WRB","momentum":84.8022235383,"atr":1.77921,"price":67.63,"sector":"Financials","shares":140,"position":9468.2},{"rank":16,"ticker":"BMY","momentum":84.2354185593,"atr":1.63825,"price":76.91,"sector":"Health Care","shares":152,"position":11690.32},{"rank":17,"ticker":"IRM","momentum":77.4825172663,"atr":1.69474,"price":53.03,"sector":"Real Estate","shares":147,"position":7795.41},{"rank":18,"ticker":"LLY","momentum":74.8069330339,"atr":9.23928,"price":299.38,"sector":"Health Care","shares":27,"position":8083.26},{"rank":19,"ticker":"CTVA","momentum":73.5737196653,"atr":1.915555,"price":56.54,"sector":"Materials","shares":130,"position":7350.2},{"rank":20,"ticker":"EXC","momentum":68.6957158237,"atr":1.229135,"price":46.87,"sector":"Utilities","shares":203,"position":9514.61},{"rank":21,"ticker":"ABC","momentum":68.6548042814,"atr":4.72115,"price":154.55,"sector":"Health Care","shares":52,"position":8036.6},{"rank":22,"ticker":"BKR","momentum":67.1412860113,"atr":1.83683,"price":34.93,"sector":"Energy","shares":136,"position":4750.48},{"rank":23,"ticker":"KR","momentum":64.9624481242,"atr":1.4995,"price":53.2,"sector":"Consumer Staples","shares":166,"position":8831.2},{"rank":24,"ticker":"XOM","momentum":62.9436289162,"atr":3.33975,"price":90.95,"sector":"Energy","shares":74,"position":6730.3},{"rank":25,"ticker":"LMT","momentum":62.1311812171,"atr":11.1754,"price":437.55,"sector":"Industrials","shares":22,"position":9626.1},{"rank":26,"ticker":"KHC","momentum":59.6956715129,"atr":1.110315,"price":44.08,"sector":"Consumer Staples","shares":225,"position":9918.0},{"rank":27,"ticker":"PXD","momentum":58.3942363244,"atr":11.297295,"price":268.78,"sector":"Energy","shares":22,"position":5913.16},{"rank":28,"ticker":"HSY","momentum":53.8668217917,"atr":5.02626,"price":229.32,"sector":"Consumer Staples","shares":49,"position":11236.68},{"rank":29,"ticker":"PKG","momentum":52.4020576956,"atr":3.95738,"price":155.54,"sector":"Materials","shares":63,"position":9799.02},{"rank":30,"ticker":"ED","momentum":50.6122447525,"atr":2.213295,"price":95.04,"sector":"Utilities","shares":112,"position":10644.48},{"rank":31,"ticker":"NOC","momentum":50.1711609341,"atr":12.312525,"price":458.08,"sector":"Industrials","shares":20,"position":9161.6},{"rank":32,"ticker":"COP","momentum":49.2173476895,"atr":4.90436,"price":105.5,"sector":"Energy","shares":50,"position":5275.0},{"rank":33,"ticker":"CNP","momentum":48.8464459634,"atr":0.741,"price":30.97,"sector":"Utilities","shares":337,"position":10436.89},{"rank":34,"ticker":"LDOS","momentum":48.2214711832,"atr":2.41395,"price":103.2,"sector":"Industrials","shares":103,"position":10629.6},{"rank":35,"ticker":"ANTM","momentum":47.6695115877,"atr":14.38695,"price":493.59,"sector":"Health Care","shares":17,"position":8391.03},{"rank":36,"ticker":"AEP","momentum":42.5376895427,"atr":2.409995,"price":99.39,"sector":"Utilities","shares":103,"position":10237.17},{"rank":37,"ticker":"ABBV","momentum":41.8633145441,"atr":4.76636,"price":155.47,"sector":"Health Care","shares":52,"position":8084.44},{"rank":38,"ticker":"DOW","momentum":41.3826806809,"atr":2.103225,"price":67.98,"sector":"Materials","shares":118,"position":8021.64},{"rank":39,"ticker":"DTE","momentum":40.0784641167,"atr":2.83149,"price":130.37,"sector":"Utilities","shares":88,"position":11472.56},{"rank":40,"ticker":"TMUS","momentum":39.7455488685,"atr":4.474215,"price":126.55,"sector":"Communication Services","shares":55,"position":6960.25},{"rank":41,"ticker":"VRTX","momentum":37.7184907738,"atr":9.13384,"price":254.17,"sector":"Health Care","shares":27,"position":6862.59},{"rank":42,"ticker":"GD","momentum":35.6533701794,"atr":6.1548,"price":227.8,"sector":"Industrials","shares":40,"position":9112.0},{"rank":43,"ticker":"HST","momentum":34.4197717604,"atr":0.909565,"price":20.18,"sector":"Real Estate","shares":274,"position":5529.32},{"rank":44,"ticker":"TAP","momentum":32.7717725892,"atr":1.614745,"price":56.76,"sector":"Consumer Staples","shares":154,"position":8741.04},{"rank":45,"ticker":"ATO","momentum":31.231353144,"atr":2.56275,"price":113.16,"sector":"Utilities","shares":97,"position":10976.52},{"rank":46,"ticker":"EIX","momentum":30.6139993096,"atr":1.85975,"price":66.59,"sector":"Utilities","shares":134,"position":8923.06},{"rank":47,"ticker":"CMS","momentum":30.2499820653,"atr":1.581295,"price":69.08,"sector":"Utilities","shares":158,"position":10914.64},{"rank":48,"ticker":"HII","momentum":28.9612287502,"atr":6.60645,"price":204.78,"sector":"Industrials","shares":37,"position":7576.86},{"rank":49,"ticker":"CI","momentum":28.5957510731,"atr":7.4056,"price":266.49,"sector":"Health Care","shares":33,"position":8794.17},{"rank":50,"ticker":"HSIC","momentum":28.1708665001,"atr":2.56875,"price":84.21,"sector":"Health Care","shares":97,"position":8168.37},{"rank":51,"ticker":"SO","momentum":27.7414941943,"atr":1.684525,"price":74.25,"sector":"Utilities","shares":148,"position":10989.0},{"rank":52,"ticker":"MO","momentum":26.7148327917,"atr":1.43536,"price":53.74,"sector":"Consumer Staples","shares":174,"position":9350.76},{"rank":53,"ticker":"HRL","momentum":26.4479012299,"atr":1.113105,"price":53.37,"sector":"Consumer Staples","shares":224,"position":11954.88},{"rank":54,"ticker":"ETR","momentum":25.2182568818,"atr":2.922625,"price":117.79,"sector":"Utilities","shares":85,"position":10012.15},{"rank":55,"ticker":"CINF","momentum":24.051950059,"atr":3.577295,"price":126.11,"sector":"Financials","shares":69,"position":8701.59},{"rank":56,"ticker":"KMI","momentum":23.4712159936,"atr":0.599845,"price":19.39,"sector":"Energy","shares":416,"position":8066.24},{"rank":57,"ticker":"DUK","momentum":23.4217558196,"atr":2.4716,"price":110.03,"sector":"Utilities","shares":101,"position":11113.03},{"rank":58,"ticker":"VTR","momentum":23.2355682714,"atr":1.60775,"price":55.57,"sector":"Real Estate","shares":155,"position":8613.35},{"rank":59,"ticker":"DG","momentum":23.1876407213,"atr":6.074745,"price":234.17,"sector":"Consumer Discretionary","shares":41,"position":9600.97},{"rank":60,"ticker":"LYB","momentum":22.8876485659,"atr":3.741,"price":107.41,"sector":"Materials","shares":66,"position":7089.06},{"rank":61,"ticker":"XEL","momentum":22.8552758968,"atr":1.647,"price":74.83,"sector":"Utilities","shares":151,"position":11299.33},{"rank":62,"ticker":"AEE","momentum":22.8190272829,"atr":1.95513,"price":92.98,"sector":"Utilities","shares":127,"position":11808.46},{"rank":63,"ticker":"MRK","momentum":22.7943936279,"atr":2.07476,"price":92.32,"sector":"Health Care","shares":120,"position":11078.4},{"rank":64,"ticker":"WMT","momentum":21.9276130645,"atr":3.28934,"price":148.21,"sector":"Consumer Staples","shares":76,"position":11263.96},{"rank":65,"ticker":"LHX","momentum":19.7600946625,"atr":7.21135,"price":238.96,"sector":"Industrials","shares":34,"position":8124.64},{"rank":66,"ticker":"NI","momentum":17.1425099236,"atr":0.68925,"price":30.43,"sector":"Utilities","shares":362,"position":11015.66},{"rank":67,"ticker":"PEG","momentum":16.6194889355,"atr":1.51315,"price":68.06,"sector":"Utilities","shares":165,"position":11229.9},{"rank":68,"ticker":"WELL","momentum":16.2475997414,"atr":2.401205,"price":88.85,"sector":"Real Estate","shares":104,"position":9240.4},{"rank":69,"ticker":"ULTA","momentum":15.8909094952,"atr":15.79424,"price":393.16,"sector":"Consumer Discretionary","shares":15,"position":5897.4},{"rank":70,"ticker":"JNJ","momentum":15.6622405272,"atr":3.38082,"price":178.08,"sector":"Health Care","shares":73,"position":12999.84},{"rank":71,"ticker":"WEC","momentum":15.6103546357,"atr":2.361045,"price":102.77,"sector":"Utilities","shares":105,"position":10790.85},{"rank":72,"ticker":"REGN","momentum":15.5796848605,"atr":19.97508,"price":655.01,"sector":"Health Care","shares":12,"position":7860.12},{"rank":73,"ticker":"D","momentum":15.4873794052,"atr":1.927175,"price":83.69,"sector":"Utilities","shares":129,"position":10796.01},{"rank":74,"ticker":"AMGN","momentum":15.0411744179,"atr":5.876195,"price":243.87,"sector":"Health Care","shares":42,"position":10242.54},{"rank":75,"ticker":"OKE","momentum":14.8083160293,"atr":2.628665,"price":65.19,"sector":"Energy","shares":95,"position":6193.05},{"rank":76,"ticker":"L","momentum":14.6842876775,"atr":1.649615,"price":63.1,"sector":"Financials","shares":151,"position":9528.1},{"rank":77,"ticker":"KO","momentum":14.3403382504,"atr":1.46735,"price":65.96,"sector":"Consumer Staples","shares":170,"position":11213.2},{"rank":78,"ticker":"PNW","momentum":14.0974965951,"atr":1.853655,"price":73.73,"sector":"Utilities","shares":134,"position":9879.82},{"rank":79,"ticker":"ROL","momentum":12.3553866602,"atr":1.054055,"price":34.81,"sector":"Industrials","shares":237,"position":8249.97},{"rank":80,"ticker":"SLB","momentum":11.6421720898,"atr":2.382,"price":42.14,"sector":"Energy","shares":104,"position":4382.56},{"rank":81,"ticker":"SYY","momentum":11.5921643373,"atr":2.825585,"price":84.54,"sector":"Consumer Staples","shares":88,"position":7439.52},{"rank":82,"ticker":"J","momentum":10.7390947157,"atr":4.48675,"price":133.75,"sector":"Industrials","shares":55,"position":7356.25},{"rank":83,"ticker":"EVRG","momentum":10.527613584,"atr":1.579555,"price":67.52,"sector":"Utilities","shares":158,"position":10668.16},{"rank":84,"ticker":"CB","momentum":10.1777276534,"atr":5.242425,"price":208.0,"sector":"Financials","shares":47,"position":9776.0},{"rank":85,"ticker":"TRV","momentum":9.4515320696,"atr":3.8344,"price":174.5,"sector":"Financials","shares":65,"position":11342.5},{"rank":86,"ticker":"HOLX","momentum":8.7973916109,"atr":2.25575,"price":77.22,"sector":"Health Care","shares":110,"position":8494.2},{"rank":87,"ticker":"WM","momentum":8.10958531,"atr":4.474785,"price":157.43,"sector":"Industrials","shares":55,"position":8658.65},{"rank":88,"ticker":"CPB","momentum":8.0180359797,"atr":1.194,"price":50.66,"sector":"Consumer Staples","shares":209,"position":10587.94},{"rank":89,"ticker":"INCY","momentum":7.3730557774,"atr":2.40974,"price":74.51,"sector":"Health Care","shares":103,"position":7674.53},{"rank":90,"ticker":"FANG","momentum":6.6903310259,"atr":7.55873,"price":131.3,"sector":"Energy","shares":33,"position":4332.9},{"rank":91,"ticker":"K","momentum":6.514220975,"atr":1.70613,"price":73.16,"sector":"Consumer Staples","shares":146,"position":10681.36},{"rank":92,"ticker":"CNC","momentum":6.2614959906,"atr":3.09122,"price":84.72,"sector":"Health Care","shares":80,"position":6777.6},{"rank":93,"ticker":"CERN","momentum":6.1928149081,"atr":0.361155,"price":94.11,"sector":"Health Care","shares":692,"position":65124.12},{"rank":94,"ticker":"RSG","momentum":4.2809869599,"atr":3.492245,"price":130.82,"sector":"Industrials","shares":71,"position":9288.22},{"rank":95,"ticker":"ES","momentum":3.2163823081,"atr":2.175535,"price":89.27,"sector":"Utilities","shares":114,"position":10176.78},{"rank":96,"ticker":"AZO","momentum":2.7516253091,"atr":69.5425,"price":2023.49,"sector":"Consumer Discretionary","shares":3,"position":6070.47},{"rank":97,"ticker":"GIS","momentum":2.403857626,"atr":1.46157,"price":73.46,"sector":"Consumer Staples","shares":171,"position":12561.66},{"rank":98,"ticker":"MKC","momentum":2.0963835941,"atr":2.50209,"price":100.94,"sector":"Consumer Staples","shares":99,"position":9993.06},{"rank":99,"ticker":"PGR","momentum":2.0650065364,"atr":3.22575,"price":109.75,"sector":"Financials","shares":77,"position":8450.75},{"rank":100,"ticker":"CHRW","momentum":1.5953754066,"atr":3.360705,"price":106.86,"sector":"Industrials","shares":74,"position":7907.64},{"rank":101,"ticker":"STZ","momentum":1.0412364493,"atr":5.47062,"price":249.42,"sector":"Consumer Staples","shares":45,"position":11223.9},{"rank":102,"ticker":"OGN","momentum":0.8015861372,"atr":1.16268,"price":35.43,"sector":"Health Care","shares":215,"position":7617.45},{"rank":103,"ticker":"PSX","momentum":0.3638814213,"atr":3.90925,"price":97.08,"sector":"Energy","shares":63,"position":6116.04},{"rank":104,"ticker":"SNA","momentum":0.2831834993,"atr":6.818385,"price":216.84,"sector":"Industrials","shares":36,"position":7806.24},{"rank":105,"ticker":"AMCR","momentum":0.0701992271,"atr":0.398915,"price":12.94,"sector":"Materials","shares":626,"position":8100.44},{"rank":106,"ticker":"CAG","momentum":0.0354112728,"atr":0.83875,"price":35.64,"sector":"Consumer Staples","shares":298,"position":10620.72},{"rank":107,"ticker":"T","momentum":0.0018055521,"atr":0.52038,"price":20.28,"sector":"Communication Services","shares":480,"position":9734.4},{"rank":108,"ticker":"IBM","momentum":0.0000750438,"atr":3.930245,"price":135.03,"sector":"Information Technology","shares":63,"position":8506.89},{"rank":109,"ticker":"SJM","momentum":-0.0000000056,"atr":3.46018,"price":144.28,"sector":"Consumer Staples","shares":72,"position":10388.16},{"rank":110,"ticker":"PEP","momentum":-0.0001867359,"atr":3.867425,"price":175.47,"sector":"Consumer Staples","shares":64,"position":11230.08},{"rank":111,"ticker":"IP","momentum":-0.0024839383,"atr":1.381,"price":47.89,"sector":"Materials","shares":181,"position":8668.09},{"rank":112,"ticker":"GPC","momentum":-0.0063049315,"atr":3.91353,"price":136.27,"sector":"Consumer Discretionary","shares":63,"position":8585.01},{"rank":113,"ticker":"PPL","momentum":-0.06475197,"atr":0.64071,"price":28.98,"sector":"Utilities","shares":390,"position":11302.2},{"rank":114,"ticker":"NRG","momentum":-0.1002065284,"atr":1.495,"price":44.07,"sector":"Utilities","shares":167,"position":7359.69},{"rank":115,"ticker":"PM","momentum":-0.3817155401,"atr":2.74468,"price":105.91,"sector":"Consumer Staples","shares":91,"position":9637.81},{"rank":116,"ticker":"KMB","momentum":-0.7737460529,"atr":3.823275,"price":138.93,"sector":"Consumer Staples","shares":65,"position":9030.45},{"rank":117,"ticker":"MNST","momentum":-0.7781367782,"atr":2.86295,"price":89.11,"sector":"Consumer Staples","shares":87,"position":7752.57},{"rank":118,"ticker":"MDLZ","momentum":-2.65531325,"atr":1.4715,"price":66.13,"sector":"Consumer Staples","shares":169,"position":11175.97},{"rank":119,"ticker":"WDC","momentum":-4.0966521209,"atr":2.62616,"price":57.89,"sector":"Information Technology","shares":95,"position":5499.55},{"rank":120,"ticker":"EXPD","momentum":-15.952090237,"atr":3.4455,"price":111.25,"sector":"Industrials","shares":72,"position":8010.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

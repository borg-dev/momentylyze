<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"F","momentum":335.8372343295,"atr":1.16538,"price":19.98,"sector":"Consumer Discretionary","shares":214,"position":4275.72},{"rank":2,"ticker":"QCOM","momentum":193.0684271209,"atr":7.026955,"price":165.45,"sector":"Information Technology","shares":35,"position":5790.75},{"rank":3,"ticker":"HPQ","momentum":187.4655148844,"atr":0.92896,"price":34.98,"sector":"Information Technology","shares":269,"position":9409.62},{"rank":4,"ticker":"PFE","momentum":144.0625175799,"atr":1.674315,"price":52.54,"sector":"Health Care","shares":149,"position":7828.46},{"rank":5,"ticker":"MU","momentum":126.6071571286,"atr":3.46246,"price":80.72,"sector":"Information Technology","shares":72,"position":5811.84},{"rank":6,"ticker":"ABBV","momentum":114.3954954973,"atr":2.45582,"price":133.09,"sector":"Health Care","shares":101,"position":13442.09},{"rank":7,"ticker":"CHD","momentum":110.7996777945,"atr":2.023705,"price":101.63,"sector":"Consumer Staples","shares":123,"position":12500.49},{"rank":8,"ticker":"AOS","momentum":110.0739925884,"atr":2.226255,"price":75.4,"sector":"Industrials","shares":112,"position":8444.8},{"rank":9,"ticker":"DVN","momentum":107.8755453725,"atr":2.345445,"price":51.26,"sector":"Energy","shares":106,"position":5433.56},{"rank":10,"ticker":"MCK","momentum":103.25725858,"atr":5.690995,"price":245.63,"sector":"Health Care","shares":43,"position":10562.09},{"rank":11,"ticker":"CNC","momentum":102.7857505246,"atr":2.123265,"price":76.37,"sector":"Health Care","shares":117,"position":8935.29},{"rank":12,"ticker":"VRTX","momentum":102.0035417954,"atr":4.64925,"price":227.11,"sector":"Health Care","shares":53,"position":12036.83},{"rank":13,"ticker":"CERN","momentum":97.7898514874,"atr":0.539,"price":91.37,"sector":"Health Care","shares":463,"position":42304.31},{"rank":14,"ticker":"CVS","momentum":96.5180395293,"atr":2.043715,"price":103.1,"sector":"Health Care","shares":122,"position":12578.2},{"rank":15,"ticker":"GWW","momentum":96.4455842526,"atr":12.42175,"price":486.26,"sector":"Industrials","shares":20,"position":9725.2},{"rank":16,"ticker":"JNPR","momentum":89.9972123383,"atr":0.81005,"price":31.52,"sector":"Information Technology","shares":308,"position":9708.16},{"rank":17,"ticker":"AAPL","momentum":81.1443480587,"atr":4.07625,"price":159.78,"sector":"Information Technology","shares":61,"position":9746.58},{"rank":18,"ticker":"AZO","momentum":79.8226988736,"atr":51.46443,"price":1930.94,"sector":"Consumer Discretionary","shares":4,"position":7723.76},{"rank":19,"ticker":"PLD","momentum":78.9163871276,"atr":3.60325,"price":153.96,"sector":"Real Estate","shares":69,"position":10623.24},{"rank":20,"ticker":"DRE","momentum":78.3663866428,"atr":1.386235,"price":56.95,"sector":"Real Estate","shares":180,"position":10251.0},{"rank":21,"ticker":"FCX","momentum":74.7548122171,"atr":1.63078,"price":39.63,"sector":"Materials","shares":153,"position":6063.39},{"rank":22,"ticker":"CVX","momentum":72.930566091,"atr":2.50614,"price":132.59,"sector":"Energy","shares":99,"position":13126.41},{"rank":23,"ticker":"CHRW","momentum":72.8705937707,"atr":2.636825,"price":105.14,"sector":"Industrials","shares":94,"position":9883.16},{"rank":24,"ticker":"APA","momentum":71.9270086319,"atr":1.62059,"price":33.07,"sector":"Energy","shares":154,"position":5092.78},{"rank":25,"ticker":"PSA","momentum":69.6272382366,"atr":7.3035,"price":352.5,"sector":"Real Estate","shares":34,"position":11985.0},{"rank":26,"ticker":"SEE","momentum":68.7105329079,"atr":1.50852,"price":65.8,"sector":"Materials","shares":165,"position":10857.0},{"rank":27,"ticker":"FMC","momentum":67.733646414,"atr":2.537375,"price":107.62,"sector":"Materials","shares":98,"position":10546.76},{"rank":28,"ticker":"HRL","momentum":67.6513062044,"atr":0.780125,"price":48.21,"sector":"Consumer Staples","shares":320,"position":15427.2},{"rank":29,"ticker":"KR","momentum":66.0741839231,"atr":1.374245,"price":45.08,"sector":"Consumer Staples","shares":181,"position":8159.48},{"rank":30,"ticker":"EMN","momentum":65.2816316117,"atr":3.0135,"price":118.8,"sector":"Materials","shares":82,"position":9741.6},{"rank":31,"ticker":"SJM","momentum":64.5638067362,"atr":2.797035,"price":139.4,"sector":"Consumer Staples","shares":89,"position":12406.6},{"rank":32,"ticker":"CF","momentum":63.6290941263,"atr":2.78414,"price":71.46,"sector":"Materials","shares":89,"position":6359.94},{"rank":33,"ticker":"PGR","momentum":62.0289869748,"atr":2.089705,"price":109.3,"sector":"Financials","shares":119,"position":13006.7},{"rank":34,"ticker":"STZ","momentum":60.5073319861,"atr":5.20687,"price":236.47,"sector":"Consumer Staples","shares":48,"position":11350.56},{"rank":35,"ticker":"MKC","momentum":60.4484163876,"atr":1.75272,"price":93.02,"sector":"Consumer Staples","shares":142,"position":13208.84},{"rank":36,"ticker":"ATO","momentum":59.3659008604,"atr":1.982425,"price":103.92,"sector":"Utilities","shares":126,"position":13093.92},{"rank":37,"ticker":"ED","momentum":56.8050208621,"atr":1.4835,"price":81.81,"sector":"Utilities","shares":168,"position":13744.08},{"rank":38,"ticker":"UNP","momentum":56.1333576455,"atr":5.14824,"price":244.12,"sector":"Industrials","shares":48,"position":11717.76},{"rank":39,"ticker":"SCHW","momentum":55.5965637615,"atr":2.58069,"price":88.53,"sector":"Financials","shares":96,"position":8498.88},{"rank":40,"ticker":"TSN","momentum":55.5962442289,"atr":1.64374,"price":90.29,"sector":"Consumer Staples","shares":152,"position":13724.08},{"rank":41,"ticker":"PHM","momentum":54.5177167078,"atr":1.921105,"price":53.02,"sector":"Consumer Discretionary","shares":130,"position":6892.6},{"rank":42,"ticker":"SBNY","momentum":54.2498416838,"atr":14.549285,"price":310.31,"sector":"Financials","shares":17,"position":5275.27},{"rank":43,"ticker":"FFIV","momentum":53.2114281815,"atr":6.63853,"price":221.14,"sector":"Information Technology","shares":37,"position":8182.18},{"rank":44,"ticker":"PG","momentum":52.9890926969,"atr":2.956155,"price":159.54,"sector":"Consumer Staples","shares":84,"position":13401.36},{"rank":45,"ticker":"NI","momentum":51.6891034987,"atr":0.4575,"price":27.14,"sector":"Utilities","shares":546,"position":14818.44},{"rank":46,"ticker":"CME","momentum":50.8212644737,"atr":4.170745,"price":221.79,"sector":"Financials","shares":59,"position":13085.61},{"rank":47,"ticker":"UNH","momentum":50.3563423985,"atr":10.809355,"price":456.84,"sector":"Health Care","shares":23,"position":10507.32},{"rank":48,"ticker":"ANTM","momentum":49.5941834781,"atr":10.92675,"price":439.18,"sector":"Health Care","shares":22,"position":9661.96},{"rank":49,"ticker":"FE","momentum":49.4468617958,"atr":0.6705,"price":41.32,"sector":"Utilities","shares":372,"position":15371.04},{"rank":50,"ticker":"DD","momentum":48.8200403406,"atr":1.94775,"price":76.83,"sector":"Materials","shares":128,"position":9834.24},{"rank":51,"ticker":"EXC","momentum":48.6497039262,"atr":1.104975,"price":55.46,"sector":"Utilities","shares":226,"position":12533.96},{"rank":52,"ticker":"CTSH","momentum":48.6398867827,"atr":1.9005,"price":82.25,"sector":"Information Technology","shares":131,"position":10774.75},{"rank":53,"ticker":"GIS","momentum":47.5110952083,"atr":1.215585,"price":68.34,"sector":"Consumer Staples","shares":205,"position":14009.7},{"rank":54,"ticker":"PEP","momentum":46.5980250559,"atr":2.54693,"price":171.34,"sector":"Consumer Staples","shares":98,"position":16791.32},{"rank":55,"ticker":"ITW","momentum":43.6745931569,"atr":4.36912,"price":233.93,"sector":"Industrials","shares":57,"position":13334.01},{"rank":56,"ticker":"BRO","momentum":43.5162074954,"atr":1.71164,"price":64.42,"sector":"Financials","shares":146,"position":9405.32},{"rank":57,"ticker":"AFL","momentum":42.9788208855,"atr":1.22288,"price":61.9,"sector":"Financials","shares":204,"position":12627.6},{"rank":58,"ticker":"JBHT","momentum":41.5239049221,"atr":5.424135,"price":195.95,"sector":"Industrials","shares":46,"position":9013.7},{"rank":59,"ticker":"HSY","momentum":40.0022802709,"atr":3.15774,"price":194.77,"sector":"Consumer Staples","shares":79,"position":15386.83},{"rank":60,"ticker":"PFG","momentum":39.3362893836,"atr":1.878855,"price":72.62,"sector":"Financials","shares":133,"position":9658.46},{"rank":61,"ticker":"EOG","momentum":38.3931574447,"atr":3.77719,"price":106.94,"sector":"Energy","shares":66,"position":7058.04},{"rank":62,"ticker":"HPE","momentum":37.1726729392,"atr":0.464365,"price":15.89,"sector":"Information Technology","shares":538,"position":8548.82},{"rank":63,"ticker":"MDLZ","momentum":36.8174060662,"atr":1.0958,"price":66.98,"sector":"Consumer Staples","shares":228,"position":15271.44},{"rank":64,"ticker":"CI","momentum":35.296646952,"atr":5.712495,"price":234.74,"sector":"Health Care","shares":43,"position":10093.82},{"rank":65,"ticker":"AVB","momentum":34.1472959161,"atr":4.726255,"price":241.5,"sector":"Real Estate","shares":52,"position":12558.0},{"rank":66,"ticker":"WY","momentum":33.119784268,"atr":0.99626,"price":38.47,"sector":"Real Estate","shares":250,"position":9617.5},{"rank":67,"ticker":"CL","momentum":32.7596851568,"atr":1.308245,"price":81.74,"sector":"Consumer Staples","shares":191,"position":15612.34},{"rank":68,"ticker":"KO","momentum":32.3069908692,"atr":0.84034,"price":59.82,"sector":"Consumer Staples","shares":297,"position":17766.54},{"rank":69,"ticker":"AMP","momentum":30.6305792338,"atr":8.50575,"price":298.53,"sector":"Financials","shares":29,"position":8657.37},{"rank":70,"ticker":"PCAR","momentum":30.3297591867,"atr":2.36001,"price":93.95,"sector":"Industrials","shares":105,"position":9864.75},{"rank":71,"ticker":"CTVA","momentum":29.3441043705,"atr":1.19025,"price":46.05,"sector":"Materials","shares":210,"position":9670.5},{"rank":72,"ticker":"KIM","momentum":29.3222316768,"atr":0.623865,"price":24.23,"sector":"Real Estate","shares":400,"position":9692.0},{"rank":73,"ticker":"PXD","momentum":28.79641737,"atr":6.453005,"price":213.14,"sector":"Energy","shares":38,"position":8099.32},{"rank":74,"ticker":"BRK.B","momentum":28.1370126918,"atr":5.701315,"price":307.19,"sector":"Financials","shares":43,"position":13209.17},{"rank":75,"ticker":"ORLY","momentum":28.1133408434,"atr":16.1324,"price":646.37,"sector":"Consumer Discretionary","shares":15,"position":9695.55},{"rank":76,"ticker":"NEM","momentum":28.0943319097,"atr":1.480035,"price":63.29,"sector":"Materials","shares":168,"position":10632.72},{"rank":77,"ticker":"CMA","momentum":27.9381498664,"atr":3.035125,"price":92.58,"sector":"Financials","shares":82,"position":7591.56},{"rank":78,"ticker":"ADM","momentum":27.8429372667,"atr":1.30817,"price":68.37,"sector":"Consumer Staples","shares":191,"position":13058.67},{"rank":79,"ticker":"EQR","momentum":27.7379551271,"atr":1.700195,"price":87.62,"sector":"Real Estate","shares":147,"position":12880.14},{"rank":80,"ticker":"COP","momentum":27.6571658432,"atr":2.67343,"price":87.11,"sector":"Energy","shares":93,"position":8101.23},{"rank":81,"ticker":"WRB","momentum":26.9243966824,"atr":1.85073,"price":82.47,"sector":"Financials","shares":135,"position":11133.45},{"rank":82,"ticker":"NSC","momentum":26.2932558634,"atr":6.617,"price":274.81,"sector":"Industrials","shares":37,"position":10167.97},{"rank":83,"ticker":"DOV","momentum":26.2413342453,"atr":4.06525,"price":170.67,"sector":"Industrials","shares":61,"position":10410.87},{"rank":84,"ticker":"CNP","momentum":25.9366932581,"atr":0.494995,"price":27.28,"sector":"Utilities","shares":505,"position":13776.4},{"rank":85,"ticker":"AAP","momentum":25.2312405935,"atr":6.165455,"price":230.18,"sector":"Consumer Discretionary","shares":40,"position":9207.2},{"rank":86,"ticker":"CLX","momentum":24.9666864461,"atr":3.52068,"price":174.53,"sector":"Consumer Staples","shares":71,"position":12391.63},{"rank":87,"ticker":"FDX","momentum":23.8668586134,"atr":5.27659,"price":244.04,"sector":"Industrials","shares":47,"position":11469.88},{"rank":88,"ticker":"XEL","momentum":23.7280723794,"atr":1.31543,"price":67.88,"sector":"Utilities","shares":190,"position":12897.2},{"rank":89,"ticker":"KEY","momentum":22.7988779062,"atr":0.74325,"price":24.9,"sector":"Financials","shares":336,"position":8366.4},{"rank":90,"ticker":"GPC","momentum":22.714087144,"atr":3.142415,"price":131.66,"sector":"Consumer Discretionary","shares":79,"position":10401.14},{"rank":91,"ticker":"AKAM","momentum":22.0329795415,"atr":2.418395,"price":112.56,"sector":"Information Technology","shares":103,"position":11593.68},{"rank":92,"ticker":"XOM","momentum":21.936036153,"atr":1.7935,"price":74.93,"sector":"Energy","shares":139,"position":10415.27},{"rank":93,"ticker":"UPS","momentum":21.4425518622,"atr":4.49798,"price":201.94,"sector":"Industrials","shares":55,"position":11106.7},{"rank":94,"ticker":"CAT","momentum":21.3072102418,"atr":5.28276,"price":214.31,"sector":"Industrials","shares":47,"position":10072.57},{"rank":95,"ticker":"SO","momentum":21.2673497573,"atr":1.11503,"price":67.25,"sector":"Utilities","shares":224,"position":15064.0},{"rank":96,"ticker":"WEC","momentum":20.466680718,"atr":1.813705,"price":94.75,"sector":"Utilities","shares":137,"position":12980.75},{"rank":97,"ticker":"PEG","momentum":20.2953029567,"atr":1.2037,"price":64.72,"sector":"Utilities","shares":207,"position":13397.04},{"rank":98,"ticker":"KMB","momentum":19.6719484899,"atr":2.504445,"price":139.63,"sector":"Consumer Staples","shares":99,"position":13823.37},{"rank":99,"ticker":"BK","momentum":19.4273882126,"atr":1.733345,"price":59.02,"sector":"Financials","shares":144,"position":8498.88},{"rank":100,"ticker":"PH","momentum":18.9866962038,"atr":8.019055,"price":311.8,"sector":"Industrials","shares":31,"position":9665.8},{"rank":101,"ticker":"CB","momentum":18.5364655619,"atr":4.315615,"price":193.66,"sector":"Financials","shares":57,"position":11038.62},{"rank":102,"ticker":"AEE","momentum":17.9853573055,"atr":1.51645,"price":85.98,"sector":"Utilities","shares":164,"position":14100.72},{"rank":103,"ticker":"MTB","momentum":17.5003473372,"atr":5.71912,"price":164.59,"sector":"Financials","shares":43,"position":7077.37},{"rank":104,"ticker":"AEP","momentum":17.4221464145,"atr":1.543335,"price":88.96,"sector":"Utilities","shares":161,"position":14322.56},{"rank":105,"ticker":"ABC","momentum":17.4151935189,"atr":2.81946,"price":131.06,"sector":"Health Care","shares":88,"position":11533.28},{"rank":106,"ticker":"WFC","momentum":17.3168948154,"atr":1.578165,"price":53.59,"sector":"Financials","shares":158,"position":8467.22},{"rank":107,"ticker":"ETR","momentum":15.3287677566,"atr":2.175535,"price":107.67,"sector":"Utilities","shares":114,"position":12274.38},{"rank":108,"ticker":"LNT","momentum":14.9993568599,"atr":1.130715,"price":58.31,"sector":"Utilities","shares":221,"position":12886.51},{"rank":109,"ticker":"WBA","momentum":14.6551989082,"atr":1.30775,"price":50.99,"sector":"Consumer Staples","shares":191,"position":9739.09},{"rank":110,"ticker":"CMS","momentum":14.3221041184,"atr":1.14725,"price":62.57,"sector":"Utilities","shares":217,"position":13577.69},{"rank":111,"ticker":"L","momentum":13.3327157535,"atr":1.181135,"price":58.32,"sector":"Financials","shares":211,"position":12305.52},{"rank":112,"ticker":"D","momentum":12.729560788,"atr":1.375375,"price":77.98,"sector":"Utilities","shares":181,"position":14114.38},{"rank":113,"ticker":"PBCT","momentum":11.9177315032,"atr":0.665,"price":18.87,"sector":"Financials","shares":375,"position":7076.25},{"rank":114,"ticker":"AMGN","momentum":11.7301126673,"atr":4.32714,"price":225.04,"sector":"Health Care","shares":57,"position":12827.28},{"rank":115,"ticker":"DE","momentum":11.6928928781,"atr":10.55358,"price":368.22,"sector":"Industrials","shares":23,"position":8469.06},{"rank":116,"ticker":"FITB","momentum":10.8517412901,"atr":1.34625,"price":44.92,"sector":"Financials","shares":185,"position":8310.2},{"rank":117,"ticker":"HLT","momentum":10.6784533764,"atr":4.215345,"price":142.39,"sector":"Consumer Discretionary","shares":59,"position":8401.01},{"rank":118,"ticker":"HAL","momentum":10.026911441,"atr":1.074035,"price":30.59,"sector":"Energy","shares":232,"position":7096.88},{"rank":119,"ticker":"CPB","momentum":9.8926807383,"atr":0.94073,"price":44.39,"sector":"Consumer Staples","shares":265,"position":11763.35},{"rank":120,"ticker":"GL","momentum":9.807089788,"atr":2.432965,"price":102.57,"sector":"Financials","shares":102,"position":10462.14},{"rank":121,"ticker":"PPL","momentum":9.7711602506,"atr":0.41809,"price":29.54,"sector":"Utilities","shares":597,"position":17635.38},{"rank":122,"ticker":"CFG","momentum":9.7497104248,"atr":1.640295,"price":51.61,"sector":"Financials","shares":152,"position":7844.72},{"rank":123,"ticker":"INCY","momentum":9.5366403068,"atr":1.980445,"price":74.15,"sector":"Health Care","shares":126,"position":9342.9},{"rank":124,"ticker":"MPC","momentum":8.9329633378,"atr":1.931005,"price":71.5,"sector":"Energy","shares":129,"position":9223.5},{"rank":125,"ticker":"RE","momentum":8.6440883044,"atr":6.35525,"price":285.29,"sector":"Financials","shares":39,"position":11126.31},{"rank":126,"ticker":"BAX","momentum":8.3590904142,"atr":1.41075,"price":85.07,"sector":"Health Care","shares":177,"position":15057.39},{"rank":127,"ticker":"STT","momentum":8.0634403975,"atr":3.256175,"price":94.13,"sector":"Financials","shares":76,"position":7153.88},{"rank":128,"ticker":"BMY","momentum":6.8983831143,"atr":1.2371,"price":62.46,"sector":"Health Care","shares":202,"position":12616.92},{"rank":129,"ticker":"ZION","momentum":6.1773013218,"atr":2.15382,"price":66.48,"sector":"Financials","shares":116,"position":7711.68},{"rank":130,"ticker":"JNJ","momentum":5.8348969202,"atr":2.6618,"price":167.63,"sector":"Health Care","shares":93,"position":15589.59},{"rank":131,"ticker":"GD","momentum":4.9092708732,"atr":3.738625,"price":205.96,"sector":"Industrials","shares":66,"position":13593.36},{"rank":132,"ticker":"NOC","momentum":4.8398533337,"atr":7.303725,"price":403.18,"sector":"Industrials","shares":34,"position":13708.12},{"rank":133,"ticker":"K","momentum":4.8035875918,"atr":1.08006,"price":66.19,"sector":"Consumer Staples","shares":231,"position":15289.89},{"rank":134,"ticker":"DUK","momentum":4.7530211476,"atr":1.690365,"price":102.32,"sector":"Utilities","shares":147,"position":15041.04},{"rank":135,"ticker":"SLB","momentum":4.3895452241,"atr":1.34429,"price":38.79,"sector":"Energy","shares":185,"position":7176.15},{"rank":136,"ticker":"PEAK","momentum":4.2133597258,"atr":0.65625,"price":35.16,"sector":"Real Estate","shares":380,"position":13360.8},{"rank":137,"ticker":"RF","momentum":3.8850152094,"atr":0.85998,"price":23.22,"sector":"Financials","shares":290,"position":6733.8},{"rank":138,"ticker":"BAC","momentum":3.882514938,"atr":1.320485,"price":45.43,"sector":"Financials","shares":189,"position":8586.27},{"rank":139,"ticker":"MAR","momentum":3.787147228,"atr":4.843595,"price":157.03,"sector":"Consumer Discretionary","shares":51,"position":8008.53},{"rank":140,"ticker":"BDX","momentum":3.5900410608,"atr":4.852245,"price":258.1,"sector":"Health Care","shares":51,"position":13163.1},{"rank":141,"ticker":"TAP","momentum":3.1706040236,"atr":1.3204,"price":50.22,"sector":"Consumer Staples","shares":189,"position":9491.58},{"rank":142,"ticker":"PNC","momentum":3.153792434,"atr":5.943675,"price":204.2,"sector":"Financials","shares":42,"position":8576.4},{"rank":143,"ticker":"SRE","momentum":2.7034388576,"atr":2.49438,"price":133.92,"sector":"Utilities","shares":100,"position":13392.0},{"rank":144,"ticker":"RHI","momentum":2.566366532,"atr":2.700675,"price":110.0,"sector":"Industrials","shares":92,"position":10120.0},{"rank":145,"ticker":"PSX","momentum":2.0027147798,"atr":2.51645,"price":85.96,"sector":"Energy","shares":99,"position":8510.04},{"rank":146,"ticker":"VLO","momentum":1.9026265082,"atr":2.41071,"price":81.16,"sector":"Energy","shares":103,"position":8359.48},{"rank":147,"ticker":"TRV","momentum":1.7708269426,"atr":3.79481,"price":168.6,"sector":"Financials","shares":65,"position":10959.0},{"rank":148,"ticker":"PRU","momentum":1.7216983839,"atr":2.759605,"price":110.9,"sector":"Financials","shares":90,"position":9981.0},{"rank":149,"ticker":"WELL","momentum":1.3092601076,"atr":2.17225,"price":85.53,"sector":"Real Estate","shares":115,"position":9835.95},{"rank":150,"ticker":"LMT","momentum":1.0932726723,"atr":6.9325,"price":387.17,"sector":"Industrials","shares":36,"position":13938.12},{"rank":151,"ticker":"TFC","momentum":1.0657281813,"atr":1.76575,"price":63.03,"sector":"Financials","shares":141,"position":8887.23},{"rank":152,"ticker":"HST","momentum":1.0334797414,"atr":0.5695,"price":17.04,"sector":"Real Estate","shares":438,"position":7463.52},{"rank":153,"ticker":"VTRS","momentum":0.9247815583,"atr":0.3425,"price":14.68,"sector":"Health Care","shares":729,"position":10701.72},{"rank":154,"ticker":"HWM","momentum":0.8131250045,"atr":0.98752,"price":32.23,"sector":"Industrials","shares":253,"position":8154.19},{"rank":155,"ticker":"MOS","momentum":0.7684377833,"atr":1.533075,"price":40.43,"sector":"Materials","shares":163,"position":6590.09},{"rank":156,"ticker":"BKR","momentum":0.5813441047,"atr":0.981995,"price":27.93,"sector":"Energy","shares":254,"position":7094.22},{"rank":157,"ticker":"MO","momentum":0.3826507278,"atr":0.9414,"price":50.03,"sector":"Consumer Staples","shares":265,"position":13257.95},{"rank":158,"ticker":"OMC","momentum":0.3736602097,"atr":1.71869,"price":75.48,"sector":"Communication Services","shares":145,"position":10944.6},{"rank":159,"ticker":"AIG","momentum":0.3316696803,"atr":1.636995,"price":58.21,"sector":"Financials","shares":152,"position":8847.92},{"rank":160,"ticker":"CAG","momentum":0.3264795259,"atr":0.809745,"price":35.04,"sector":"Consumer Staples","shares":308,"position":10792.32},{"rank":161,"ticker":"MET","momentum":0.2041819282,"atr":1.586965,"price":65.43,"sector":"Financials","shares":157,"position":10272.51},{"rank":162,"ticker":"WMB","momentum":0.0717278778,"atr":0.68177,"price":28.97,"sector":"Energy","shares":366,"position":10603.02},{"rank":163,"ticker":"HES","momentum":0.0657255876,"atr":3.491895,"price":91.5,"sector":"Energy","shares":71,"position":6496.5},{"rank":164,"ticker":"IBM","momentum":0.000563972,"atr":3.31441,"price":136.1,"sector":"Information Technology","shares":75,"position":10207.5},{"rank":165,"ticker":"MRK","momentum":0.0000096515,"atr":1.63978,"price":79.46,"sector":"Health Care","shares":152,"position":12077.92},{"rank":166,"ticker":"PNW","momentum":-0.0049872761,"atr":1.407225,"price":70.99,"sector":"Utilities","shares":177,"position":12565.23},{"rank":167,"ticker":"PM","momentum":-0.0144965524,"atr":1.817235,"price":102.14,"sector":"Consumer Staples","shares":137,"position":13993.18},{"rank":168,"ticker":"RTX","momentum":-0.0157789515,"atr":1.920595,"price":90.31,"sector":"Industrials","shares":130,"position":11740.3},{"rank":169,"ticker":"KMI","momentum":-0.2712730299,"atr":0.397105,"price":17.5,"sector":"Energy","shares":629,"position":11007.5},{"rank":170,"ticker":"VZ","momentum":-0.3341872857,"atr":0.877225,"price":52.9,"sector":"Communication Services","shares":284,"position":15023.6},{"rank":171,"ticker":"NWL","momentum":-0.3960377132,"atr":0.513425,"price":23.34,"sector":"Consumer Discretionary","shares":486,"position":11343.24},{"rank":172,"ticker":"T","momentum":-1.465279229,"atr":0.62136,"price":26.48,"sector":"Communication Services","shares":402,"position":10644.96},{"rank":173,"ticker":"AXP","momentum":-2.3858792099,"atr":4.78912,"price":173.11,"sector":"Financials","shares":52,"position":9001.72},{"rank":174,"ticker":"LHX","momentum":-3.7293551781,"atr":4.94115,"price":224.45,"sector":"Industrials","shares":50,"position":11222.5},{"rank":175,"ticker":"HII","momentum":-4.4969133623,"atr":4.35969,"price":194.67,"sector":"Industrials","shares":57,"position":11096.19},{"rank":176,"ticker":"FOXA","momentum":-5.7218122837,"atr":1.06529,"price":39.16,"sector":"Communication Services","shares":234,"position":9163.44},{"rank":177,"ticker":"ALL","momentum":-7.4476023941,"atr":2.66407,"price":121.93,"sector":"Financials","shares":93,"position":11339.49},{"rank":178,"ticker":"WTW","momentum":-29.7360574519,"atr":0.1,"price":226.65,"sector":"Financials","shares":2500,"position":566625.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

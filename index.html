<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MOS","momentum":739.4858132394,"atr":3.926595,"price":64.85,"sector":"Materials","shares":63,"position":4085.55},{"rank":2,"ticker":"HAL","momentum":349.8441717122,"atr":1.668075,"price":35.94,"sector":"Energy","shares":149,"position":5355.06},{"rank":3,"ticker":"CF","momentum":316.4002032663,"atr":5.403175,"price":97.11,"sector":"Materials","shares":46,"position":4467.06},{"rank":4,"ticker":"MRO","momentum":304.6412494624,"atr":1.12175,"price":24.66,"sector":"Energy","shares":222,"position":5474.52},{"rank":5,"ticker":"CEG","momentum":274.8337025519,"atr":2.684565,"price":60.09,"sector":"Utilities","shares":93,"position":5588.37},{"rank":6,"ticker":"APA","momentum":273.9378632136,"atr":2.02866,"price":39.97,"sector":"Energy","shares":123,"position":4916.31},{"rank":7,"ticker":"BKR","momentum":231.2587419504,"atr":1.58298,"price":31.28,"sector":"Energy","shares":157,"position":4910.96},{"rank":8,"ticker":"CTRA","momentum":222.0355229143,"atr":1.190065,"price":28.85,"sector":"Energy","shares":210,"position":6058.5},{"rank":9,"ticker":"NUE","momentum":216.2636795056,"atr":7.182275,"price":158.99,"sector":"Materials","shares":34,"position":5405.66},{"rank":10,"ticker":"ADM","momentum":213.7263753771,"atr":2.7344,"price":93.92,"sector":"Consumer Staples","shares":91,"position":8546.72},{"rank":11,"ticker":"CVX","momentum":210.4010632053,"atr":4.267225,"price":156.24,"sector":"Energy","shares":58,"position":9061.92},{"rank":12,"ticker":"HES","momentum":168.582182858,"atr":3.88958,"price":102.75,"sector":"Energy","shares":64,"position":6576.0},{"rank":13,"ticker":"NEM","momentum":160.9682954348,"atr":2.83964,"price":72.13,"sector":"Materials","shares":88,"position":6347.44},{"rank":14,"ticker":"DVN","momentum":156.2929355774,"atr":2.61446,"price":58.07,"sector":"Energy","shares":95,"position":5516.65},{"rank":15,"ticker":"VLO","momentum":155.8545585447,"atr":3.97331,"price":109.51,"sector":"Energy","shares":62,"position":6789.62},{"rank":16,"ticker":"MCK","momentum":148.5930346207,"atr":7.20883,"price":317.85,"sector":"Health Care","shares":34,"position":10806.9},{"rank":17,"ticker":"LMT","momentum":130.5621896679,"atr":11.487455,"price":444.98,"sector":"Industrials","shares":21,"position":9344.58},{"rank":18,"ticker":"SRE","momentum":127.3072867169,"atr":3.189305,"price":163.69,"sector":"Utilities","shares":78,"position":12767.82},{"rank":19,"ticker":"COP","momentum":127.2300194775,"atr":3.51086,"price":93.06,"sector":"Energy","shares":71,"position":6607.26},{"rank":20,"ticker":"WMB","momentum":126.3748595567,"atr":0.8305,"price":34.32,"sector":"Energy","shares":301,"position":10330.32},{"rank":21,"ticker":"PXD","momentum":124.3998966845,"atr":8.459355,"price":231.63,"sector":"Energy","shares":29,"position":6717.27},{"rank":22,"ticker":"CTVA","momentum":120.8306565194,"atr":1.330245,"price":57.22,"sector":"Materials","shares":187,"position":10700.14},{"rank":23,"ticker":"XOM","momentum":119.5493720628,"atr":2.425885,"price":84.64,"sector":"Energy","shares":103,"position":8717.92},{"rank":24,"ticker":"EOG","momentum":117.0836978732,"atr":4.433735,"price":112.81,"sector":"Energy","shares":56,"position":6317.36},{"rank":25,"ticker":"MPC","momentum":116.9546813479,"atr":2.521375,"price":87.25,"sector":"Energy","shares":99,"position":8637.75},{"rank":26,"ticker":"FMC","momentum":115.6947522857,"atr":3.257005,"price":132.42,"sector":"Materials","shares":76,"position":10063.92},{"rank":27,"ticker":"KR","momentum":113.5008423637,"atr":1.50115,"price":55.58,"sector":"Consumer Staples","shares":166,"position":9226.28},{"rank":28,"ticker":"WRB","momentum":110.7087307386,"atr":1.411495,"price":68.15,"sector":"Financials","shares":177,"position":12062.55},{"rank":29,"ticker":"ABC","momentum":97.7189896255,"atr":3.59815,"price":157.46,"sector":"Health Care","shares":69,"position":10864.74},{"rank":30,"ticker":"AIZ","momentum":97.1577460489,"atr":3.28784,"price":186.02,"sector":"Financials","shares":76,"position":14137.52},{"rank":31,"ticker":"BMY","momentum":92.4180411618,"atr":1.32427,"price":75.81,"sector":"Health Care","shares":188,"position":14252.28},{"rank":32,"ticker":"SLB","momentum":91.9410510627,"atr":1.89625,"price":39.95,"sector":"Energy","shares":131,"position":5233.45},{"rank":33,"ticker":"ABBV","momentum":91.3665997195,"atr":4.70855,"price":157.62,"sector":"Health Care","shares":53,"position":8353.86},{"rank":34,"ticker":"LDOS","momentum":91.3220425375,"atr":1.869245,"price":106.24,"sector":"Industrials","shares":133,"position":14129.92},{"rank":35,"ticker":"EXC","momentum":85.99287826,"atr":1.003135,"price":47.79,"sector":"Utilities","shares":249,"position":11899.71},{"rank":36,"ticker":"VRTX","momentum":81.2017686638,"atr":6.39209,"price":267.25,"sector":"Health Care","shares":39,"position":10422.75},{"rank":37,"ticker":"CINF","momentum":79.9023733102,"atr":2.71676,"price":135.01,"sector":"Financials","shares":92,"position":12420.92},{"rank":38,"ticker":"JKHY","momentum":74.8708637803,"atr":3.74873,"price":191.83,"sector":"Information Technology","shares":66,"position":12660.78},{"rank":39,"ticker":"VTR","momentum":74.5784896531,"atr":1.2685,"price":57.25,"sector":"Real Estate","shares":197,"position":11278.25},{"rank":40,"ticker":"GD","momentum":71.1023991155,"atr":4.83174,"price":239.98,"sector":"Industrials","shares":51,"position":12238.98},{"rank":41,"ticker":"PKG","momentum":70.513170486,"atr":3.498625,"price":161.65,"sector":"Materials","shares":71,"position":11477.15},{"rank":42,"ticker":"OKE","momentum":69.5795455092,"atr":1.83998,"price":65.5,"sector":"Energy","shares":135,"position":8842.5},{"rank":43,"ticker":"LHX","momentum":69.1210779474,"atr":6.41135,"price":241.06,"sector":"Industrials","shares":38,"position":9160.28},{"rank":44,"ticker":"HSIC","momentum":65.7093318793,"atr":1.926955,"price":84.04,"sector":"Health Care","shares":129,"position":10841.16},{"rank":45,"ticker":"RTX","momentum":65.1817445425,"atr":2.29183,"price":98.84,"sector":"Industrials","shares":109,"position":10773.56},{"rank":46,"ticker":"NOC","momentum":63.4596145046,"atr":11.742945,"price":439.77,"sector":"Industrials","shares":21,"position":9235.17},{"rank":47,"ticker":"ATO","momentum":61.5421950126,"atr":2.260525,"price":116.06,"sector":"Utilities","shares":110,"position":12766.6},{"rank":48,"ticker":"HSY","momentum":58.4766447135,"atr":4.02595,"price":222.24,"sector":"Consumer Staples","shares":62,"position":13778.88},{"rank":49,"ticker":"ALL","momentum":55.5624460309,"atr":2.96066,"price":128.37,"sector":"Financials","shares":84,"position":10783.08},{"rank":50,"ticker":"FANG","momentum":55.5391724311,"atr":5.66868,"price":126.64,"sector":"Energy","shares":44,"position":5572.16},{"rank":51,"ticker":"NI","momentum":53.6822695455,"atr":0.574605,"price":30.11,"sector":"Utilities","shares":435,"position":13097.85},{"rank":52,"ticker":"PWR","momentum":53.446612731,"atr":4.01844,"price":117.8,"sector":"Industrials","shares":62,"position":7303.6},{"rank":53,"ticker":"KMI","momentum":51.1492862482,"atr":0.41927,"price":18.4,"sector":"Energy","shares":596,"position":10966.4},{"rank":54,"ticker":"ED","momentum":48.2627265933,"atr":1.779995,"price":94.73,"sector":"Utilities","shares":140,"position":13262.2},{"rank":55,"ticker":"BRK.B","momentum":47.0571673843,"atr":5.904115,"price":329.58,"sector":"Financials","shares":42,"position":13842.36},{"rank":56,"ticker":"TRV","momentum":46.5645775047,"atr":3.5801,"price":173.55,"sector":"Financials","shares":69,"position":11974.95},{"rank":57,"ticker":"TAP","momentum":46.5144510505,"atr":1.337945,"price":54.23,"sector":"Consumer Staples","shares":186,"position":10086.78},{"rank":58,"ticker":"AEP","momentum":45.0754434975,"atr":1.92611,"price":99.53,"sector":"Utilities","shares":129,"position":12839.37},{"rank":59,"ticker":"CNP","momentum":44.8847097274,"atr":0.62726,"price":31.33,"sector":"Utilities","shares":398,"position":12469.34},{"rank":60,"ticker":"FE","momentum":43.7075391125,"atr":0.85725,"price":44.74,"sector":"Utilities","shares":291,"position":13019.34},{"rank":61,"ticker":"KHC","momentum":42.1567734663,"atr":0.934655,"price":42.88,"sector":"Consumer Staples","shares":267,"position":11448.96},{"rank":62,"ticker":"DOW","momentum":42.0005705086,"atr":1.6992,"price":67.45,"sector":"Materials","shares":147,"position":9915.15},{"rank":63,"ticker":"MO","momentum":41.2445313374,"atr":0.83476,"price":54.92,"sector":"Consumer Staples","shares":299,"position":16421.08},{"rank":64,"ticker":"DE","momentum":41.0210794194,"atr":12.37537,"price":385.53,"sector":"Industrials","shares":20,"position":7710.6},{"rank":65,"ticker":"TMUS","momentum":38.8912155247,"atr":3.139445,"price":129.84,"sector":"Communication Services","shares":79,"position":10257.36},{"rank":66,"ticker":"REGN","momentum":38.7838005973,"atr":16.717475,"price":673.51,"sector":"Health Care","shares":14,"position":9429.14},{"rank":67,"ticker":"HII","momentum":37.2173323022,"atr":5.963265,"price":219.85,"sector":"Industrials","shares":41,"position":9013.85},{"rank":68,"ticker":"L","momentum":35.4518261484,"atr":1.215315,"price":64.11,"sector":"Financials","shares":205,"position":13142.55},{"rank":69,"ticker":"WELL","momentum":34.9306808408,"atr":1.943505,"price":93.24,"sector":"Real Estate","shares":128,"position":11934.72},{"rank":70,"ticker":"AON","momentum":33.9298621679,"atr":6.20025,"price":311.22,"sector":"Financials","shares":40,"position":12448.8},{"rank":71,"ticker":"PNW","momentum":33.6973292296,"atr":1.474375,"price":74.41,"sector":"Utilities","shares":169,"position":12575.29},{"rank":72,"ticker":"ANTM","momentum":33.0771477126,"atr":12.597565,"price":508.38,"sector":"Health Care","shares":19,"position":9659.22},{"rank":73,"ticker":"HST","momentum":32.2458022023,"atr":0.677775,"price":21.06,"sector":"Real Estate","shares":368,"position":7750.08},{"rank":74,"ticker":"LYB","momentum":31.7168035036,"atr":2.89259,"price":105.32,"sector":"Materials","shares":86,"position":9057.52},{"rank":75,"ticker":"CB","momentum":29.4670468279,"atr":4.449005,"price":210.62,"sector":"Financials","shares":56,"position":11794.72},{"rank":76,"ticker":"CMS","momentum":29.1784689145,"atr":1.316005,"price":70.21,"sector":"Utilities","shares":189,"position":13269.69},{"rank":77,"ticker":"D","momentum":28.979835385,"atr":1.52369,"price":83.38,"sector":"Utilities","shares":164,"position":13674.32},{"rank":78,"ticker":"TDY","momentum":26.8282927267,"atr":9.74424,"price":451.16,"sector":"Industrials","shares":25,"position":11279.0},{"rank":79,"ticker":"AMGN","momentum":25.3439475087,"atr":4.56639,"price":248.79,"sector":"Health Care","shares":54,"position":13434.66},{"rank":80,"ticker":"MOH","momentum":25.0070404058,"atr":8.470225,"price":323.84,"sector":"Health Care","shares":29,"position":9391.36},{"rank":81,"ticker":"HWM","momentum":23.6446109207,"atr":0.9617,"price":34.4,"sector":"Industrials","shares":259,"position":8909.6},{"rank":82,"ticker":"IRM","momentum":22.094509202,"atr":1.185845,"price":54.42,"sector":"Real Estate","shares":210,"position":11428.2},{"rank":83,"ticker":"LLY","momentum":21.70554228,"atr":7.04153,"price":285.09,"sector":"Health Care","shares":35,"position":9978.15},{"rank":84,"ticker":"PEG","momentum":21.5024904166,"atr":1.299,"price":70.45,"sector":"Utilities","shares":192,"position":13526.4},{"rank":85,"ticker":"CI","momentum":21.390403586,"atr":6.09,"price":250.77,"sector":"Health Care","shares":41,"position":10281.57},{"rank":86,"ticker":"SYY","momentum":20.7188365492,"atr":1.877205,"price":87.72,"sector":"Consumer Staples","shares":133,"position":11666.76},{"rank":87,"ticker":"HRL","momentum":20.1675367236,"atr":0.92025,"price":52.85,"sector":"Consumer Staples","shares":271,"position":14322.35},{"rank":88,"ticker":"DUK","momentum":19.383857653,"atr":1.929035,"price":113.09,"sector":"Utilities","shares":129,"position":14588.61},{"rank":89,"ticker":"PSA","momentum":19.2359109068,"atr":8.67009,"price":391.38,"sector":"Real Estate","shares":28,"position":10958.64},{"rank":90,"ticker":"XEL","momentum":18.4245652508,"atr":1.251,"price":72.97,"sector":"Utilities","shares":199,"position":14521.03},{"rank":91,"ticker":"FLT","momentum":17.7360946653,"atr":5.97659,"price":251.7,"sector":"Information Technology","shares":41,"position":10319.7},{"rank":92,"ticker":"UNH","momentum":16.9002327513,"atr":12.019245,"price":513.81,"sector":"Health Care","shares":20,"position":10276.2},{"rank":93,"ticker":"SO","momentum":16.442045497,"atr":1.48646,"price":73.48,"sector":"Utilities","shares":168,"position":12344.64},{"rank":94,"ticker":"AEE","momentum":16.0413847744,"atr":1.52675,"price":94.33,"sector":"Utilities","shares":163,"position":15375.79},{"rank":95,"ticker":"KO","momentum":14.6972892391,"atr":1.0323,"price":65.56,"sector":"Consumer Staples","shares":242,"position":15865.52},{"rank":96,"ticker":"ETR","momentum":14.0751984475,"atr":2.441375,"price":120.68,"sector":"Utilities","shares":102,"position":12309.36},{"rank":97,"ticker":"MET","momentum":14.0579335585,"atr":1.53775,"price":66.9,"sector":"Financials","shares":162,"position":10837.8},{"rank":98,"ticker":"WMT","momentum":13.8177159814,"atr":2.9386,"price":154.24,"sector":"Consumer Staples","shares":85,"position":13110.4},{"rank":99,"ticker":"BXP","momentum":13.3638702526,"atr":2.65175,"price":122.24,"sector":"Real Estate","shares":94,"position":11490.56},{"rank":100,"ticker":"WRK","momentum":12.7456475235,"atr":1.23657,"price":49.33,"sector":"Materials","shares":202,"position":9964.66},{"rank":101,"ticker":"MAR","momentum":11.5289539252,"atr":5.84225,"price":180.2,"sector":"Consumer Discretionary","shares":42,"position":7568.4},{"rank":102,"ticker":"MRK","momentum":11.4202239698,"atr":1.73226,"price":84.41,"sector":"Health Care","shares":144,"position":12155.04},{"rank":103,"ticker":"AXP","momentum":11.2310070167,"atr":4.714595,"price":177.63,"sector":"Financials","shares":53,"position":9414.39},{"rank":104,"ticker":"JNJ","momentum":11.1645101021,"atr":3.22381,"price":182.1,"sector":"Health Care","shares":77,"position":14021.7},{"rank":105,"ticker":"MDT","momentum":9.4045557958,"atr":2.25516,"price":106.63,"sector":"Health Care","shares":110,"position":11729.3},{"rank":106,"ticker":"MKC","momentum":9.1645471258,"atr":2.19253,"price":101.95,"sector":"Consumer Staples","shares":114,"position":11622.3},{"rank":107,"ticker":"COST","momentum":8.8268799205,"atr":13.85966,"price":554.08,"sector":"Consumer Staples","shares":18,"position":9973.44},{"rank":108,"ticker":"AJG","momentum":8.6979809554,"atr":3.757385,"price":175.4,"sector":"Financials","shares":66,"position":11576.4},{"rank":109,"ticker":"EIX","momentum":8.5724785378,"atr":1.30625,"price":70.41,"sector":"Utilities","shares":191,"position":13448.31},{"rank":110,"ticker":"RE","momentum":6.9904477726,"atr":6.69904,"price":284.8,"sector":"Financials","shares":37,"position":10537.6},{"rank":111,"ticker":"INCY","momentum":6.5221268068,"atr":1.76777,"price":74.43,"sector":"Health Care","shares":141,"position":10494.63},{"rank":112,"ticker":"ROL","momentum":5.7144835334,"atr":0.737525,"price":33.51,"sector":"Industrials","shares":338,"position":11326.38},{"rank":113,"ticker":"WEC","momentum":5.5502318501,"atr":1.83064,"price":102.09,"sector":"Utilities","shares":136,"position":13884.24},{"rank":114,"ticker":"LNT","momentum":4.7616833606,"atr":1.29825,"price":60.82,"sector":"Utilities","shares":192,"position":11677.44},{"rank":115,"ticker":"ORLY","momentum":4.2895364162,"atr":18.55553,"price":713.29,"sector":"Consumer Discretionary","shares":13,"position":9272.77},{"rank":116,"ticker":"CERN","momentum":3.841402086,"atr":0.278905,"price":93.8,"sector":"Health Care","shares":896,"position":84044.8},{"rank":117,"ticker":"PSX","momentum":2.8757674297,"atr":3.06725,"price":83.01,"sector":"Energy","shares":81,"position":6723.81},{"rank":118,"ticker":"DG","momentum":2.7993408674,"atr":5.309725,"price":243.5,"sector":"Consumer Discretionary","shares":47,"position":11444.5},{"rank":119,"ticker":"ULTA","momentum":2.7827952762,"atr":12.555535,"price":402.78,"sector":"Consumer Discretionary","shares":19,"position":7652.82},{"rank":120,"ticker":"WY","momentum":2.0442233285,"atr":1.007185,"price":40.86,"sector":"Real Estate","shares":248,"position":10133.28},{"rank":121,"ticker":"GL","momentum":2.0111187448,"atr":2.201105,"price":100.55,"sector":"Financials","shares":113,"position":11362.15},{"rank":122,"ticker":"PAYX","momentum":1.8675386786,"atr":3.513975,"price":130.69,"sector":"Information Technology","shares":71,"position":9278.99},{"rank":123,"ticker":"J","momentum":1.8159299389,"atr":3.20821,"price":141.47,"sector":"Industrials","shares":77,"position":10893.19},{"rank":124,"ticker":"CAT","momentum":1.7618984668,"atr":6.154375,"price":213.96,"sector":"Industrials","shares":40,"position":8558.4},{"rank":125,"ticker":"EVRG","momentum":1.6761465976,"atr":1.163295,"price":69.2,"sector":"Utilities","shares":214,"position":14808.8},{"rank":126,"ticker":"CPB","momentum":1.6177862996,"atr":0.835,"price":47.04,"sector":"Consumer Staples","shares":299,"position":14064.96},{"rank":127,"ticker":"TSN","momentum":1.4493426911,"atr":1.897865,"price":93.62,"sector":"Consumer Staples","shares":131,"position":12264.22},{"rank":128,"ticker":"AZO","momentum":1.2892991433,"atr":55.148655,"price":2181.34,"sector":"Consumer Discretionary","shares":4,"position":8725.36},{"rank":129,"ticker":"MTB","momentum":1.1988614846,"atr":5.980245,"price":171.25,"sector":"Financials","shares":41,"position":7021.25},{"rank":130,"ticker":"KIM","momentum":1.1454193063,"atr":0.56025,"price":25.24,"sector":"Real Estate","shares":446,"position":11257.04},{"rank":131,"ticker":"PLD","momentum":0.9269141712,"atr":4.18453,"price":167.67,"sector":"Real Estate","shares":59,"position":9892.53},{"rank":132,"ticker":"LUV","momentum":0.732973171,"atr":1.57924,"price":45.94,"sector":"Industrials","shares":158,"position":7258.52},{"rank":133,"ticker":"K","momentum":0.3250267636,"atr":1.154595,"price":69.01,"sector":"Consumer Staples","shares":216,"position":14906.16},{"rank":134,"ticker":"MMC","momentum":0.2658952858,"atr":3.2935,"price":168.42,"sector":"Financials","shares":75,"position":12631.5},{"rank":135,"ticker":"TGT","momentum":0.262974854,"atr":6.677495,"price":230.97,"sector":"Consumer Discretionary","shares":37,"position":8545.89},{"rank":136,"ticker":"GIS","momentum":0.2465922859,"atr":1.112505,"price":71.36,"sector":"Consumer Staples","shares":224,"position":15984.64},{"rank":137,"ticker":"ESS","momentum":0.1183001094,"atr":7.78925,"price":341.96,"sector":"Real Estate","shares":32,"position":10942.72},{"rank":138,"ticker":"HLT","momentum":0.1086367396,"atr":5.053285,"price":157.06,"sector":"Consumer Discretionary","shares":49,"position":7695.94},{"rank":139,"ticker":"WTW","momentum":0.0542287752,"atr":5.295425,"price":232.94,"sector":"Financials","shares":47,"position":10948.18},{"rank":140,"ticker":"ES","momentum":0.0465282966,"atr":1.685025,"price":89.51,"sector":"Utilities","shares":148,"position":13247.48},{"rank":141,"ticker":"O","momentum":0.0388559098,"atr":1.15945,"price":71.66,"sector":"Real Estate","shares":215,"position":15406.9},{"rank":142,"ticker":"ROP","momentum":0.0234536684,"atr":9.72447,"price":474.69,"sector":"Industrials","shares":25,"position":11867.25},{"rank":143,"ticker":"WM","momentum":0.0070542776,"atr":3.255535,"price":167.45,"sector":"Industrials","shares":76,"position":12726.2},{"rank":144,"ticker":"PM","momentum":0.0006131025,"atr":1.900905,"price":101.69,"sector":"Consumer Staples","shares":131,"position":13321.39},{"rank":145,"ticker":"RSG","momentum":0.0004253668,"atr":2.364445,"price":137.06,"sector":"Industrials","shares":105,"position":14391.3},{"rank":146,"ticker":"CAG","momentum":-0.0003500079,"atr":0.71696,"price":35.63,"sector":"Consumer Staples","shares":348,"position":12399.24},{"rank":147,"ticker":"CHD","momentum":-0.000501209,"atr":2.03018,"price":104.16,"sector":"Consumer Staples","shares":123,"position":12811.68},{"rank":148,"ticker":"SNA","momentum":-0.0011656135,"atr":5.7144,"price":220.42,"sector":"Industrials","shares":43,"position":9478.06},{"rank":149,"ticker":"SBAC","momentum":-0.0044619183,"atr":9.77775,"price":348.87,"sector":"Real Estate","shares":25,"position":8721.75},{"rank":150,"ticker":"VRSK","momentum":-0.0060420097,"atr":4.255935,"price":208.42,"sector":"Industrials","shares":58,"position":12088.36},{"rank":151,"ticker":"CHRW","momentum":-0.0079098283,"atr":2.72275,"price":102.83,"sector":"Industrials","shares":91,"position":9357.53},{"rank":152,"ticker":"SJM","momentum":-0.060166998,"atr":2.73925,"price":139.63,"sector":"Consumer Staples","shares":91,"position":12706.33},{"rank":153,"ticker":"ADP","momentum":-0.1486139824,"atr":5.30995,"price":228.0,"sector":"Information Technology","shares":47,"position":10716.0},{"rank":154,"ticker":"IP","momentum":-0.3547361302,"atr":0.9945,"price":47.36,"sector":"Materials","shares":251,"position":11887.36},{"rank":155,"ticker":"STZ","momentum":-0.3663446525,"atr":5.54348,"price":249.31,"sector":"Consumer Staples","shares":45,"position":11218.95},{"rank":156,"ticker":"CCI","momentum":-0.3837149361,"atr":3.965545,"price":188.74,"sector":"Real Estate","shares":63,"position":11890.62},{"rank":157,"ticker":"IBM","momentum":-0.4111123001,"atr":3.022315,"price":135.06,"sector":"Information Technology","shares":82,"position":11074.92},{"rank":158,"ticker":"PEP","momentum":-0.4588178222,"atr":2.64468,"price":174.85,"sector":"Consumer Staples","shares":94,"position":16435.9},{"rank":159,"ticker":"T","momentum":-0.6781206077,"atr":0.5009871601,"price":19.07,"sector":"Communication Services","shares":499,"position":9515.93},{"rank":160,"ticker":"MA","momentum":-1.0053846798,"atr":10.33355,"price":361.57,"sector":"Information Technology","shares":24,"position":8677.68},{"rank":161,"ticker":"PG","momentum":-1.6823033459,"atr":2.91325,"price":159.36,"sector":"Consumer Staples","shares":85,"position":13545.6},{"rank":162,"ticker":"PPL","momentum":-1.8722697604,"atr":0.513805,"price":28.9,"sector":"Utilities","shares":486,"position":14045.4},{"rank":163,"ticker":"DRE","momentum":-2.0239650249,"atr":1.32325,"price":59.22,"sector":"Real Estate","shares":188,"position":11133.36},{"rank":164,"ticker":"AMCR","momentum":-2.8163448279,"atr":0.239395,"price":12.02,"sector":"Materials","shares":1044,"position":12548.88},{"rank":165,"ticker":"GPC","momentum":-3.0056348799,"atr":3.103025,"price":133.93,"sector":"Consumer Discretionary","shares":80,"position":10714.4},{"rank":166,"ticker":"ROST","momentum":-5.3769671251,"atr":3.128125,"price":101.25,"sector":"Consumer Discretionary","shares":79,"position":7998.75},{"rank":167,"ticker":"CL","momentum":-8.2172848412,"atr":1.38475,"price":80.69,"sector":"Consumer Staples","shares":180,"position":14524.2},{"rank":168,"ticker":"AAP","momentum":-10.9091094692,"atr":5.69397,"price":224.88,"sector":"Consumer Discretionary","shares":43,"position":9669.84},{"rank":169,"ticker":"MNST","momentum":-16.9253152575,"atr":2.016995,"price":86.75,"sector":"Consumer Staples","shares":123,"position":10670.25},{"rank":170,"ticker":"KMB","momentum":-17.4665698162,"atr":2.92127,"price":140.48,"sector":"Consumer Staples","shares":85,"position":11940.8}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"HAL","momentum":412.3795278357,"atr":1.9945,"price":38.07,"sector":"Energy","shares":125,"position":4758.75},{"rank":2,"ticker":"MOS","momentum":343.3135829677,"atr":4.10276,"price":67.93,"sector":"Materials","shares":60,"position":4075.8},{"rank":3,"ticker":"COP","momentum":202.9648310404,"atr":3.904775,"price":104.37,"sector":"Energy","shares":64,"position":6679.68},{"rank":4,"ticker":"APA","momentum":202.5441688044,"atr":2.09893,"price":40.71,"sector":"Energy","shares":119,"position":4844.49},{"rank":5,"ticker":"EOG","momentum":195.7593813736,"atr":5.470525,"price":123.55,"sector":"Energy","shares":45,"position":5559.75},{"rank":6,"ticker":"BKR","momentum":192.5175642258,"atr":1.894705,"price":37.59,"sector":"Energy","shares":131,"position":4924.29},{"rank":7,"ticker":"DVN","momentum":188.0125424922,"atr":3.450585,"price":61.67,"sector":"Energy","shares":72,"position":4440.24},{"rank":8,"ticker":"CVX","momentum":181.2577729586,"atr":6.067075,"price":165.86,"sector":"Energy","shares":41,"position":6800.26},{"rank":9,"ticker":"CF","momentum":180.0206702369,"atr":5.69567,"price":103.59,"sector":"Materials","shares":43,"position":4454.37},{"rank":10,"ticker":"PXD","momentum":177.5291680644,"atr":9.35782,"price":254.82,"sector":"Energy","shares":26,"position":6625.32},{"rank":11,"ticker":"SLB","momentum":169.4000487443,"atr":2.178785,"price":42.41,"sector":"Energy","shares":114,"position":4834.74},{"rank":12,"ticker":"XOM","momentum":158.086478638,"atr":3.26024,"price":83.13,"sector":"Energy","shares":76,"position":6317.88},{"rank":13,"ticker":"ADM","momentum":129.9616894178,"atr":2.584525,"price":89.09,"sector":"Consumer Staples","shares":96,"position":8552.64},{"rank":14,"ticker":"MCK","momentum":129.8221055033,"atr":6.966995,"price":300.02,"sector":"Health Care","shares":35,"position":10500.7},{"rank":15,"ticker":"LMT","momentum":125.8300997331,"atr":17.880815,"price":445.25,"sector":"Industrials","shares":13,"position":5788.25},{"rank":16,"ticker":"ABBV","momentum":125.4631546037,"atr":3.001015,"price":158.42,"sector":"Health Care","shares":83,"position":13148.86},{"rank":17,"ticker":"NEM","momentum":121.2670170961,"atr":3.13192,"price":78.91,"sector":"Materials","shares":79,"position":6233.89},{"rank":18,"ticker":"HES","momentum":115.0279598436,"atr":4.25525,"price":106.22,"sector":"Energy","shares":58,"position":6160.76},{"rank":19,"ticker":"MPC","momentum":103.2106004218,"atr":2.87734,"price":80.46,"sector":"Energy","shares":86,"position":6919.56},{"rank":20,"ticker":"VLO","momentum":100.252826091,"atr":4.09315,"price":95.52,"sector":"Energy","shares":61,"position":5826.72},{"rank":21,"ticker":"VRTX","momentum":92.2062423783,"atr":5.97696,"price":248.13,"sector":"Health Care","shares":41,"position":10173.33},{"rank":22,"ticker":"ABC","momentum":87.2506266316,"atr":3.45556,"price":151.53,"sector":"Health Care","shares":72,"position":10910.16},{"rank":23,"ticker":"BMY","momentum":82.399416231,"atr":1.243955,"price":71.38,"sector":"Health Care","shares":200,"position":14276.0},{"rank":24,"ticker":"SRE","momentum":79.9555318412,"atr":3.42645,"price":159.42,"sector":"Utilities","shares":72,"position":11478.24},{"rank":25,"ticker":"CERN","momentum":73.4209796942,"atr":0.32225,"price":93.59,"sector":"Health Care","shares":775,"position":72532.25},{"rank":26,"ticker":"ATO","momentum":70.1428504721,"atr":2.59525,"price":114.31,"sector":"Utilities","shares":96,"position":10973.76},{"rank":27,"ticker":"CTRA","momentum":69.508350309,"atr":1.365985,"price":26.19,"sector":"Energy","shares":183,"position":4792.77},{"rank":28,"ticker":"NI","momentum":64.5755246462,"atr":0.587,"price":30.25,"sector":"Utilities","shares":425,"position":12856.25},{"rank":29,"ticker":"FMC","momentum":63.6863112609,"atr":3.47148,"price":131.26,"sector":"Materials","shares":72,"position":9450.72},{"rank":30,"ticker":"MO","momentum":63.5452052914,"atr":1.380995,"price":53.22,"sector":"Consumer Staples","shares":181,"position":9632.82},{"rank":31,"ticker":"NOC","momentum":60.8872377067,"atr":18.07357,"price":446.92,"sector":"Industrials","shares":13,"position":5809.96},{"rank":32,"ticker":"KR","momentum":60.3025755436,"atr":2.34368,"price":56.45,"sector":"Consumer Staples","shares":106,"position":5983.7},{"rank":33,"ticker":"BRK.B","momentum":59.7384866883,"atr":7.449545,"price":348.16,"sector":"Financials","shares":33,"position":11489.28},{"rank":34,"ticker":"GD","momentum":59.4805503915,"atr":6.888965,"price":239.69,"sector":"Industrials","shares":36,"position":8628.84},{"rank":35,"ticker":"WRB","momentum":58.8165707554,"atr":2.58025,"price":97.95,"sector":"Financials","shares":96,"position":9403.2},{"rank":36,"ticker":"FCX","momentum":57.8471233802,"atr":2.023525,"price":49.81,"sector":"Materials","shares":123,"position":6126.63},{"rank":37,"ticker":"HSY","momentum":55.8792509789,"atr":4.8725,"price":207.76,"sector":"Consumer Staples","shares":51,"position":10595.76},{"rank":38,"ticker":"RTX","momentum":54.665969364,"atr":3.02377,"price":101.23,"sector":"Industrials","shares":82,"position":8300.86},{"rank":39,"ticker":"WMB","momentum":53.8994263576,"atr":0.92975,"price":32.71,"sector":"Energy","shares":268,"position":8766.28},{"rank":40,"ticker":"TRV","momentum":51.9856890466,"atr":4.463555,"price":181.62,"sector":"Financials","shares":56,"position":10170.72},{"rank":41,"ticker":"PBCT","momentum":51.9749323986,"atr":0.90225,"price":21.08,"sector":"Financials","shares":277,"position":5839.16},{"rank":42,"ticker":"JKHY","momentum":50.7059299158,"atr":4.73738,"price":188.14,"sector":"Information Technology","shares":52,"position":9783.28},{"rank":43,"ticker":"PKG","momentum":48.6478181634,"atr":4.146585,"price":152.82,"sector":"Materials","shares":60,"position":9169.2},{"rank":44,"ticker":"EXC","momentum":47.5553065611,"atr":0.890485,"price":43.7,"sector":"Utilities","shares":280,"position":12236.0},{"rank":45,"ticker":"MTB","momentum":46.9811793491,"atr":7.42325,"price":178.91,"sector":"Financials","shares":33,"position":5904.03},{"rank":46,"ticker":"UHS","momentum":45.2469391847,"atr":4.6295,"price":143.81,"sector":"Health Care","shares":54,"position":7765.74},{"rank":47,"ticker":"OGN","momentum":44.7850710628,"atr":1.45149,"price":35.34,"sector":"Health Care","shares":172,"position":6078.48},{"rank":48,"ticker":"PGR","momentum":42.3241191841,"atr":2.956,"price":114.0,"sector":"Financials","shares":84,"position":9576.0},{"rank":49,"ticker":"ALL","momentum":42.2592803642,"atr":3.485205,"price":137.05,"sector":"Financials","shares":71,"position":9730.55},{"rank":50,"ticker":"HWM","momentum":39.2176985154,"atr":1.477195,"price":36.73,"sector":"Industrials","shares":169,"position":6207.37},{"rank":51,"ticker":"MKC","momentum":36.2362870554,"atr":2.763,"price":96.14,"sector":"Consumer Staples","shares":90,"position":8652.6},{"rank":52,"ticker":"CTVA","momentum":34.6691387273,"atr":1.67431,"price":57.41,"sector":"Materials","shares":149,"position":8554.09},{"rank":53,"ticker":"HSIC","momentum":34.3724771251,"atr":2.0324,"price":87.81,"sector":"Health Care","shares":123,"position":10800.63},{"rank":54,"ticker":"L","momentum":33.7520671726,"atr":1.47425,"price":63.9,"sector":"Financials","shares":169,"position":10799.1},{"rank":55,"ticker":"LYB","momentum":30.9721318101,"atr":3.85695,"price":104.19,"sector":"Materials","shares":64,"position":6668.16},{"rank":56,"ticker":"HPE","momentum":30.4723924246,"atr":0.60667,"price":16.97,"sector":"Information Technology","shares":412,"position":6991.64},{"rank":57,"ticker":"LHX","momentum":30.2767827744,"atr":9.738305,"price":255.26,"sector":"Industrials","shares":25,"position":6381.5},{"rank":58,"ticker":"AEP","momentum":29.8961679493,"atr":2.157,"price":96.01,"sector":"Utilities","shares":115,"position":11041.15},{"rank":59,"ticker":"PSX","momentum":29.2677258519,"atr":3.060275,"price":80.27,"sector":"Energy","shares":81,"position":6501.87},{"rank":60,"ticker":"FE","momentum":29.1868104259,"atr":0.95518,"price":43.51,"sector":"Utilities","shares":261,"position":11356.11},{"rank":61,"ticker":"TAP","momentum":29.1058539511,"atr":1.745955,"price":52.5,"sector":"Consumer Staples","shares":143,"position":7507.5},{"rank":62,"ticker":"CVS","momentum":28.9492274905,"atr":2.72076,"price":106.2,"sector":"Health Care","shares":91,"position":9664.2},{"rank":63,"ticker":"CB","momentum":28.2833352658,"atr":5.245995,"price":210.64,"sector":"Financials","shares":47,"position":9900.08},{"rank":64,"ticker":"HRL","momentum":27.4025247608,"atr":1.35275,"price":49.93,"sector":"Consumer Staples","shares":184,"position":9187.12},{"rank":65,"ticker":"AMGN","momentum":26.951037832,"atr":5.204225,"price":234.18,"sector":"Health Care","shares":48,"position":11240.64},{"rank":66,"ticker":"ED","momentum":26.8855542441,"atr":1.87764,"price":89.94,"sector":"Utilities","shares":133,"position":11962.02},{"rank":67,"ticker":"KMI","momentum":26.5950393621,"atr":0.51182,"price":18.12,"sector":"Energy","shares":488,"position":8842.56},{"rank":68,"ticker":"VTR","momentum":25.1380124233,"atr":1.6602,"price":60.14,"sector":"Real Estate","shares":150,"position":9021.0},{"rank":69,"ticker":"NUE","momentum":25.0109402256,"atr":6.81115,"price":147.14,"sector":"Materials","shares":36,"position":5297.04},{"rank":70,"ticker":"AFL","momentum":24.4338631809,"atr":1.59069,"price":63.74,"sector":"Financials","shares":157,"position":10007.18},{"rank":71,"ticker":"PNW","momentum":23.8159491125,"atr":1.918305,"price":73.7,"sector":"Utilities","shares":130,"position":9581.0},{"rank":72,"ticker":"SYY","momentum":23.6904262097,"atr":2.958025,"price":80.43,"sector":"Consumer Staples","shares":84,"position":6756.12},{"rank":73,"ticker":"CNC","momentum":23.3112545807,"atr":2.428945,"price":82.46,"sector":"Health Care","shares":102,"position":8410.92},{"rank":74,"ticker":"D","momentum":23.0336502677,"atr":1.90294,"price":81.63,"sector":"Utilities","shares":131,"position":10693.53},{"rank":75,"ticker":"CI","momentum":22.9907409223,"atr":6.41993,"price":238.5,"sector":"Health Care","shares":38,"position":9063.0},{"rank":76,"ticker":"BDX","momentum":22.5557204571,"atr":5.80128,"price":261.97,"sector":"Health Care","shares":43,"position":11264.71},{"rank":77,"ticker":"KO","momentum":21.5734529476,"atr":1.36325,"price":60.4,"sector":"Consumer Staples","shares":183,"position":11053.2},{"rank":78,"ticker":"MET","momentum":20.6324925745,"atr":2.224905,"price":69.42,"sector":"Financials","shares":112,"position":7775.04},{"rank":79,"ticker":"FOXA","momentum":18.9483902297,"atr":1.340515,"price":40.56,"sector":"Communication Services","shares":186,"position":7544.16},{"rank":80,"ticker":"ANTM","momentum":18.8346222605,"atr":13.901255,"price":462.17,"sector":"Health Care","shares":17,"position":7856.89},{"rank":81,"ticker":"CTSH","momentum":18.5248801878,"atr":2.42995,"price":90.96,"sector":"Information Technology","shares":102,"position":9277.92},{"rank":82,"ticker":"DE","momentum":18.4732389557,"atr":16.46087,"price":431.52,"sector":"Industrials","shares":15,"position":6472.8},{"rank":83,"ticker":"LDOS","momentum":18.2022476447,"atr":3.165125,"price":106.83,"sector":"Industrials","shares":78,"position":8332.74},{"rank":84,"ticker":"CME","momentum":17.5247474075,"atr":6.45176,"price":246.79,"sector":"Financials","shares":38,"position":9378.02},{"rank":85,"ticker":"DVA","momentum":17.183473943,"atr":3.061,"price":109.86,"sector":"Health Care","shares":81,"position":8898.66},{"rank":86,"ticker":"GL","momentum":17.0536861175,"atr":2.8082,"price":99.64,"sector":"Financials","shares":89,"position":8867.96},{"rank":87,"ticker":"HST","momentum":15.1417908584,"atr":0.67725,"price":18.36,"sector":"Real Estate","shares":369,"position":6774.84},{"rank":88,"ticker":"DOW","momentum":14.7290432555,"atr":1.97999,"price":63.3,"sector":"Materials","shares":126,"position":7975.8},{"rank":89,"ticker":"AIZ","momentum":13.9193654554,"atr":4.008035,"price":178.97,"sector":"Financials","shares":62,"position":11096.14},{"rank":90,"ticker":"KHC","momentum":13.3380408956,"atr":0.986235,"price":38.28,"sector":"Consumer Staples","shares":253,"position":9684.84},{"rank":91,"ticker":"AXP","momentum":13.0385198103,"atr":7.589725,"price":186.02,"sector":"Financials","shares":32,"position":5952.64},{"rank":92,"ticker":"CINF","momentum":12.9999506534,"atr":3.818745,"price":131.74,"sector":"Financials","shares":65,"position":8563.1},{"rank":93,"ticker":"FOX","momentum":12.6909054849,"atr":1.18075,"price":37.18,"sector":"Communication Services","shares":211,"position":7844.98},{"rank":94,"ticker":"MAR","momentum":12.6718496627,"atr":6.50031,"price":167.65,"sector":"Consumer Discretionary","shares":38,"position":6370.7},{"rank":95,"ticker":"AIG","momentum":12.3369615318,"atr":2.36875,"price":61.85,"sector":"Financials","shares":105,"position":6494.25},{"rank":96,"ticker":"CMS","momentum":11.0609737739,"atr":1.3485,"price":67.64,"sector":"Utilities","shares":185,"position":12513.4},{"rank":97,"ticker":"HII","momentum":11.050334253,"atr":7.394465,"price":203.04,"sector":"Industrials","shares":33,"position":6700.32},{"rank":98,"ticker":"PSA","momentum":10.5116207269,"atr":8.43045,"price":368.05,"sector":"Real Estate","shares":29,"position":10673.45},{"rank":99,"ticker":"RE","momentum":10.3641816786,"atr":9.245,"price":291.84,"sector":"Financials","shares":27,"position":7879.68},{"rank":100,"ticker":"OKE","momentum":9.3392663078,"atr":2.14175,"price":68.97,"sector":"Energy","shares":116,"position":8000.52},{"rank":101,"ticker":"CEG","momentum":8.9688655993,"atr":2.56115,"price":50.99,"sector":"Utilities","shares":97,"position":4946.03},{"rank":102,"ticker":"WY","momentum":8.3624686121,"atr":1.21875,"price":38.15,"sector":"Real Estate","shares":205,"position":7820.75},{"rank":103,"ticker":"UNP","momentum":8.2340027736,"atr":7.248725,"price":267.68,"sector":"Industrials","shares":34,"position":9101.12},{"rank":104,"ticker":"TMUS","momentum":7.9539109389,"atr":3.028565,"price":124.83,"sector":"Communication Services","shares":82,"position":10236.06},{"rank":105,"ticker":"CNP","momentum":7.4965061961,"atr":0.61783,"price":29.62,"sector":"Utilities","shares":404,"position":11966.48},{"rank":106,"ticker":"XEL","momentum":7.4701094146,"atr":1.551,"price":69.3,"sector":"Utilities","shares":161,"position":11157.3},{"rank":107,"ticker":"BXP","momentum":7.3164568676,"atr":3.0622,"price":123.28,"sector":"Real Estate","shares":81,"position":9985.68},{"rank":108,"ticker":"PEG","momentum":6.6720926848,"atr":1.35122,"price":66.8,"sector":"Utilities","shares":185,"position":12358.0},{"rank":109,"ticker":"UNH","momentum":6.656914475,"atr":12.699735,"price":503.23,"sector":"Health Care","shares":19,"position":9561.37},{"rank":110,"ticker":"SO","momentum":6.4974696793,"atr":1.42499,"price":68.79,"sector":"Utilities","shares":175,"position":12038.25},{"rank":111,"ticker":"FLT","momentum":5.9946656975,"atr":7.246,"price":240.24,"sector":"Information Technology","shares":34,"position":8168.16},{"rank":112,"ticker":"FITB","momentum":5.949016346,"atr":2.027,"price":45.68,"sector":"Financials","shares":123,"position":5618.64},{"rank":113,"ticker":"INCY","momentum":5.6946799355,"atr":1.84975,"price":77.1,"sector":"Health Care","shares":135,"position":10408.5},{"rank":114,"ticker":"ZION","momentum":5.0886669262,"atr":3.20501,"price":67.7,"sector":"Financials","shares":78,"position":5280.6},{"rank":115,"ticker":"JNPR","momentum":4.8048635936,"atr":0.93159,"price":35.07,"sector":"Information Technology","shares":268,"position":9398.76},{"rank":116,"ticker":"TDG","momentum":4.7962056068,"atr":24.618495,"price":660.84,"sector":"Industrials","shares":10,"position":6608.4},{"rank":117,"ticker":"RJF","momentum":4.4158638037,"atr":3.98925,"price":105.7,"sector":"Financials","shares":62,"position":6553.4},{"rank":118,"ticker":"JNJ","momentum":4.1050204638,"atr":3.709345,"price":174.34,"sector":"Health Care","shares":67,"position":11680.78},{"rank":119,"ticker":"PRU","momentum":3.823206788,"atr":3.94573,"price":116.94,"sector":"Financials","shares":63,"position":7367.22},{"rank":120,"ticker":"IBM","momentum":3.0968860084,"atr":2.61512,"price":128.3,"sector":"Information Technology","shares":95,"position":12188.5},{"rank":121,"ticker":"MOH","momentum":3.0776329691,"atr":12.875335,"price":331.86,"sector":"Health Care","shares":19,"position":6305.34},{"rank":122,"ticker":"TFX","momentum":3.0474935746,"atr":9.942175,"price":328.97,"sector":"Health Care","shares":25,"position":8224.25},{"rank":123,"ticker":"DUK","momentum":2.5736325374,"atr":2.08068,"price":106.83,"sector":"Utilities","shares":120,"position":12819.6},{"rank":124,"ticker":"WELL","momentum":2.4591364637,"atr":2.34692,"price":92.83,"sector":"Real Estate","shares":106,"position":9839.98},{"rank":125,"ticker":"RHI","momentum":2.0910895322,"atr":3.904835,"price":116.46,"sector":"Industrials","shares":64,"position":7453.44},{"rank":126,"ticker":"SCHW","momentum":1.779996565,"atr":3.52125,"price":89.75,"sector":"Financials","shares":70,"position":6282.5},{"rank":127,"ticker":"SEE","momentum":1.2343818136,"atr":2.2575,"price":67.59,"sector":"Materials","shares":110,"position":7434.9},{"rank":128,"ticker":"HPQ","momentum":1.1733227325,"atr":1.493495,"price":37.73,"sector":"Information Technology","shares":167,"position":6300.91},{"rank":129,"ticker":"LNT","momentum":1.1271540797,"atr":1.31475,"price":60.41,"sector":"Utilities","shares":190,"position":11477.9},{"rank":130,"ticker":"V","momentum":0.8070926317,"atr":7.03263,"price":214.68,"sector":"Information Technology","shares":35,"position":7513.8},{"rank":131,"ticker":"ETR","momentum":0.8018234902,"atr":2.528,"price":110.85,"sector":"Utilities","shares":98,"position":10863.3},{"rank":132,"ticker":"UPS","momentum":0.7602760612,"atr":6.23904,"price":214.58,"sector":"Industrials","shares":40,"position":8583.2},{"rank":133,"ticker":"VNO","momentum":0.7590989462,"atr":1.4345,"price":45.3,"sector":"Real Estate","shares":174,"position":7882.2},{"rank":134,"ticker":"AEE","momentum":0.4992504123,"atr":1.705,"price":89.13,"sector":"Utilities","shares":146,"position":13012.98},{"rank":135,"ticker":"EMR","momentum":0.3628162435,"atr":2.8145,"price":97.29,"sector":"Industrials","shares":88,"position":8561.52},{"rank":136,"ticker":"ORLY","momentum":0.2557025301,"atr":17.7859,"price":688.25,"sector":"Consumer Discretionary","shares":14,"position":9635.5},{"rank":137,"ticker":"JBHT","momentum":0.2483175904,"atr":7.244305,"price":210.18,"sector":"Industrials","shares":34,"position":7146.12},{"rank":138,"ticker":"HLT","momentum":0.2130714781,"atr":6.045435,"price":148.41,"sector":"Consumer Discretionary","shares":41,"position":6084.81},{"rank":139,"ticker":"KIM","momentum":0.1908752826,"atr":0.701995,"price":24.02,"sector":"Real Estate","shares":356,"position":8551.12},{"rank":140,"ticker":"WEC","momentum":0.0893656843,"atr":1.86375,"price":95.48,"sector":"Utilities","shares":134,"position":12794.32},{"rank":141,"ticker":"CAT","momentum":0.0472338202,"atr":6.90814,"price":222.17,"sector":"Industrials","shares":36,"position":7998.12},{"rank":142,"ticker":"BRO","momentum":0.0238853952,"atr":2.005755,"price":68.68,"sector":"Financials","shares":124,"position":8516.32},{"rank":143,"ticker":"LLY","momentum":0.008458678,"atr":6.82991,"price":284.19,"sector":"Health Care","shares":36,"position":10230.84},{"rank":144,"ticker":"HIG","momentum":0.0064581103,"atr":2.28316,"price":70.88,"sector":"Financials","shares":109,"position":7725.92},{"rank":145,"ticker":"CHRW","momentum":0.0002655762,"atr":3.455705,"price":104.67,"sector":"Industrials","shares":72,"position":7536.24},{"rank":146,"ticker":"IRM","momentum":0.0000039751,"atr":1.67787,"price":52.15,"sector":"Real Estate","shares":148,"position":7718.2},{"rank":147,"ticker":"COO","momentum":0.0000000984,"atr":12.20179,"price":407.12,"sector":"Health Care","shares":20,"position":8142.4},{"rank":148,"ticker":"MRK","momentum":-0.0000613816,"atr":1.64842,"price":79.73,"sector":"Health Care","shares":151,"position":12039.23},{"rank":149,"ticker":"AVGO","momentum":-0.0003315935,"atr":21.235995,"price":599.38,"sector":"Information Technology","shares":11,"position":6593.18},{"rank":150,"ticker":"WAB","momentum":-0.0006265646,"atr":3.04143,"price":95.7,"sector":"Industrials","shares":82,"position":7847.4},{"rank":151,"ticker":"REGN","momentum":-0.0015239889,"atr":16.5455,"price":669.22,"sector":"Health Care","shares":15,"position":10038.3},{"rank":152,"ticker":"AON","momentum":-0.0082500651,"atr":8.1064,"price":313.77,"sector":"Financials","shares":30,"position":9413.1},{"rank":153,"ticker":"AAPL","momentum":-0.0115794094,"atr":5.08406,"price":170.21,"sector":"Information Technology","shares":49,"position":8340.29},{"rank":154,"ticker":"WRK","momentum":-0.042341021,"atr":1.6149,"price":46.12,"sector":"Materials","shares":154,"position":7102.48},{"rank":155,"ticker":"AZO","momentum":-0.0439385494,"atr":59.293365,"price":1972.28,"sector":"Consumer Discretionary","shares":4,"position":7889.12},{"rank":156,"ticker":"TDY","momentum":-0.0482208811,"atr":12.11175,"price":454.64,"sector":"Industrials","shares":20,"position":9092.8},{"rank":157,"ticker":"PWR","momentum":-0.0909488127,"atr":4.38343,"price":129.21,"sector":"Industrials","shares":57,"position":7364.97},{"rank":158,"ticker":"AKAM","momentum":-0.404975643,"atr":3.08783,"price":116.41,"sector":"Information Technology","shares":80,"position":9312.8},{"rank":159,"ticker":"WMT","momentum":-0.4135658045,"atr":2.9171,"price":141.95,"sector":"Consumer Staples","shares":85,"position":12065.75},{"rank":160,"ticker":"COST","momentum":-0.4615655708,"atr":14.658085,"price":554.02,"sector":"Consumer Staples","shares":17,"position":9418.34},{"rank":161,"ticker":"AMP","momentum":-0.6033182064,"atr":11.40529,"price":303.16,"sector":"Financials","shares":21,"position":6366.36},{"rank":162,"ticker":"GWW","momentum":-0.9959008083,"atr":14.019475,"price":504.82,"sector":"Industrials","shares":17,"position":8581.94},{"rank":163,"ticker":"PAYX","momentum":-1.3012243702,"atr":3.31514,"price":125.38,"sector":"Information Technology","shares":75,"position":9403.5},{"rank":164,"ticker":"PLD","momentum":-1.4521851259,"atr":3.80251,"price":157.23,"sector":"Real Estate","shares":65,"position":10219.95},{"rank":165,"ticker":"CSX","momentum":-1.5002081535,"atr":1.17075,"price":36.39,"sector":"Industrials","shares":213,"position":7751.07},{"rank":166,"ticker":"EIX","momentum":-2.1968733238,"atr":1.384295,"price":66.6,"sector":"Utilities","shares":180,"position":11988.0},{"rank":167,"ticker":"TSCO","momentum":-2.3498600711,"atr":7.621945,"price":232.12,"sector":"Consumer Discretionary","shares":32,"position":7427.84},{"rank":168,"ticker":"ICE","momentum":-2.3862716513,"atr":3.52347,"price":134.9,"sector":"Financials","shares":70,"position":9443.0},{"rank":169,"ticker":"ROL","momentum":-2.402648151,"atr":0.889,"price":33.42,"sector":"Industrials","shares":281,"position":9391.02},{"rank":170,"ticker":"WTW","momentum":-2.5333487791,"atr":6.1205,"price":231.93,"sector":"Financials","shares":40,"position":9277.2},{"rank":171,"ticker":"HOLX","momentum":-3.3095274145,"atr":1.848915,"price":75.04,"sector":"Health Care","shares":135,"position":10130.4},{"rank":172,"ticker":"EVRG","momentum":-3.9478945127,"atr":1.289425,"price":65.15,"sector":"Utilities","shares":193,"position":12573.95},{"rank":173,"ticker":"TXT","momentum":-4.5423366653,"atr":2.41,"price":73.59,"sector":"Industrials","shares":103,"position":7579.77},{"rank":174,"ticker":"AJG","momentum":-6.2023267264,"atr":4.355945,"price":164.07,"sector":"Financials","shares":57,"position":9351.99},{"rank":175,"ticker":"ULTA","momentum":-7.9731443714,"atr":15.256615,"price":389.79,"sector":"Consumer Discretionary","shares":16,"position":6236.64},{"rank":176,"ticker":"DG","momentum":-10.1343130855,"atr":6.471165,"price":221.55,"sector":"Consumer Discretionary","shares":38,"position":8418.9},{"rank":177,"ticker":"URI","momentum":-11.1661148453,"atr":12.679185,"price":354.43,"sector":"Industrials","shares":19,"position":6734.17},{"rank":178,"ticker":"MMC","momentum":-17.7884400032,"atr":3.980965,"price":162.55,"sector":"Financials","shares":62,"position":10078.1},{"rank":179,"ticker":"AES","momentum":-18.9352477916,"atr":0.688735,"price":23.4,"sector":"Utilities","shares":362,"position":8470.8},{"rank":180,"ticker":"J","momentum":-20.7154933962,"atr":3.77223,"price":135.69,"sector":"Industrials","shares":66,"position":8955.54},{"rank":181,"ticker":"VRSK","momentum":-32.857714897,"atr":4.82619,"price":207.65,"sector":"Industrials","shares":51,"position":10590.15}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"NDAQ","momentum":120.4809726229,"atr":1.256505,"price":62.03,"sector":"Financials","shares":198,"position":12281.94},{"rank":2,"ticker":"LW","momentum":115.8817320298,"atr":1.52577,"price":75.75,"sector":"Consumer Staples","shares":163,"position":12347.25},{"rank":3,"ticker":"BR","momentum":102.212397605,"atr":3.0845,"price":166.76,"sector":"Information Technology","shares":81,"position":13507.56},{"rank":4,"ticker":"PWR","momentum":95.6939580216,"atr":3.87875,"price":142.37,"sector":"Industrials","shares":64,"position":9111.68},{"rank":5,"ticker":"BA","momentum":94.2373543343,"atr":5.49839,"price":149.26,"sector":"Industrials","shares":45,"position":6716.7},{"rank":6,"ticker":"KEYS","momentum":93.4182020482,"atr":4.32313,"price":168.11,"sector":"Information Technology","shares":57,"position":9582.27},{"rank":7,"ticker":"NEE","momentum":93.3714800177,"atr":1.671755,"price":88.88,"sector":"Utilities","shares":149,"position":13243.12},{"rank":8,"ticker":"FDS","momentum":86.7588905294,"atr":8.51747,"price":448.86,"sector":"Financials","shares":29,"position":13016.94},{"rank":9,"ticker":"CDNS","momentum":86.2056897846,"atr":4.16175,"price":167.23,"sector":"Information Technology","shares":60,"position":10033.8},{"rank":10,"ticker":"CAH","momentum":77.6748614689,"atr":1.4975,"price":66.74,"sector":"Health Care","shares":166,"position":11078.84},{"rank":11,"ticker":"GPC","momentum":77.567641801,"atr":2.981055,"price":156.29,"sector":"Consumer Discretionary","shares":83,"position":12972.07},{"rank":12,"ticker":"AES","momentum":76.8279856749,"atr":0.67563,"price":27.03,"sector":"Utilities","shares":370,"position":10001.1},{"rank":13,"ticker":"SBUX","momentum":69.6232449139,"atr":2.4145,"price":92.7,"sector":"Consumer Discretionary","shares":103,"position":9548.1},{"rank":14,"ticker":"DRE","momentum":68.3879866443,"atr":1.43245,"price":57.44,"sector":"Real Estate","shares":174,"position":9994.56},{"rank":15,"ticker":"MSI","momentum":66.0806069065,"atr":4.65525,"price":242.31,"sector":"Information Technology","shares":53,"position":12842.43},{"rank":16,"ticker":"AJG","momentum":63.9127771868,"atr":3.01466,"price":185.1,"sector":"Financials","shares":82,"position":15178.2},{"rank":17,"ticker":"ORLY","momentum":63.6087936898,"atr":13.34931,"price":689.43,"sector":"Consumer Discretionary","shares":18,"position":12409.74},{"rank":18,"ticker":"SNPS","momentum":63.0575195052,"atr":9.57174,"price":323.37,"sector":"Information Technology","shares":26,"position":8407.62},{"rank":19,"ticker":"TT","momentum":62.1872506129,"atr":3.67325,"price":160.17,"sector":"Industrials","shares":68,"position":10891.56},{"rank":20,"ticker":"ON","momentum":61.7490222506,"atr":3.403995,"price":68.57,"sector":"Information Technology","shares":73,"position":5005.61},{"rank":21,"ticker":"GWW","momentum":59.8592401539,"atr":10.39233,"price":548.24,"sector":"Industrials","shares":24,"position":13157.76},{"rank":22,"ticker":"VICI","momentum":59.0966065502,"atr":0.586205,"price":33.22,"sector":"Real Estate","shares":426,"position":14151.72},{"rank":23,"ticker":"INTU","momentum":58.137860536,"atr":15.544725,"price":436.84,"sector":"Information Technology","shares":16,"position":6989.44},{"rank":24,"ticker":"IT","momentum":56.8270493732,"atr":6.88975,"price":302.08,"sector":"Information Technology","shares":36,"position":10874.88},{"rank":25,"ticker":"RMD","momentum":55.3021286141,"atr":4.7505,"price":233.2,"sector":"Health Care","shares":52,"position":12126.4},{"rank":26,"ticker":"ADP","momentum":52.9012466565,"atr":4.509065,"price":234.48,"sector":"Information Technology","shares":55,"position":12896.4},{"rank":27,"ticker":"BRO","momentum":49.9877421279,"atr":1.234,"price":62.52,"sector":"Financials","shares":202,"position":12629.04},{"rank":28,"ticker":"EXR","momentum":49.8493174517,"atr":4.39274,"price":191.65,"sector":"Real Estate","shares":56,"position":10732.4},{"rank":29,"ticker":"MSCI","momentum":49.5016446063,"atr":12.850685,"price":469.11,"sector":"Financials","shares":19,"position":8913.09},{"rank":30,"ticker":"BF.B","momentum":49.1373465079,"atr":1.477895,"price":72.04,"sector":"Consumer Staples","shares":169,"position":12174.76},{"rank":31,"ticker":"COST","momentum":44.0965838452,"atr":11.95944,"price":508.0,"sector":"Consumer Staples","shares":20,"position":10160.0},{"rank":32,"ticker":"DHR","momentum":42.502353864,"atr":6.98314,"price":281.73,"sector":"Health Care","shares":35,"position":9860.55},{"rank":33,"ticker":"TMUS","momentum":42.4092261585,"atr":3.454975,"price":141.93,"sector":"Communication Services","shares":72,"position":10218.96},{"rank":34,"ticker":"XYL","momentum":40.5657224892,"atr":2.34,"price":94.56,"sector":"Industrials","shares":106,"position":10023.36},{"rank":35,"ticker":"F","momentum":38.846492055,"atr":0.504745,"price":14.66,"sector":"Consumer Discretionary","shares":495,"position":7256.7},{"rank":36,"ticker":"CBOE","momentum":37.7178944763,"atr":2.78,"price":121.42,"sector":"Financials","shares":89,"position":10806.38},{"rank":37,"ticker":"UPS","momentum":37.2688119929,"atr":3.81868,"price":190.96,"sector":"Industrials","shares":65,"position":12412.4},{"rank":38,"ticker":"MOH","momentum":37.1747545597,"atr":9.26092,"price":336.09,"sector":"Health Care","shares":26,"position":8738.34},{"rank":39,"ticker":"CTAS","momentum":35.8465863472,"atr":8.358485,"price":402.89,"sector":"Industrials","shares":29,"position":11683.81},{"rank":40,"ticker":"HII","momentum":34.0187996358,"atr":4.38458,"price":232.87,"sector":"Industrials","shares":57,"position":13273.59},{"rank":41,"ticker":"VRSK","momentum":33.6864064412,"atr":3.959045,"price":185.91,"sector":"Industrials","shares":63,"position":11712.33},{"rank":42,"ticker":"MCK","momentum":32.7473676318,"atr":7.899555,"price":341.4,"sector":"Health Care","shares":31,"position":10583.4},{"rank":43,"ticker":"IEX","momentum":32.5560270215,"atr":3.765875,"price":208.04,"sector":"Industrials","shares":66,"position":13730.64},{"rank":44,"ticker":"RJF","momentum":32.1451703245,"atr":2.195,"price":107.25,"sector":"Financials","shares":113,"position":12119.25},{"rank":45,"ticker":"CI","momentum":31.3016515871,"atr":5.34556,"price":284.08,"sector":"Health Care","shares":46,"position":13067.68},{"rank":46,"ticker":"RSG","momentum":30.3251844364,"atr":2.206775,"price":145.96,"sector":"Industrials","shares":113,"position":16493.48},{"rank":47,"ticker":"VRTX","momentum":30.0661277882,"atr":8.035275,"price":284.86,"sector":"Health Care","shares":31,"position":8830.66},{"rank":48,"ticker":"JKHY","momentum":29.9885395628,"atr":4.629885,"price":193.3,"sector":"Information Technology","shares":53,"position":10244.9},{"rank":49,"ticker":"AAPL","momentum":29.4842628255,"atr":4.088815,"price":155.31,"sector":"Information Technology","shares":61,"position":9473.91},{"rank":50,"ticker":"AZO","momentum":28.9760559704,"atr":45.18733,"price":2133.01,"sector":"Consumer Discretionary","shares":5,"position":10665.05},{"rank":51,"ticker":"CDAY","momentum":27.8684892058,"atr":2.13453,"price":61.32,"sector":"Information Technology","shares":117,"position":7174.44},{"rank":52,"ticker":"PSA","momentum":27.812055303,"atr":7.11525,"price":324.68,"sector":"Real Estate","shares":35,"position":11363.8},{"rank":53,"ticker":"NDSN","momentum":26.3931252004,"atr":4.943875,"price":226.72,"sector":"Industrials","shares":50,"position":11336.0},{"rank":54,"ticker":"GIS","momentum":25.7562992328,"atr":1.29726,"price":74.42,"sector":"Consumer Staples","shares":192,"position":14288.64},{"rank":55,"ticker":"AVY","momentum":25.2653996303,"atr":4.077745,"price":180.19,"sector":"Materials","shares":61,"position":10991.59},{"rank":56,"ticker":"TDG","momentum":25.1399837602,"atr":15.58675,"price":600.14,"sector":"Industrials","shares":16,"position":9602.24},{"rank":57,"ticker":"FISV","momentum":24.2636796304,"atr":2.3777,"price":105.9,"sector":"Information Technology","shares":105,"position":11119.5},{"rank":58,"ticker":"PGR","momentum":23.557489536,"atr":2.35305,"price":128.04,"sector":"Financials","shares":106,"position":13572.24},{"rank":59,"ticker":"WM","momentum":23.1401348787,"atr":2.37903,"price":171.73,"sector":"Industrials","shares":105,"position":18031.65},{"rank":60,"ticker":"TYL","momentum":23.1007417426,"atr":9.587265,"price":368.54,"sector":"Information Technology","shares":26,"position":9582.04},{"rank":61,"ticker":"KDP","momentum":22.1755689752,"atr":0.69,"price":37.74,"sector":"Consumer Staples","shares":362,"position":13661.88},{"rank":62,"ticker":"A","momentum":21.2187740602,"atr":3.8915,"price":133.25,"sector":"Health Care","shares":64,"position":8528.0},{"rank":63,"ticker":"DG","momentum":19.9932901434,"atr":5.3155,"price":241.07,"sector":"Consumer Discretionary","shares":47,"position":11330.29},{"rank":64,"ticker":"TJX","momentum":19.3469562713,"atr":1.895095,"price":64.36,"sector":"Consumer Discretionary","shares":131,"position":8431.16},{"rank":65,"ticker":"APH","momentum":18.9149589166,"atr":1.45016,"price":73.93,"sector":"Information Technology","shares":172,"position":12715.96},{"rank":66,"ticker":"SCHW","momentum":18.7006794535,"atr":1.843005,"price":72.75,"sector":"Financials","shares":135,"position":9821.25},{"rank":67,"ticker":"GS","momentum":18.3353756335,"atr":7.373125,"price":327.26,"sector":"Financials","shares":33,"position":10799.58},{"rank":68,"ticker":"CMI","momentum":17.5925089956,"atr":4.41333,"price":213.26,"sector":"Industrials","shares":56,"position":11942.56},{"rank":69,"ticker":"MCD","momentum":16.9371063423,"atr":3.631,"price":255.72,"sector":"Consumer Discretionary","shares":68,"position":17388.96},{"rank":70,"ticker":"ADSK","momentum":16.5289722015,"atr":7.244535,"price":208.52,"sector":"Information Technology","shares":34,"position":7089.68},{"rank":71,"ticker":"FTV","momentum":16.4394797405,"atr":1.30562,"price":64.08,"sector":"Industrials","shares":191,"position":12239.28},{"rank":72,"ticker":"IR","momentum":15.1095500642,"atr":1.41865,"price":49.6,"sector":"Industrials","shares":176,"position":8729.6},{"rank":73,"ticker":"MTB","momentum":13.5139661587,"atr":4.12395,"price":183.25,"sector":"Financials","shares":60,"position":10995.0},{"rank":74,"ticker":"MS","momentum":12.0056159925,"atr":2.188995,"price":87.18,"sector":"Financials","shares":114,"position":9938.52},{"rank":75,"ticker":"AON","momentum":11.9836053288,"atr":5.624245,"price":283.77,"sector":"Financials","shares":44,"position":12485.88},{"rank":76,"ticker":"APD","momentum":10.6315101429,"atr":5.01266,"price":255.18,"sector":"Materials","shares":49,"position":12503.82},{"rank":77,"ticker":"CARR","momentum":10.3636281146,"atr":0.997885,"price":40.18,"sector":"Industrials","shares":250,"position":10045.0},{"rank":78,"ticker":"SO","momentum":10.0645480203,"atr":1.28794,"price":79.43,"sector":"Utilities","shares":194,"position":15409.42},{"rank":79,"ticker":"CHRW","momentum":9.9998759244,"atr":2.45315,"price":110.0,"sector":"Industrials","shares":101,"position":11110.0},{"rank":80,"ticker":"HSY","momentum":9.7658206575,"atr":3.669475,"price":221.75,"sector":"Consumer Staples","shares":68,"position":15079.0},{"rank":81,"ticker":"DIS","momentum":9.5738262592,"atr":2.891545,"price":112.5,"sector":"Communication Services","shares":86,"position":9675.0},{"rank":82,"ticker":"AFL","momentum":9.2308170163,"atr":1.16875,"price":60.13,"sector":"Financials","shares":213,"position":12807.69},{"rank":83,"ticker":"PCAR","momentum":8.7310908841,"atr":1.921295,"price":86.39,"sector":"Industrials","shares":130,"position":11230.7},{"rank":84,"ticker":"CDW","momentum":8.586968653,"atr":3.810355,"price":172.04,"sector":"Information Technology","shares":65,"position":11182.6},{"rank":85,"ticker":"HWM","momentum":8.4214240686,"atr":0.97237,"price":35.32,"sector":"Industrials","shares":257,"position":9077.24},{"rank":86,"ticker":"ULTA","momentum":8.3937567031,"atr":11.99523,"price":426.15,"sector":"Consumer Discretionary","shares":20,"position":8523.0},{"rank":87,"ticker":"URI","momentum":8.1811071513,"atr":10.44264,"price":290.0,"sector":"Industrials","shares":23,"position":6670.0},{"rank":88,"ticker":"JCI","momentum":8.1807366951,"atr":1.5235,"price":56.29,"sector":"Industrials","shares":164,"position":9231.56},{"rank":89,"ticker":"PFG","momentum":7.8693713313,"atr":1.68675,"price":77.58,"sector":"Financials","shares":148,"position":11481.84},{"rank":90,"ticker":"TMO","momentum":7.5489343433,"atr":12.4482,"price":558.13,"sector":"Health Care","shares":20,"position":11162.6},{"rank":91,"ticker":"NOC","momentum":7.3058259847,"atr":9.853245,"price":484.88,"sector":"Industrials","shares":25,"position":12122.0},{"rank":92,"ticker":"RF","momentum":7.283387842,"atr":0.555725,"price":22.13,"sector":"Financials","shares":449,"position":9936.37},{"rank":93,"ticker":"CVS","momentum":7.2237829331,"atr":1.945295,"price":101.05,"sector":"Health Care","shares":128,"position":12934.4},{"rank":94,"ticker":"GL","momentum":6.8191580348,"atr":1.8663,"price":101.17,"sector":"Financials","shares":133,"position":13455.61},{"rank":95,"ticker":"BSX","momentum":6.2460413476,"atr":0.85425,"price":42.07,"sector":"Health Care","shares":292,"position":12284.44},{"rank":96,"ticker":"CTXS","momentum":5.9744809831,"atr":0.47975,"price":103.64,"sector":"Information Technology","shares":521,"position":53996.44},{"rank":97,"ticker":"GPN","momentum":5.8449941355,"atr":3.18414,"price":132.46,"sector":"Information Technology","shares":78,"position":10331.88},{"rank":98,"ticker":"AWK","momentum":5.3558309389,"atr":3.33135,"price":153.48,"sector":"Utilities","shares":75,"position":11511.0},{"rank":99,"ticker":"PH","momentum":5.3512038775,"atr":7.3745,"price":270.77,"sector":"Industrials","shares":33,"position":8935.41},{"rank":100,"ticker":"KLAC","momentum":5.3414081979,"atr":12.380245,"price":346.61,"sector":"Information Technology","shares":20,"position":6932.2},{"rank":101,"ticker":"CF","momentum":4.9647443099,"atr":4.291935,"price":103.09,"sector":"Materials","shares":58,"position":5979.22},{"rank":102,"ticker":"ROL","momentum":4.7660524426,"atr":0.72,"price":36.33,"sector":"Industrials","shares":347,"position":12606.51},{"rank":103,"ticker":"SRE","momentum":4.6453637538,"atr":3.108105,"price":173.7,"sector":"Utilities","shares":80,"position":13896.0},{"rank":104,"ticker":"SJM","momentum":4.5867125282,"atr":2.839895,"price":139.04,"sector":"Consumer Staples","shares":88,"position":12235.52},{"rank":105,"ticker":"ECL","momentum":4.2835520393,"atr":4.1187,"price":164.64,"sector":"Materials","shares":60,"position":9878.4},{"rank":106,"ticker":"LNT","momentum":4.2445104587,"atr":1.092155,"price":61.92,"sector":"Utilities","shares":228,"position":14117.76},{"rank":107,"ticker":"CNP","momentum":4.2162030253,"atr":0.597995,"price":32.75,"sector":"Utilities","shares":418,"position":13689.5},{"rank":108,"ticker":"AMP","momentum":3.7687551528,"atr":6.71086,"price":277.96,"sector":"Financials","shares":37,"position":10284.52},{"rank":109,"ticker":"GM","momentum":3.7125424174,"atr":1.318995,"price":40.62,"sector":"Consumer Discretionary","shares":189,"position":7677.18},{"rank":110,"ticker":"DRI","momentum":3.644622298,"atr":3.46225,"price":130.3,"sector":"Consumer Discretionary","shares":72,"position":9381.6},{"rank":111,"ticker":"HBAN","momentum":3.41288464,"atr":0.357835,"price":13.87,"sector":"Financials","shares":698,"position":9681.26},{"rank":112,"ticker":"ED","momentum":3.3652613371,"atr":1.7635,"price":99.97,"sector":"Utilities","shares":141,"position":14095.77},{"rank":113,"ticker":"AME","momentum":3.1288075878,"atr":2.447725,"price":123.06,"sector":"Industrials","shares":102,"position":12552.12},{"rank":114,"ticker":"LLY","momentum":2.9442795443,"atr":7.71804,"price":309.61,"sector":"Health Care","shares":32,"position":9907.52},{"rank":115,"ticker":"CTVA","momentum":2.8535229828,"atr":1.3668,"price":63.81,"sector":"Materials","shares":182,"position":11613.42},{"rank":116,"ticker":"ETN","momentum":2.7930651014,"atr":3.45554,"price":143.1,"sector":"Industrials","shares":72,"position":10303.2},{"rank":117,"ticker":"ATO","momentum":2.4402837736,"atr":1.85725,"price":117.03,"sector":"Utilities","shares":134,"position":15682.02},{"rank":118,"ticker":"MTD","momentum":2.4169950384,"atr":32.042475,"price":1250.05,"sector":"Health Care","shares":7,"position":8750.35},{"rank":119,"ticker":"ZION","momentum":2.3038282651,"atr":1.387245,"price":57.96,"sector":"Financials","shares":180,"position":10432.8},{"rank":120,"ticker":"SNA","momentum":2.1693078942,"atr":4.27106,"price":216.73,"sector":"Industrials","shares":58,"position":12570.34},{"rank":121,"ticker":"TEL","momentum":2.1240616299,"atr":3.179685,"price":126.03,"sector":"Information Technology","shares":78,"position":9830.34},{"rank":122,"ticker":"STT","momentum":2.0300411421,"atr":1.87762,"price":71.4,"sector":"Financials","shares":133,"position":9496.2},{"rank":123,"ticker":"DTE","momentum":1.6484659341,"atr":2.114,"price":134.05,"sector":"Utilities","shares":118,"position":15817.9},{"rank":124,"ticker":"EVRG","momentum":1.605984912,"atr":1.25733,"price":69.63,"sector":"Utilities","shares":198,"position":13786.74},{"rank":125,"ticker":"WEC","momentum":1.5533680989,"atr":1.818995,"price":104.44,"sector":"Utilities","shares":137,"position":14308.28},{"rank":126,"ticker":"GD","momentum":1.5447609061,"atr":4.56288,"price":230.73,"sector":"Industrials","shares":54,"position":12459.42},{"rank":127,"ticker":"AEP","momentum":1.4987153757,"atr":1.95623,"price":103.32,"sector":"Utilities","shares":127,"position":13121.64},{"rank":128,"ticker":"WFC","momentum":1.4942405287,"atr":1.167,"price":43.28,"sector":"Financials","shares":214,"position":9261.92},{"rank":129,"ticker":"WAB","momentum":0.9976633,"atr":2.18725,"price":89.27,"sector":"Industrials","shares":114,"position":10176.78},{"rank":130,"ticker":"GILD","momentum":0.8781977909,"atr":1.37154,"price":65.18,"sector":"Health Care","shares":182,"position":11862.76},{"rank":131,"ticker":"EIX","momentum":0.8706466919,"atr":1.506075,"price":69.49,"sector":"Utilities","shares":165,"position":11465.85},{"rank":132,"ticker":"XEL","momentum":0.8583276258,"atr":1.30975,"price":75.31,"sector":"Utilities","shares":190,"position":14308.9},{"rank":133,"ticker":"BDX","momentum":0.8470785064,"atr":4.66725,"price":258.95,"sector":"Health Care","shares":53,"position":13724.35},{"rank":134,"ticker":"IRM","momentum":0.67049104,"atr":1.34439,"price":54.28,"sector":"Real Estate","shares":185,"position":10041.8},{"rank":135,"ticker":"AEE","momentum":0.6485011285,"atr":1.62405,"price":93.73,"sector":"Utilities","shares":153,"position":14340.69},{"rank":136,"ticker":"PPL","momentum":0.6052427603,"atr":0.48871,"price":29.62,"sector":"Utilities","shares":511,"position":15135.82},{"rank":137,"ticker":"ES","momentum":0.4903266609,"atr":1.63297,"price":90.69,"sector":"Utilities","shares":153,"position":13875.57},{"rank":138,"ticker":"PNW","momentum":0.4890033306,"atr":1.3491,"price":75.42,"sector":"Utilities","shares":185,"position":13952.7},{"rank":139,"ticker":"WMT","momentum":0.3926952438,"atr":2.53845,"price":134.92,"sector":"Consumer Staples","shares":98,"position":13222.16},{"rank":140,"ticker":"XOM","momentum":0.3196632053,"atr":2.722425,"price":97.67,"sector":"Energy","shares":91,"position":8887.97},{"rank":141,"ticker":"MET","momentum":0.2902820072,"atr":1.362505,"price":66.41,"sector":"Financials","shares":183,"position":12153.03},{"rank":142,"ticker":"ETR","momentum":0.2104222145,"atr":2.223,"price":118.71,"sector":"Utilities","shares":112,"position":13295.52},{"rank":143,"ticker":"D","momentum":0.108048145,"atr":1.352115,"price":82.44,"sector":"Utilities","shares":184,"position":15168.96},{"rank":144,"ticker":"ADM","momentum":0.0548946688,"atr":2.319085,"price":86.17,"sector":"Consumer Staples","shares":107,"position":9220.19},{"rank":145,"ticker":"MGM","momentum":0.0396889974,"atr":1.294465,"price":34.02,"sector":"Consumer Discretionary","shares":193,"position":6565.86},{"rank":146,"ticker":"NI","momentum":0.0167912506,"atr":0.5462,"price":29.86,"sector":"Utilities","shares":457,"position":13646.02},{"rank":147,"ticker":"CMS","momentum":0.0067088499,"atr":1.24125,"price":68.69,"sector":"Utilities","shares":201,"position":13806.69},{"rank":148,"ticker":"DUK","momentum":0.005666406,"atr":1.85203,"price":109.27,"sector":"Utilities","shares":134,"position":14642.18},{"rank":149,"ticker":"MPC","momentum":0.0055771003,"atr":2.8584,"price":98.32,"sector":"Energy","shares":87,"position":8553.84},{"rank":150,"ticker":"HLT","momentum":-0.0000001783,"atr":3.67925,"price":134.83,"sector":"Consumer Discretionary","shares":67,"position":9033.61},{"rank":151,"ticker":"COP","momentum":-0.0000322099,"atr":3.601995,"price":117.71,"sector":"Energy","shares":69,"position":8121.99},{"rank":152,"ticker":"AXP","momentum":-0.0023210929,"atr":4.16875,"price":156.3,"sector":"Financials","shares":59,"position":9221.7},{"rank":153,"ticker":"PEG","momentum":-0.0098458995,"atr":1.404015,"price":67.27,"sector":"Utilities","shares":178,"position":11974.06},{"rank":154,"ticker":"MAR","momentum":-0.0400516336,"atr":4.14989,"price":162.54,"sector":"Consumer Discretionary","shares":60,"position":9752.4},{"rank":155,"ticker":"OKE","momentum":-0.0779985029,"atr":1.65573,"price":63.44,"sector":"Energy","shares":150,"position":9516.0},{"rank":156,"ticker":"DVN","momentum":-0.1061700035,"atr":2.9418,"price":72.17,"sector":"Energy","shares":84,"position":6062.28},{"rank":157,"ticker":"BK","momentum":-0.2382391732,"atr":1.0127,"price":43.72,"sector":"Financials","shares":246,"position":10755.12},{"rank":158,"ticker":"KMI","momentum":-0.2861323601,"atr":0.41383,"price":18.53,"sector":"Energy","shares":604,"position":11192.12},{"rank":159,"ticker":"FE","momentum":-0.3950195447,"atr":0.743655,"price":41.44,"sector":"Utilities","shares":336,"position":13923.84},{"rank":160,"ticker":"BBWI","momentum":-0.5620045054,"atr":1.76185,"price":38.31,"sector":"Consumer Discretionary","shares":141,"position":5401.71},{"rank":161,"ticker":"RE","momentum":-0.6734787979,"atr":5.078025,"price":280.15,"sector":"Financials","shares":49,"position":13727.35},{"rank":162,"ticker":"NRG","momentum":-0.934110454,"atr":0.96807,"price":44.31,"sector":"Utilities","shares":258,"position":11431.98},{"rank":163,"ticker":"CTRA","momentum":-1.0737693688,"atr":1.1928,"price":32.23,"sector":"Energy","shares":209,"position":6736.07},{"rank":164,"ticker":"HST","momentum":-1.1947940104,"atr":0.54925,"price":18.32,"sector":"Real Estate","shares":455,"position":8335.6},{"rank":165,"ticker":"SYK","momentum":-1.5887069653,"atr":5.64856,"price":226.19,"sector":"Health Care","shares":44,"position":9952.36},{"rank":166,"ticker":"CVX","momentum":-2.4240065752,"atr":3.900405,"price":163.27,"sector":"Energy","shares":64,"position":10449.28},{"rank":167,"ticker":"WRB","momentum":-3.1332431725,"atr":1.2859,"price":67.3,"sector":"Financials","shares":194,"position":13056.2},{"rank":168,"ticker":"SLB","momentum":-7.5975137947,"atr":1.535615,"price":40.24,"sector":"Energy","shares":162,"position":6518.88}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

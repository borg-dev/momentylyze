<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":292.1625722697,"atr":11.150865,"price":505.61,"sector":"Information Technology","shares":22,"position":11123.42},{"rank":2,"ticker":"DXCM","momentum":230.9339003289,"atr":15.596245,"price":549.92,"sector":"Health Care","shares":16,"position":8798.72},{"rank":3,"ticker":"CMG","momentum":186.886716426,"atr":38.67532,"price":1828.6,"sector":"Consumer Discretionary","shares":6,"position":10971.6},{"rank":4,"ticker":"IT","momentum":186.5523883317,"atr":7.77926,"price":306.2,"sector":"Information Technology","shares":32,"position":9798.4},{"rank":5,"ticker":"FTNT","momentum":175.3078964851,"atr":8.74081,"price":298.0,"sector":"Information Technology","shares":28,"position":8344.0},{"rank":6,"ticker":"WST","momentum":154.3820878864,"atr":11.885145,"price":419.73,"sector":"Health Care","shares":21,"position":8814.33},{"rank":7,"ticker":"MSCI","momentum":150.914957273,"atr":15.860385,"price":610.7,"sector":"Financials","shares":15,"position":9160.5},{"rank":8,"ticker":"NOW","momentum":136.513920154,"atr":14.857245,"price":632.8,"sector":"Information Technology","shares":16,"position":10124.8},{"rank":9,"ticker":"DHR","momentum":131.7340102719,"atr":7.189275,"price":302.32,"sector":"Health Care","shares":34,"position":10278.88},{"rank":10,"ticker":"RMD","momentum":118.6628677396,"atr":6.12562,"price":262.2,"sector":"Health Care","shares":40,"position":10488.0},{"rank":11,"ticker":"PKI","momentum":116.1740821687,"atr":4.6828,"price":173.6,"sector":"Health Care","shares":53,"position":9200.8},{"rank":12,"ticker":"TMO","momentum":104.4947023231,"atr":15.509545,"price":572.72,"sector":"Health Care","shares":16,"position":9163.52},{"rank":13,"ticker":"SNPS","momentum":102.8748504491,"atr":6.83283,"price":302.49,"sector":"Information Technology","shares":36,"position":10889.64},{"rank":14,"ticker":"HOLX","momentum":94.0247718858,"atr":1.62635,"price":72.22,"sector":"Health Care","shares":153,"position":11049.66},{"rank":15,"ticker":"INTU","momentum":93.2799503339,"atr":11.599625,"price":543.97,"sector":"Information Technology","shares":21,"position":11423.37},{"rank":16,"ticker":"COST","momentum":85.7266112968,"atr":8.107555,"price":448.33,"sector":"Consumer Staples","shares":30,"position":13449.9},{"rank":17,"ticker":"EW","momentum":85.0290591991,"atr":2.55066,"price":112.28,"sector":"Health Care","shares":98,"position":11003.44},{"rank":18,"ticker":"NVDA","momentum":82.4007857898,"atr":6.351045,"price":207.42,"sector":"Information Technology","shares":39,"position":8089.38},{"rank":19,"ticker":"KEYS","momentum":82.0207699699,"atr":3.172995,"price":165.42,"sector":"Information Technology","shares":78,"position":12902.76},{"rank":20,"ticker":"VRSK","momentum":80.8335980302,"atr":3.256595,"price":199.99,"sector":"Industrials","shares":76,"position":15199.24},{"rank":21,"ticker":"ISRG","momentum":80.663514704,"atr":24.56824,"price":1009.5,"sector":"Health Care","shares":10,"position":10095.0},{"rank":22,"ticker":"PWR","momentum":79.1899875525,"atr":2.939975,"price":116.67,"sector":"Industrials","shares":85,"position":9916.95},{"rank":23,"ticker":"DGX","momentum":76.8922130894,"atr":2.956315,"price":143.3,"sector":"Health Care","shares":84,"position":12037.2},{"rank":24,"ticker":"AON","momentum":71.0817146082,"atr":5.071495,"price":291.08,"sector":"Financials","shares":49,"position":14262.92},{"rank":25,"ticker":"MSFT","momentum":57.1184383379,"atr":5.249305,"price":289.1,"sector":"Information Technology","shares":47,"position":13587.7},{"rank":26,"ticker":"MSI","momentum":56.5873197387,"atr":3.934995,"price":234.31,"sector":"Information Technology","shares":63,"position":14761.53},{"rank":27,"ticker":"RSG","momentum":56.1312840156,"atr":1.77942,"price":120.73,"sector":"Industrials","shares":140,"position":16902.2},{"rank":28,"ticker":"MMC","momentum":55.4631276059,"atr":2.64873,"price":154.13,"sector":"Financials","shares":94,"position":14488.22},{"rank":29,"ticker":"ODFL","momentum":55.3116158679,"atr":6.66523,"price":285.53,"sector":"Industrials","shares":37,"position":10564.61},{"rank":30,"ticker":"NDAQ","momentum":54.3133961375,"atr":3.239285,"price":193.73,"sector":"Financials","shares":77,"position":14917.21},{"rank":31,"ticker":"SPGI","momentum":51.1492883627,"atr":8.22925,"price":428.36,"sector":"Financials","shares":30,"position":12850.8},{"rank":32,"ticker":"EFX","momentum":50.795508673,"atr":5.281135,"price":256.31,"sector":"Industrials","shares":47,"position":12046.57},{"rank":33,"ticker":"AWK","momentum":49.2604660768,"atr":3.4194,"price":168.34,"sector":"Utilities","shares":73,"position":12288.82},{"rank":34,"ticker":"PFE","momentum":47.1705557355,"atr":0.910455,"price":42.93,"sector":"Health Care","shares":274,"position":11762.82},{"rank":35,"ticker":"MAA","momentum":46.792438647,"atr":3.57625,"price":189.22,"sector":"Real Estate","shares":69,"position":13056.18},{"rank":36,"ticker":"COO","momentum":46.7461419422,"atr":9.66975,"price":416.88,"sector":"Health Care","shares":25,"position":10422.0},{"rank":37,"ticker":"GNRC","momentum":45.9326754894,"atr":16.00793,"price":404.95,"sector":"Industrials","shares":15,"position":6074.25},{"rank":38,"ticker":"MS","momentum":45.2557828798,"atr":2.55092,"price":99.05,"sector":"Financials","shares":98,"position":9706.9},{"rank":39,"ticker":"NEE","momentum":44.3280106174,"atr":1.481215,"price":79.21,"sector":"Utilities","shares":168,"position":13307.28},{"rank":40,"ticker":"TSCO","momentum":44.1111871535,"atr":4.17685,"price":201.36,"sector":"Consumer Discretionary","shares":59,"position":11880.24},{"rank":41,"ticker":"INFO","momentum":43.9809806279,"atr":2.47052,"price":117.92,"sector":"Industrials","shares":101,"position":11909.92},{"rank":42,"ticker":"IPG","momentum":42.2756988295,"atr":0.9285,"price":37.84,"sector":"Communication Services","shares":269,"position":10178.96},{"rank":43,"ticker":"ULTA","momentum":41.6912958312,"atr":9.1958,"price":368.03,"sector":"Consumer Discretionary","shares":27,"position":9936.81},{"rank":44,"ticker":"AAPL","momentum":39.9173653948,"atr":3.0231,"price":142.65,"sector":"Information Technology","shares":82,"position":11697.3},{"rank":45,"ticker":"PNR","momentum":38.9803304652,"atr":1.6658,"price":72.87,"sector":"Industrials","shares":150,"position":10930.5},{"rank":46,"ticker":"SBAC","momentum":38.9755145939,"atr":6.88575,"price":333.57,"sector":"Real Estate","shares":36,"position":12008.52},{"rank":47,"ticker":"CRM","momentum":36.9128452588,"atr":5.918205,"price":275.26,"sector":"Information Technology","shares":42,"position":11560.92},{"rank":48,"ticker":"WM","momentum":36.2199381875,"atr":2.016775,"price":149.84,"sector":"Industrials","shares":123,"position":18430.32},{"rank":49,"ticker":"CPRT","momentum":33.949178793,"atr":3.84485,"price":139.93,"sector":"Industrials","shares":65,"position":9095.45},{"rank":50,"ticker":"EBAY","momentum":33.9219492404,"atr":1.743735,"price":69.91,"sector":"Consumer Discretionary","shares":143,"position":9997.13},{"rank":51,"ticker":"ORLY","momentum":33.2692134681,"atr":10.90593,"price":604.44,"sector":"Consumer Discretionary","shares":22,"position":13297.68},{"rank":52,"ticker":"ZTS","momentum":32.3271870886,"atr":4.083465,"price":196.19,"sector":"Health Care","shares":61,"position":11967.59},{"rank":53,"ticker":"EXC","momentum":29.5280203273,"atr":0.878185,"price":47.79,"sector":"Utilities","shares":284,"position":13572.36},{"rank":54,"ticker":"KLAC","momentum":28.5257204694,"atr":10.30301,"price":335.02,"sector":"Information Technology","shares":24,"position":8040.48},{"rank":55,"ticker":"IR","momentum":27.4542670502,"atr":1.35598,"price":50.87,"sector":"Industrials","shares":184,"position":9360.08},{"rank":56,"ticker":"WAB","momentum":27.2776789409,"atr":1.87955,"price":88.6,"sector":"Industrials","shares":133,"position":11783.8},{"rank":57,"ticker":"ORCL","momentum":27.0509185457,"atr":2.091215,"price":89.74,"sector":"Information Technology","shares":119,"position":10679.06},{"rank":58,"ticker":"CTSH","momentum":23.953018901,"atr":1.296445,"price":75.27,"sector":"Information Technology","shares":192,"position":14451.84},{"rank":59,"ticker":"FFIV","momentum":23.7919042708,"atr":4.354915,"price":201.39,"sector":"Information Technology","shares":57,"position":11479.23},{"rank":60,"ticker":"UDR","momentum":20.8304993403,"atr":1.09425,"price":53.54,"sector":"Real Estate","shares":228,"position":12207.12},{"rank":61,"ticker":"OGN","momentum":20.3209784333,"atr":0.8737,"price":33.33,"sector":"Health Care","shares":286,"position":9532.38},{"rank":62,"ticker":"PG","momentum":20.0694994571,"atr":1.83775,"price":139.58,"sector":"Consumer Staples","shares":136,"position":18982.88},{"rank":63,"ticker":"PLD","momentum":19.7462629585,"atr":2.345235,"price":126.43,"sector":"Real Estate","shares":106,"position":13401.58},{"rank":64,"ticker":"CSCO","momentum":18.5083718041,"atr":1.03321,"price":55.14,"sector":"Information Technology","shares":241,"position":13288.74},{"rank":65,"ticker":"HD","momentum":18.3947975384,"atr":5.583505,"price":329.86,"sector":"Consumer Discretionary","shares":44,"position":14513.84},{"rank":66,"ticker":"SYK","momentum":16.8510721719,"atr":4.904835,"price":268.22,"sector":"Health Care","shares":50,"position":13411.0},{"rank":67,"ticker":"MCK","momentum":15.7729563515,"atr":3.92159,"price":200.02,"sector":"Health Care","shares":63,"position":12601.26},{"rank":68,"ticker":"AVB","momentum":14.3608320491,"atr":4.474845,"price":222.76,"sector":"Real Estate","shares":55,"position":12251.8},{"rank":69,"ticker":"TEL","momentum":13.13283551,"atr":2.748965,"price":141.73,"sector":"Information Technology","shares":90,"position":12755.7},{"rank":70,"ticker":"PAYX","momentum":13.0573225948,"atr":1.92675,"price":115.15,"sector":"Information Technology","shares":129,"position":14854.35},{"rank":71,"ticker":"ESS","momentum":11.6100899625,"atr":7.1385,"price":326.13,"sector":"Real Estate","shares":35,"position":11414.55},{"rank":72,"ticker":"COG","momentum":10.3377341417,"atr":0.857,"price":22.25,"sector":"Energy","shares":291,"position":6474.75},{"rank":73,"ticker":"GD","momentum":10.1879559684,"atr":3.44805,"price":198.22,"sector":"Industrials","shares":72,"position":14271.84},{"rank":74,"ticker":"TXT","momentum":7.7566779473,"atr":1.71604,"price":71.03,"sector":"Industrials","shares":145,"position":10299.35},{"rank":75,"ticker":"MCD","momentum":7.2978746023,"atr":3.51129,"price":242.93,"sector":"Consumer Discretionary","shares":71,"position":17248.03},{"rank":76,"ticker":"FRC","momentum":6.4553440853,"atr":4.066,"price":197.8,"sector":"Financials","shares":61,"position":12065.8},{"rank":77,"ticker":"SIVB","momentum":5.7628908989,"atr":19.984795,"price":664.53,"sector":"Financials","shares":12,"position":7974.36},{"rank":78,"ticker":"DFS","momentum":5.1787623293,"atr":3.64387,"price":127.19,"sector":"Financials","shares":68,"position":8648.92},{"rank":79,"ticker":"LKQ","momentum":5.0057341312,"atr":1.14417,"price":51.25,"sector":"Consumer Discretionary","shares":218,"position":11172.5},{"rank":80,"ticker":"TDY","momentum":3.7253766549,"atr":8.43657,"price":436.98,"sector":"Industrials","shares":29,"position":12672.42},{"rank":81,"ticker":"JNPR","momentum":3.5539666056,"atr":0.545045,"price":28.0,"sector":"Information Technology","shares":458,"position":12824.0},{"rank":82,"ticker":"STT","momentum":2.9180984968,"atr":2.53044,"price":86.41,"sector":"Financials","shares":98,"position":8468.18},{"rank":83,"ticker":"MCHP","momentum":2.2616101794,"atr":3.879115,"price":152.71,"sector":"Information Technology","shares":64,"position":9773.44},{"rank":84,"ticker":"TXN","momentum":2.1856743241,"atr":3.42899,"price":193.79,"sector":"Information Technology","shares":72,"position":13952.88},{"rank":85,"ticker":"HLT","momentum":2.1311402251,"atr":3.4705,"price":138.15,"sector":"Consumer Discretionary","shares":72,"position":9946.8},{"rank":86,"ticker":"DISH","momentum":1.7141810149,"atr":1.286,"price":45.16,"sector":"Communication Services","shares":194,"position":8761.04},{"rank":87,"ticker":"WFC","momentum":1.1135542164,"atr":1.241995,"price":47.02,"sector":"Financials","shares":201,"position":9451.02},{"rank":88,"ticker":"COF","momentum":0.6800397367,"atr":4.30295,"price":166.54,"sector":"Financials","shares":58,"position":9659.32},{"rank":89,"ticker":"TSN","momentum":0.2419480674,"atr":1.46284,"price":78.31,"sector":"Consumer Staples","shares":170,"position":13312.7},{"rank":90,"ticker":"FOXA","momentum":0.1728214599,"atr":1.02725,"price":40.78,"sector":"Communication Services","shares":243,"position":9909.54},{"rank":91,"ticker":"HSIC","momentum":0.1299298313,"atr":1.62469,"price":78.53,"sector":"Health Care","shares":153,"position":12015.09},{"rank":92,"ticker":"PNC","momentum":0.0956605599,"atr":4.290085,"price":198.31,"sector":"Financials","shares":58,"position":11501.98},{"rank":93,"ticker":"JPM","momentum":0.0799306971,"atr":3.41779,"price":167.13,"sector":"Financials","shares":73,"position":12200.49},{"rank":94,"ticker":"SYF","momentum":0.0796192351,"atr":1.504745,"price":49.91,"sector":"Financials","shares":166,"position":8285.06},{"rank":95,"ticker":"WY","momentum":0.0184192237,"atr":0.8049,"price":35.77,"sector":"Real Estate","shares":310,"position":11088.7},{"rank":96,"ticker":"MAR","momentum":0.000008647,"atr":3.968495,"price":155.97,"sector":"Consumer Discretionary","shares":62,"position":9670.14},{"rank":97,"ticker":"MET","momentum":-0.2129983346,"atr":1.499665,"price":62.52,"sector":"Financials","shares":166,"position":10378.32},{"rank":98,"ticker":"PENN","momentum":-0.3840479148,"atr":3.69407,"price":78.63,"sector":"Consumer Discretionary","shares":67,"position":5268.21},{"rank":99,"ticker":"FOX","momentum":-0.421265251,"atr":0.90555,"price":37.68,"sector":"Communication Services","shares":276,"position":10399.68},{"rank":100,"ticker":"MRK","momentum":-0.4842533336,"atr":1.719585,"price":81.4,"sector":"Health Care","shares":145,"position":11803.0},{"rank":101,"ticker":"EA","momentum":-2.841316986,"atr":3.960745,"price":143.59,"sector":"Communication Services","shares":63,"position":9046.17},{"rank":102,"ticker":"RTX","momentum":-3.2259048223,"atr":1.60079,"price":87.48,"sector":"Industrials","shares":156,"position":13646.88},{"rank":103,"ticker":"L","momentum":-3.2787369287,"atr":1.119015,"price":55.27,"sector":"Financials","shares":223,"position":12325.21},{"rank":104,"ticker":"WLTW","momentum":-5.2932253438,"atr":5.60671,"price":240.93,"sector":"Financials","shares":44,"position":10600.92},{"rank":105,"ticker":"GE","momentum":-5.810163695,"atr":2.91558,"price":105.82,"sector":"Industrials","shares":85,"position":8994.7},{"rank":106,"ticker":"GIS","momentum":-7.1384947649,"atr":1.200115,"price":60.62,"sector":"Consumer Staples","shares":208,"position":12608.96},{"rank":107,"ticker":"IBM","momentum":-11.9271743334,"atr":2.308825,"price":143.32,"sector":"Information Technology","shares":108,"position":15478.56},{"rank":108,"ticker":"TDG","momentum":-12.2330945395,"atr":15.02794,"price":652.93,"sector":"Industrials","shares":16,"position":10446.88},{"rank":109,"ticker":"WMB","momentum":-12.6957010288,"atr":0.54888,"price":26.4,"sector":"Energy","shares":455,"position":12012.0},{"rank":110,"ticker":"XOM","momentum":-16.0615495047,"atr":1.524735,"price":60.93,"sector":"Energy","shares":163,"position":9931.59},{"rank":111,"ticker":"NWS","momentum":-19.5567334817,"atr":0.556495,"price":23.58,"sector":"Communication Services","shares":449,"position":10587.42},{"rank":112,"ticker":"F","momentum":-22.2335101279,"atr":0.389,"price":14.16,"sector":"Consumer Discretionary","shares":642,"position":9090.72},{"rank":113,"ticker":"LUV","momentum":-23.3378207872,"atr":1.52164,"price":54.35,"sector":"Industrials","shares":164,"position":8913.4}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

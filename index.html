<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MOS","momentum":632.3890398266,"atr":4.37966,"price":67.12,"sector":"Materials","shares":57,"position":3825.84},{"rank":2,"ticker":"CF","momentum":297.2062670342,"atr":5.35421,"price":102.03,"sector":"Materials","shares":46,"position":4693.38},{"rank":3,"ticker":"NUE","momentum":244.9054781508,"atr":7.864075,"price":154.53,"sector":"Materials","shares":31,"position":4790.43},{"rank":4,"ticker":"MRO","momentum":244.3450457445,"atr":1.231655,"price":27.69,"sector":"Energy","shares":202,"position":5593.38},{"rank":5,"ticker":"HAL","momentum":240.7340929361,"atr":1.753325,"price":38.08,"sector":"Energy","shares":142,"position":5407.36},{"rank":6,"ticker":"CEG","momentum":234.4713840714,"atr":2.789315,"price":61.81,"sector":"Utilities","shares":89,"position":5501.09},{"rank":7,"ticker":"CTRA","momentum":228.1021051425,"atr":1.34451,"price":32.77,"sector":"Energy","shares":185,"position":6062.45},{"rank":8,"ticker":"APA","momentum":216.4965593749,"atr":2.207895,"price":45.2,"sector":"Energy","shares":113,"position":5107.6},{"rank":9,"ticker":"ADM","momentum":184.2882767908,"atr":2.980995,"price":91.15,"sector":"Consumer Staples","shares":83,"position":7565.45},{"rank":10,"ticker":"CVX","momentum":167.6632064846,"atr":4.858085,"price":167.59,"sector":"Energy","shares":51,"position":8547.09},{"rank":11,"ticker":"VLO","momentum":162.7271270048,"atr":4.655335,"price":128.23,"sector":"Energy","shares":53,"position":6796.19},{"rank":12,"ticker":"BKR","momentum":147.7306762433,"atr":1.60175,"price":32.84,"sector":"Energy","shares":156,"position":5123.04},{"rank":13,"ticker":"MCK","momentum":133.9328569145,"atr":8.47683,"price":319.76,"sector":"Health Care","shares":29,"position":9273.04},{"rank":14,"ticker":"HES","momentum":124.1031257862,"atr":4.36818,"price":111.49,"sector":"Energy","shares":57,"position":6354.93},{"rank":15,"ticker":"NEM","momentum":123.0474175244,"atr":2.60714,"price":73.39,"sector":"Materials","shares":95,"position":6972.05},{"rank":16,"ticker":"DVN","momentum":119.2709989761,"atr":2.99927,"price":67.74,"sector":"Energy","shares":83,"position":5622.42},{"rank":17,"ticker":"SRE","momentum":115.0892037275,"atr":3.137155,"price":164.51,"sector":"Utilities","shares":79,"position":12996.29},{"rank":18,"ticker":"WMB","momentum":113.1578943719,"atr":0.949,"price":36.89,"sector":"Energy","shares":263,"position":9702.07},{"rank":19,"ticker":"CTVA","momentum":111.7568780285,"atr":1.396245,"price":59.14,"sector":"Materials","shares":179,"position":10586.06},{"rank":20,"ticker":"MPC","momentum":108.5499168264,"atr":2.96475,"price":96.35,"sector":"Energy","shares":84,"position":8093.4},{"rank":21,"ticker":"WRB","momentum":102.0073984368,"atr":1.607985,"price":69.01,"sector":"Financials","shares":155,"position":10696.55},{"rank":22,"ticker":"LMT","momentum":99.8155893641,"atr":11.868845,"price":445.74,"sector":"Industrials","shares":21,"position":9360.54},{"rank":23,"ticker":"FMC","momentum":97.7267147642,"atr":3.74403,"price":122.53,"sector":"Materials","shares":66,"position":8086.98},{"rank":24,"ticker":"KR","momentum":96.4918362379,"atr":1.5235,"price":55.77,"sector":"Consumer Staples","shares":164,"position":9146.28},{"rank":25,"ticker":"XOM","momentum":94.465685055,"atr":2.750635,"price":91.7,"sector":"Energy","shares":90,"position":8253.0},{"rank":26,"ticker":"AIZ","momentum":93.6461129539,"atr":3.89309,"price":186.87,"sector":"Financials","shares":64,"position":11959.68},{"rank":27,"ticker":"BMY","momentum":91.0693327968,"atr":1.61152,"price":76.31,"sector":"Health Care","shares":155,"position":11828.05},{"rank":28,"ticker":"COP","momentum":85.9156220149,"atr":3.99311,"price":103.86,"sector":"Energy","shares":62,"position":6439.32},{"rank":29,"ticker":"PXD","momentum":84.2212936472,"atr":8.947245,"price":252.78,"sector":"Energy","shares":27,"position":6825.06},{"rank":30,"ticker":"EOG","momentum":80.9189275722,"atr":4.916415,"price":124.77,"sector":"Energy","shares":50,"position":6238.5},{"rank":31,"ticker":"ABC","momentum":80.598792884,"atr":4.07215,"price":156.79,"sector":"Health Care","shares":61,"position":9564.19},{"rank":32,"ticker":"VRTX","momentum":78.9409025945,"atr":7.56009,"price":273.7,"sector":"Health Care","shares":33,"position":9032.1},{"rank":33,"ticker":"EXC","momentum":77.7050205131,"atr":1.129885,"price":47.92,"sector":"Utilities","shares":221,"position":10590.32},{"rank":34,"ticker":"LDOS","momentum":74.9324994864,"atr":2.11625,"price":104.78,"sector":"Industrials","shares":118,"position":12364.04},{"rank":35,"ticker":"JKHY","momentum":69.745531472,"atr":4.38623,"price":187.96,"sector":"Information Technology","shares":56,"position":10525.76},{"rank":36,"ticker":"PKG","momentum":65.4907024246,"atr":3.773375,"price":165.61,"sector":"Materials","shares":66,"position":10930.26},{"rank":37,"ticker":"ABBV","momentum":65.2485537073,"atr":5.655365,"price":151.59,"sector":"Health Care","shares":44,"position":6669.96},{"rank":38,"ticker":"GD","momentum":60.3818153542,"atr":5.38274,"price":242.92,"sector":"Industrials","shares":46,"position":11174.32},{"rank":39,"ticker":"HSY","momentum":55.6575080812,"atr":4.7107,"price":225.33,"sector":"Consumer Staples","shares":53,"position":11942.49},{"rank":40,"ticker":"NOC","momentum":55.5254728128,"atr":12.359945,"price":462.57,"sector":"Industrials","shares":20,"position":9251.4},{"rank":41,"ticker":"VTR","momentum":53.4307633371,"atr":1.37425,"price":57.75,"sector":"Real Estate","shares":181,"position":10452.75},{"rank":42,"ticker":"CINF","momentum":52.6714959572,"atr":3.56738,"price":127.34,"sector":"Financials","shares":70,"position":8913.8},{"rank":43,"ticker":"PWR","momentum":51.6696600873,"atr":4.24188,"price":121.28,"sector":"Industrials","shares":58,"position":7034.24},{"rank":44,"ticker":"SLB","momentum":49.7563918451,"atr":1.997,"price":42.6,"sector":"Energy","shares":125,"position":5325.0},{"rank":45,"ticker":"ED","momentum":47.9401109468,"atr":1.871995,"price":93.5,"sector":"Utilities","shares":133,"position":12435.5},{"rank":46,"ticker":"TMUS","momentum":47.5116767955,"atr":3.975715,"price":132.37,"sector":"Communication Services","shares":62,"position":8206.94},{"rank":47,"ticker":"CNP","momentum":46.7989822988,"atr":0.69105,"price":31.34,"sector":"Utilities","shares":361,"position":11313.74},{"rank":48,"ticker":"KHC","momentum":46.7717154022,"atr":1.06267,"price":43.32,"sector":"Consumer Staples","shares":235,"position":10180.2},{"rank":49,"ticker":"ATO","momentum":46.5774681084,"atr":2.442525,"price":115.31,"sector":"Utilities","shares":102,"position":11761.62},{"rank":50,"ticker":"OKE","momentum":45.4121209196,"atr":2.106135,"price":67.35,"sector":"Energy","shares":118,"position":7947.3},{"rank":51,"ticker":"LHX","momentum":44.3684919254,"atr":7.47885,"price":241.8,"sector":"Industrials","shares":33,"position":7979.4},{"rank":52,"ticker":"AEP","momentum":44.1783452975,"atr":2.22336,"price":100.72,"sector":"Utilities","shares":112,"position":11280.64},{"rank":53,"ticker":"HSIC","momentum":41.7695553469,"atr":2.258705,"price":86.42,"sector":"Health Care","shares":110,"position":9506.2},{"rank":54,"ticker":"MO","momentum":41.4655532077,"atr":1.06126,"price":56.4,"sector":"Consumer Staples","shares":235,"position":13254.0},{"rank":55,"ticker":"DOW","momentum":40.7967612417,"atr":1.8912,"price":70.61,"sector":"Materials","shares":132,"position":9320.52},{"rank":56,"ticker":"RTX","momentum":40.7440653756,"atr":2.532745,"price":97.76,"sector":"Industrials","shares":98,"position":9580.48},{"rank":57,"ticker":"IRM","momentum":38.661592979,"atr":1.5406,"price":54.64,"sector":"Real Estate","shares":162,"position":8851.68},{"rank":58,"ticker":"ANTM","momentum":38.1045474267,"atr":13.205815,"price":510.29,"sector":"Health Care","shares":18,"position":9185.22},{"rank":59,"ticker":"TAP","momentum":37.6896770362,"atr":1.576695,"price":53.24,"sector":"Consumer Staples","shares":158,"position":8411.92},{"rank":60,"ticker":"KMI","momentum":37.6652453377,"atr":0.4866,"price":19.28,"sector":"Energy","shares":513,"position":9890.64},{"rank":61,"ticker":"ALL","momentum":37.2660709233,"atr":3.42516,"price":133.68,"sector":"Financials","shares":72,"position":9624.96},{"rank":62,"ticker":"HII","momentum":37.2325641733,"atr":6.438525,"price":222.14,"sector":"Industrials","shares":38,"position":8441.32},{"rank":63,"ticker":"LLY","momentum":35.40270111,"atr":8.07303,"price":294.9,"sector":"Health Care","shares":30,"position":8847.0},{"rank":64,"ticker":"NI","momentum":33.9163567751,"atr":0.630355,"price":29.67,"sector":"Utilities","shares":396,"position":11749.32},{"rank":65,"ticker":"HST","momentum":32.9559237513,"atr":0.777565,"price":20.13,"sector":"Real Estate","shares":321,"position":6461.73},{"rank":66,"ticker":"REGN","momentum":32.8080555084,"atr":17.693645,"price":660.86,"sector":"Health Care","shares":14,"position":9252.04},{"rank":67,"ticker":"FE","momentum":32.2125011457,"atr":0.94325,"price":43.65,"sector":"Utilities","shares":265,"position":11567.25},{"rank":68,"ticker":"CMS","momentum":29.2015452816,"atr":1.464805,"price":68.84,"sector":"Utilities","shares":170,"position":11702.8},{"rank":69,"ticker":"FANG","momentum":29.1798727402,"atr":6.29097,"price":142.49,"sector":"Energy","shares":39,"position":5557.11},{"rank":70,"ticker":"TRV","momentum":28.9152557026,"atr":3.70035,"price":175.45,"sector":"Financials","shares":67,"position":11755.15},{"rank":71,"ticker":"WELL","momentum":28.0309527388,"atr":2.209755,"price":90.22,"sector":"Real Estate","shares":113,"position":10194.86},{"rank":72,"ticker":"LYB","momentum":27.6750710025,"atr":3.24584,"price":116.0,"sector":"Materials","shares":77,"position":8932.0},{"rank":73,"ticker":"BRK.B","momentum":26.8349050211,"atr":6.428245,"price":326.8,"sector":"Financials","shares":38,"position":12418.4},{"rank":74,"ticker":"L","momentum":26.0911328268,"atr":1.394865,"price":64.85,"sector":"Financials","shares":179,"position":11608.15},{"rank":75,"ticker":"DE","momentum":23.6080671855,"atr":13.04794,"price":396.35,"sector":"Industrials","shares":19,"position":7530.65},{"rank":76,"ticker":"PNW","momentum":22.1080550617,"atr":1.650625,"price":74.22,"sector":"Utilities","shares":151,"position":11207.22},{"rank":77,"ticker":"HRL","momentum":21.6028322709,"atr":0.967055,"price":52.25,"sector":"Consumer Staples","shares":258,"position":13480.5},{"rank":78,"ticker":"CB","momentum":21.3464342558,"atr":4.8888,"price":213.96,"sector":"Financials","shares":51,"position":10911.96},{"rank":79,"ticker":"D","momentum":21.1224542431,"atr":1.59695,"price":82.51,"sector":"Utilities","shares":156,"position":12871.56},{"rank":80,"ticker":"DUK","momentum":21.0205122086,"atr":2.19042,"price":110.51,"sector":"Utilities","shares":114,"position":12598.14},{"rank":81,"ticker":"UNH","momentum":20.1194481489,"atr":13.00918,"price":507.62,"sector":"Health Care","shares":19,"position":9644.78},{"rank":82,"ticker":"SO","momentum":19.6325563328,"atr":1.638025,"price":74.57,"sector":"Utilities","shares":152,"position":11334.64},{"rank":83,"ticker":"PEG","momentum":19.1062183971,"atr":1.415,"price":69.27,"sector":"Utilities","shares":176,"position":12191.52},{"rank":84,"ticker":"XEL","momentum":18.9381978302,"atr":1.484,"price":73.4,"sector":"Utilities","shares":168,"position":12331.2},{"rank":85,"ticker":"CI","momentum":18.4446535482,"atr":6.37975,"price":255.67,"sector":"Health Care","shares":39,"position":9971.13},{"rank":86,"ticker":"ETR","momentum":17.8020817647,"atr":2.598875,"price":118.66,"sector":"Utilities","shares":96,"position":11391.36},{"rank":87,"ticker":"AEE","momentum":17.6641066206,"atr":1.69788,"price":93.86,"sector":"Utilities","shares":147,"position":13797.42},{"rank":88,"ticker":"WMT","momentum":17.3300522371,"atr":3.106835,"price":154.62,"sector":"Consumer Staples","shares":80,"position":12369.6},{"rank":89,"ticker":"AMGN","momentum":17.2729700454,"atr":5.735945,"price":236.1,"sector":"Health Care","shares":43,"position":10152.3},{"rank":90,"ticker":"EIX","momentum":16.4659132236,"atr":1.4425,"price":70.36,"sector":"Utilities","shares":173,"position":12172.28},{"rank":91,"ticker":"SYY","momentum":16.4191206152,"atr":2.112455,"price":86.2,"sector":"Consumer Staples","shares":118,"position":10171.6},{"rank":92,"ticker":"MRK","momentum":14.7672688032,"atr":2.01751,"price":88.52,"sector":"Health Care","shares":123,"position":10887.96},{"rank":93,"ticker":"WRK","momentum":14.474316284,"atr":1.33116,"price":52.76,"sector":"Materials","shares":187,"position":9866.12},{"rank":94,"ticker":"FLT","momentum":13.8498968433,"atr":6.734965,"price":254.1,"sector":"Information Technology","shares":37,"position":9401.7},{"rank":95,"ticker":"HWM","momentum":13.4730162035,"atr":1.12245,"price":36.56,"sector":"Industrials","shares":222,"position":8116.32},{"rank":96,"ticker":"KO","momentum":13.3631518967,"atr":1.3023,"price":65.03,"sector":"Consumer Staples","shares":191,"position":12420.73},{"rank":97,"ticker":"JNJ","momentum":12.9274437228,"atr":3.33631,"price":180.2,"sector":"Health Care","shares":74,"position":13334.8},{"rank":98,"ticker":"AJG","momentum":12.1864232068,"atr":4.898575,"price":170.37,"sector":"Financials","shares":51,"position":8688.87},{"rank":99,"ticker":"MAR","momentum":11.2151940747,"atr":6.71065,"price":181.24,"sector":"Consumer Discretionary","shares":37,"position":6705.88},{"rank":100,"ticker":"COST","momentum":10.452251145,"atr":16.603515,"price":544.43,"sector":"Consumer Staples","shares":15,"position":8166.45},{"rank":101,"ticker":"PGR","momentum":8.6321572556,"atr":3.11631,"price":115.84,"sector":"Financials","shares":80,"position":9267.2},{"rank":102,"ticker":"INCY","momentum":8.3587363553,"atr":2.12702,"price":80.72,"sector":"Health Care","shares":117,"position":9444.24},{"rank":103,"ticker":"WEC","momentum":8.006416929,"atr":2.09525,"price":101.56,"sector":"Utilities","shares":119,"position":12085.64},{"rank":104,"ticker":"CNC","momentum":7.0706697791,"atr":2.58897,"price":82.91,"sector":"Health Care","shares":96,"position":7959.36},{"rank":105,"ticker":"DG","momentum":6.7380786279,"atr":5.9602,"price":241.91,"sector":"Consumer Discretionary","shares":41,"position":9918.31},{"rank":106,"ticker":"BXP","momentum":6.2802665451,"atr":3.02208,"price":122.93,"sector":"Real Estate","shares":82,"position":10080.26},{"rank":107,"ticker":"ROL","momentum":6.2692121652,"atr":0.87369,"price":34.07,"sector":"Industrials","shares":286,"position":9744.02},{"rank":108,"ticker":"MKC","momentum":5.7035931909,"atr":2.218845,"price":99.45,"sector":"Consumer Staples","shares":112,"position":11138.4},{"rank":109,"ticker":"ULTA","momentum":4.857137162,"atr":13.67779,"price":408.64,"sector":"Consumer Discretionary","shares":18,"position":7355.52},{"rank":110,"ticker":"MET","momentum":4.4416571926,"atr":1.68875,"price":68.31,"sector":"Financials","shares":148,"position":10109.88},{"rank":111,"ticker":"J","momentum":4.360003233,"atr":3.75771,"price":142.43,"sector":"Industrials","shares":66,"position":9400.38},{"rank":112,"ticker":"AIG","momentum":3.5588674127,"atr":1.93225,"price":63.94,"sector":"Financials","shares":129,"position":8248.26},{"rank":113,"ticker":"EVRG","momentum":3.4104025925,"atr":1.314295,"price":68.73,"sector":"Utilities","shares":190,"position":13058.7},{"rank":114,"ticker":"CERN","momentum":3.4066742543,"atr":0.303655,"price":94.37,"sector":"Health Care","shares":823,"position":77666.51},{"rank":115,"ticker":"PAYX","momentum":3.2673608023,"atr":3.347525,"price":132.47,"sector":"Information Technology","shares":74,"position":9802.78},{"rank":116,"ticker":"HOLX","momentum":3.1550582318,"atr":2.31727,"price":75.7,"sector":"Health Care","shares":107,"position":8099.9},{"rank":117,"ticker":"WY","momentum":2.3155239227,"atr":1.20268,"price":42.22,"sector":"Real Estate","shares":207,"position":8739.54},{"rank":118,"ticker":"CPB","momentum":2.27290405,"atr":0.9345,"price":48.0,"sector":"Consumer Staples","shares":267,"position":12816.0},{"rank":119,"ticker":"AZO","momentum":1.3414989896,"atr":62.984905,"price":2054.58,"sector":"Consumer Discretionary","shares":3,"position":6163.74},{"rank":120,"ticker":"RE","momentum":1.2863175322,"atr":7.321575,"price":286.2,"sector":"Financials","shares":34,"position":9730.8},{"rank":121,"ticker":"MMC","momentum":1.1124774939,"atr":4.4015,"price":163.44,"sector":"Financials","shares":56,"position":9152.64},{"rank":122,"ticker":"PSX","momentum":1.0721742609,"atr":3.39625,"price":96.17,"sector":"Energy","shares":73,"position":7020.41},{"rank":123,"ticker":"TGT","momentum":1.0153259161,"atr":6.988295,"price":237.43,"sector":"Consumer Discretionary","shares":35,"position":8310.05},{"rank":124,"ticker":"CAT","momentum":0.9092796093,"atr":6.70838,"price":222.59,"sector":"Industrials","shares":37,"position":8235.83},{"rank":125,"ticker":"KIM","momentum":0.8913571011,"atr":0.69875,"price":25.31,"sector":"Real Estate","shares":357,"position":9035.67},{"rank":126,"ticker":"K","momentum":0.7296607916,"atr":1.268595,"price":67.85,"sector":"Consumer Staples","shares":197,"position":13366.45},{"rank":127,"ticker":"WM","momentum":0.6269934864,"atr":3.986535,"price":162.33,"sector":"Industrials","shares":62,"position":10064.46},{"rank":128,"ticker":"LUV","momentum":0.4940324291,"atr":1.72819,"price":48.07,"sector":"Industrials","shares":144,"position":6922.08},{"rank":129,"ticker":"GIS","momentum":0.4803226175,"atr":1.244505,"price":70.81,"sector":"Consumer Staples","shares":200,"position":14162.0},{"rank":130,"ticker":"HIG","momentum":0.4604749045,"atr":1.968345,"price":73.26,"sector":"Financials","shares":127,"position":9304.02},{"rank":131,"ticker":"ROP","momentum":0.4075894507,"atr":11.70225,"price":464.39,"sector":"Industrials","shares":21,"position":9752.19},{"rank":132,"ticker":"TSN","momentum":0.3748051599,"atr":2.261215,"price":92.23,"sector":"Consumer Staples","shares":110,"position":10145.3},{"rank":133,"ticker":"SBAC","momentum":0.2898900564,"atr":11.626,"price":351.74,"sector":"Real Estate","shares":21,"position":7386.54},{"rank":134,"ticker":"HLT","momentum":0.2859584433,"atr":6.073285,"price":151.39,"sector":"Consumer Discretionary","shares":41,"position":6206.99},{"rank":135,"ticker":"ES","momentum":0.2644218061,"atr":1.86602,"price":88.57,"sector":"Utilities","shares":133,"position":11779.81},{"rank":136,"ticker":"RSG","momentum":0.2184352824,"atr":2.728695,"price":133.57,"sector":"Industrials","shares":91,"position":12154.87},{"rank":137,"ticker":"GL","momentum":0.0414232634,"atr":2.385605,"price":102.09,"sector":"Financials","shares":104,"position":10617.36},{"rank":138,"ticker":"GWW","momentum":0.0264670236,"atr":14.959165,"price":505.05,"sector":"Industrials","shares":16,"position":8080.8},{"rank":139,"ticker":"CHRW","momentum":0.0042355204,"atr":2.94275,"price":110.55,"sector":"Industrials","shares":84,"position":9286.2},{"rank":140,"ticker":"MTB","momentum":0.0012697423,"atr":5.596945,"price":176.09,"sector":"Financials","shares":44,"position":7747.96},{"rank":141,"ticker":"SEE","momentum":0.0001583763,"atr":2.03425,"price":68.48,"sector":"Materials","shares":122,"position":8354.56},{"rank":142,"ticker":"SNA","momentum":0.000046697,"atr":6.15293,"price":227.95,"sector":"Industrials","shares":40,"position":9118.0},{"rank":143,"ticker":"CAG","momentum":0.0000173908,"atr":0.81771,"price":35.69,"sector":"Consumer Staples","shares":305,"position":10885.45},{"rank":144,"ticker":"WAB","momentum":-0.0002520727,"atr":2.605865,"price":94.74,"sector":"Industrials","shares":95,"position":9000.3},{"rank":145,"ticker":"ADP","momentum":-0.0005075032,"atr":5.813545,"price":228.88,"sector":"Information Technology","shares":43,"position":9841.84},{"rank":146,"ticker":"STZ","momentum":-0.0085510417,"atr":5.811035,"price":253.6,"sector":"Consumer Staples","shares":43,"position":10904.8},{"rank":147,"ticker":"PM","momentum":-0.0375449995,"atr":2.21843,"price":100.56,"sector":"Consumer Staples","shares":112,"position":11262.72},{"rank":148,"ticker":"MPWR","momentum":-0.1311021921,"atr":23.86909,"price":479.19,"sector":"Information Technology","shares":10,"position":4791.9},{"rank":149,"ticker":"SJM","momentum":-0.1512785659,"atr":2.82825,"price":139.05,"sector":"Consumer Staples","shares":88,"position":12236.4},{"rank":150,"ticker":"PEP","momentum":-0.2353217125,"atr":3.40643,"price":173.86,"sector":"Consumer Staples","shares":73,"position":12691.78},{"rank":151,"ticker":"NWL","momentum":-0.2375597962,"atr":0.70225,"price":23.28,"sector":"Consumer Discretionary","shares":355,"position":8264.4},{"rank":152,"ticker":"IBM","momentum":-0.2661334727,"atr":3.323315,"price":137.4,"sector":"Information Technology","shares":75,"position":10305.0},{"rank":153,"ticker":"T","momentum":-0.3105745628,"atr":0.5664988671,"price":19.95,"sector":"Communication Services","shares":441,"position":8797.95},{"rank":154,"ticker":"IP","momentum":-0.365338305,"atr":1.26275,"price":48.49,"sector":"Materials","shares":197,"position":9552.53},{"rank":155,"ticker":"CSX","momentum":-0.3898043222,"atr":0.937,"price":35.5,"sector":"Industrials","shares":266,"position":9443.0},{"rank":156,"ticker":"AVGO","momentum":-0.6641953772,"atr":19.549855,"price":603.66,"sector":"Information Technology","shares":12,"position":7243.92},{"rank":157,"ticker":"AMCR","momentum":-0.9319114268,"atr":0.334375,"price":13.12,"sector":"Materials","shares":747,"position":9800.64},{"rank":158,"ticker":"PFG","momentum":-0.9609898647,"atr":1.895675,"price":73.41,"sector":"Financials","shares":131,"position":9616.71},{"rank":159,"ticker":"PPL","momentum":-1.0780518982,"atr":0.53856,"price":28.89,"sector":"Utilities","shares":464,"position":13404.96},{"rank":160,"ticker":"MA","momentum":-1.0790266314,"atr":12.291545,"price":368.52,"sector":"Information Technology","shares":20,"position":7370.4},{"rank":161,"ticker":"ROST","momentum":-1.2379656672,"atr":3.405375,"price":103.92,"sector":"Consumer Discretionary","shares":73,"position":7586.16},{"rank":162,"ticker":"LIN","momentum":-1.3547552353,"atr":7.474,"price":322.24,"sector":"Materials","shares":33,"position":10633.92},{"rank":163,"ticker":"GPC","momentum":-1.5777096571,"atr":3.35078,"price":135.18,"sector":"Consumer Discretionary","shares":74,"position":10003.32},{"rank":164,"ticker":"REG","momentum":-3.159539644,"atr":1.941,"price":72.96,"sector":"Real Estate","shares":128,"position":9338.88},{"rank":165,"ticker":"TXT","momentum":-3.9883596224,"atr":2.219,"price":72.22,"sector":"Industrials","shares":112,"position":8088.64},{"rank":166,"ticker":"FISV","momentum":-4.5066406028,"atr":3.1327,"price":102.54,"sector":"Information Technology","shares":79,"position":8100.66},{"rank":167,"ticker":"MCD","momentum":-4.8992398224,"atr":5.196015,"price":254.32,"sector":"Consumer Discretionary","shares":48,"position":12207.36},{"rank":168,"ticker":"ADI","momentum":-5.6680226461,"atr":5.45578,"price":164.77,"sector":"Information Technology","shares":45,"position":7414.65},{"rank":169,"ticker":"DFS","momentum":-6.1816477482,"atr":4.18931,"price":120.58,"sector":"Financials","shares":59,"position":7114.22},{"rank":170,"ticker":"MDLZ","momentum":-6.2736199429,"atr":1.30849,"price":66.19,"sector":"Consumer Staples","shares":191,"position":12642.29},{"rank":171,"ticker":"HON","momentum":-7.0660403831,"atr":4.98634,"price":205.85,"sector":"Industrials","shares":50,"position":10292.5},{"rank":172,"ticker":"KMB","momentum":-8.3595470538,"atr":3.32077,"price":139.14,"sector":"Consumer Staples","shares":75,"position":10435.5},{"rank":173,"ticker":"MNST","momentum":-9.514417067,"atr":2.272245,"price":86.65,"sector":"Consumer Staples","shares":110,"position":9531.5},{"rank":174,"ticker":"WAT","momentum":-16.1270441699,"atr":11.2485,"price":342.47,"sector":"Health Care","shares":22,"position":7534.34},{"rank":175,"ticker":"CE","momentum":-25.0134170922,"atr":4.739245,"price":156.08,"sector":"Materials","shares":52,"position":8116.16},{"rank":176,"ticker":"HAS","momentum":-26.0678982504,"atr":2.42775,"price":94.15,"sector":"Consumer Discretionary","shares":102,"position":9603.3},{"rank":177,"ticker":"WDC","momentum":-26.8028793738,"atr":2.06215,"price":62.86,"sector":"Information Technology","shares":121,"position":7606.06},{"rank":178,"ticker":"MHK","momentum":-46.8129405744,"atr":6.25889,"price":157.83,"sector":"Consumer Discretionary","shares":39,"position":6155.37}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

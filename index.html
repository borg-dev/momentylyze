<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"LW","momentum":111.7547847495,"atr":1.350155,"price":79.78,"sector":"Consumer Staples","shares":185,"position":14759.3},{"rank":2,"ticker":"SNPS","momentum":102.3951699707,"atr":8.77369,"price":346.0,"sector":"Information Technology","shares":28,"position":9688.0},{"rank":3,"ticker":"NEE","momentum":85.7050786419,"atr":1.529755,"price":85.7,"sector":"Utilities","shares":163,"position":13969.1},{"rank":4,"ticker":"CDNS","momentum":84.9573417831,"atr":3.954995,"price":174.23,"sector":"Information Technology","shares":63,"position":10976.49},{"rank":5,"ticker":"PWR","momentum":81.1552602094,"atr":3.64335,"price":140.76,"sector":"Industrials","shares":68,"position":9571.68},{"rank":6,"ticker":"BR","momentum":61.7331753802,"atr":3.5305,"price":172.59,"sector":"Information Technology","shares":70,"position":12081.3},{"rank":7,"ticker":"NDAQ","momentum":60.4668249089,"atr":1.069565,"price":59.6,"sector":"Financials","shares":233,"position":13886.8},{"rank":8,"ticker":"BF.B","momentum":58.2750246035,"atr":1.31744,"price":73.52,"sector":"Consumer Staples","shares":189,"position":13895.28},{"rank":9,"ticker":"VICI","momentum":57.8853608293,"atr":0.52467,"price":33.09,"sector":"Real Estate","shares":476,"position":15750.84},{"rank":10,"ticker":"GPC","momentum":56.6232787166,"atr":2.594385,"price":156.21,"sector":"Consumer Discretionary","shares":96,"position":14996.16},{"rank":11,"ticker":"KEYS","momentum":54.8708129296,"atr":4.0036,"price":164.0,"sector":"Information Technology","shares":62,"position":10168.0},{"rank":12,"ticker":"ON","momentum":46.9049998742,"atr":3.422815,"price":68.97,"sector":"Information Technology","shares":73,"position":5034.81},{"rank":13,"ticker":"CNC","momentum":46.2401332007,"atr":1.94312,"price":91.19,"sector":"Health Care","shares":128,"position":11672.32},{"rank":14,"ticker":"DRE","momentum":45.2964929126,"atr":1.2782,"price":59.41,"sector":"Real Estate","shares":195,"position":11584.95},{"rank":15,"ticker":"SBUX","momentum":44.8764831193,"atr":1.87427,"price":83.41,"sector":"Consumer Discretionary","shares":133,"position":11093.53},{"rank":16,"ticker":"TMUS","momentum":43.2831204065,"atr":2.611725,"price":145.52,"sector":"Communication Services","shares":95,"position":13824.4},{"rank":17,"ticker":"RMD","momentum":42.6563942593,"atr":4.899445,"price":219.44,"sector":"Health Care","shares":51,"position":11191.44},{"rank":18,"ticker":"DHR","momentum":36.5091098408,"atr":5.342005,"price":273.37,"sector":"Health Care","shares":46,"position":12575.02},{"rank":19,"ticker":"MSI","momentum":35.8170581277,"atr":4.670995,"price":245.13,"sector":"Information Technology","shares":53,"position":12991.89},{"rank":20,"ticker":"CI","momentum":32.1655937923,"atr":5.188635,"price":285.07,"sector":"Health Care","shares":48,"position":13683.36},{"rank":21,"ticker":"ORLY","momentum":31.3930356311,"atr":12.325,"price":698.26,"sector":"Consumer Discretionary","shares":20,"position":13965.2},{"rank":22,"ticker":"ADP","momentum":29.2645361852,"atr":4.10115,"price":245.59,"sector":"Information Technology","shares":60,"position":14735.4},{"rank":23,"ticker":"MSCI","momentum":28.3847578337,"atr":11.804555,"price":453.04,"sector":"Financials","shares":21,"position":9513.84},{"rank":24,"ticker":"VRTX","momentum":27.262846433,"atr":7.922735,"price":281.36,"sector":"Health Care","shares":31,"position":8722.16},{"rank":25,"ticker":"MCK","momentum":26.9558352612,"atr":8.23006,"price":364.01,"sector":"Health Care","shares":30,"position":10920.3},{"rank":26,"ticker":"CPRT","momentum":26.4419858691,"atr":2.6045,"price":120.1,"sector":"Industrials","shares":95,"position":11409.5},{"rank":27,"ticker":"CBOE","momentum":25.8809114462,"atr":2.5065,"price":117.78,"sector":"Financials","shares":99,"position":11660.22},{"rank":28,"ticker":"BA","momentum":25.6808379727,"atr":4.91501,"price":162.21,"sector":"Industrials","shares":50,"position":8110.5},{"rank":29,"ticker":"FDS","momentum":25.3665025092,"atr":7.580235,"price":437.63,"sector":"Financials","shares":32,"position":14004.16},{"rank":30,"ticker":"MPWR","momentum":25.3629948217,"atr":19.01696,"price":463.17,"sector":"Information Technology","shares":13,"position":6021.21},{"rank":31,"ticker":"AZO","momentum":25.2524006747,"atr":46.94908,"price":2137.02,"sector":"Consumer Discretionary","shares":5,"position":10685.1},{"rank":32,"ticker":"AES","momentum":24.3468711739,"atr":0.66175,"price":25.44,"sector":"Utilities","shares":377,"position":9590.88},{"rank":33,"ticker":"GWW","momentum":23.5473823868,"atr":10.39758,"price":556.39,"sector":"Industrials","shares":24,"position":13353.36},{"rank":34,"ticker":"UPS","momentum":23.2231111641,"atr":3.51543,"price":195.05,"sector":"Industrials","shares":71,"position":13848.55},{"rank":35,"ticker":"INTU","momentum":22.7438340417,"atr":14.405105,"price":433.2,"sector":"Information Technology","shares":17,"position":7364.4},{"rank":36,"ticker":"GIS","momentum":20.9849662499,"atr":1.0688,"price":76.98,"sector":"Consumer Staples","shares":233,"position":17936.34},{"rank":37,"ticker":"XYL","momentum":20.957893634,"atr":2.21575,"price":91.35,"sector":"Industrials","shares":112,"position":10231.2},{"rank":38,"ticker":"CMI","momentum":20.3877624147,"atr":4.04077,"price":218.16,"sector":"Industrials","shares":61,"position":13307.76},{"rank":39,"ticker":"AJG","momentum":20.2559234385,"atr":2.90564,"price":182.89,"sector":"Financials","shares":86,"position":15728.54},{"rank":40,"ticker":"IEX","momentum":17.785843834,"atr":3.4885,"price":202.59,"sector":"Industrials","shares":71,"position":14383.89},{"rank":41,"ticker":"PGR","momentum":17.6649857387,"atr":1.981725,"price":124.24,"sector":"Financials","shares":126,"position":15654.24},{"rank":42,"ticker":"JKHY","momentum":17.3006373542,"atr":4.396085,"price":194.27,"sector":"Information Technology","shares":56,"position":10879.12},{"rank":43,"ticker":"UNH","momentum":16.446835046,"atr":8.694175,"price":522.84,"sector":"Health Care","shares":28,"position":14639.52},{"rank":44,"ticker":"K","momentum":16.3545183494,"atr":1.152405,"price":73.2,"sector":"Consumer Staples","shares":216,"position":15811.2},{"rank":45,"ticker":"TT","momentum":14.9828494488,"atr":3.71325,"price":154.84,"sector":"Industrials","shares":67,"position":10374.28},{"rank":46,"ticker":"CTAS","momentum":14.5002156733,"atr":6.333,"price":409.7,"sector":"Industrials","shares":39,"position":15978.3},{"rank":47,"ticker":"CAH","momentum":14.451144479,"atr":1.801285,"price":69.84,"sector":"Health Care","shares":138,"position":9637.92},{"rank":48,"ticker":"A","momentum":14.3436120532,"atr":3.63275,"price":128.28,"sector":"Health Care","shares":68,"position":8723.04},{"rank":49,"ticker":"KLAC","momentum":12.3922441939,"atr":13.112295,"price":347.14,"sector":"Information Technology","shares":19,"position":6595.66},{"rank":50,"ticker":"NDSN","momentum":12.3173660669,"atr":4.79145,"price":227.98,"sector":"Industrials","shares":52,"position":11854.96},{"rank":51,"ticker":"MCD","momentum":12.086692934,"atr":3.4935,"price":253.49,"sector":"Consumer Discretionary","shares":71,"position":17997.79},{"rank":52,"ticker":"ADSK","momentum":11.9185489854,"atr":6.78886,"price":202.81,"sector":"Information Technology","shares":36,"position":7301.16},{"rank":53,"ticker":"BLK","momentum":11.9013068491,"atr":17.51903,"price":672.72,"sector":"Financials","shares":14,"position":9418.08},{"rank":54,"ticker":"BRO","momentum":11.5310273503,"atr":1.06692,"price":63.8,"sector":"Financials","shares":234,"position":14929.2},{"rank":55,"ticker":"HII","momentum":11.1221641705,"atr":5.321325,"price":231.57,"sector":"Industrials","shares":46,"position":10652.22},{"rank":56,"ticker":"EL","momentum":11.0534609965,"atr":7.54026,"price":257.11,"sector":"Consumer Staples","shares":33,"position":8484.63},{"rank":57,"ticker":"AVY","momentum":10.765445572,"atr":3.717205,"price":184.15,"sector":"Materials","shares":67,"position":12338.05},{"rank":58,"ticker":"RSG","momentum":10.6159264001,"atr":2.326975,"price":143.84,"sector":"Industrials","shares":107,"position":15390.88},{"rank":59,"ticker":"LEN","momentum":9.9863301894,"atr":2.6155,"price":78.92,"sector":"Consumer Discretionary","shares":95,"position":7497.4},{"rank":60,"ticker":"KDP","momentum":9.7186950248,"atr":0.6465,"price":38.42,"sector":"Consumer Staples","shares":386,"position":14830.12},{"rank":61,"ticker":"NOC","momentum":9.433337026,"atr":9.40061,"price":480.93,"sector":"Industrials","shares":26,"position":12504.18},{"rank":62,"ticker":"FISV","momentum":9.0097891068,"atr":2.15856,"price":101.86,"sector":"Information Technology","shares":115,"position":11713.9},{"rank":63,"ticker":"APD","momentum":8.917919411,"atr":5.332155,"price":255.85,"sector":"Materials","shares":46,"position":11769.1},{"rank":64,"ticker":"FTV","momentum":8.6290391943,"atr":1.174225,"price":63.62,"sector":"Industrials","shares":212,"position":13487.44},{"rank":65,"ticker":"GS","momentum":8.4440890589,"atr":6.432225,"price":333.63,"sector":"Financials","shares":38,"position":12677.94},{"rank":66,"ticker":"PCAR","momentum":8.3275270386,"atr":1.5052,"price":88.05,"sector":"Industrials","shares":166,"position":14616.3},{"rank":67,"ticker":"IR","momentum":8.0027038131,"atr":1.3735,"price":47.7,"sector":"Industrials","shares":182,"position":8681.4},{"rank":68,"ticker":"AAPL","momentum":7.7608223028,"atr":3.430655,"price":158.91,"sector":"Information Technology","shares":72,"position":11441.52},{"rank":69,"ticker":"APH","momentum":7.6890860195,"atr":1.31541,"price":74.17,"sector":"Information Technology","shares":190,"position":14092.3},{"rank":70,"ticker":"CDW","momentum":7.4529627653,"atr":3.921645,"price":175.07,"sector":"Information Technology","shares":63,"position":11029.41},{"rank":71,"ticker":"CPB","momentum":6.6286604263,"atr":0.74705,"price":50.69,"sector":"Consumer Staples","shares":334,"position":16930.46},{"rank":72,"ticker":"CDAY","momentum":6.2874880137,"atr":2.51203,"price":60.2,"sector":"Information Technology","shares":99,"position":5959.8},{"rank":73,"ticker":"JBHT","momentum":6.2150983858,"atr":4.411125,"price":175.05,"sector":"Industrials","shares":56,"position":9802.8},{"rank":74,"ticker":"COST","momentum":6.1135347976,"atr":10.53747,"price":524.14,"sector":"Consumer Staples","shares":23,"position":12055.22},{"rank":75,"ticker":"TDG","momentum":5.7763571521,"atr":14.297065,"price":606.98,"sector":"Industrials","shares":17,"position":10318.66},{"rank":76,"ticker":"EXR","momentum":5.1866953045,"atr":4.43279,"price":201.07,"sector":"Real Estate","shares":56,"position":11259.92},{"rank":77,"ticker":"IT","momentum":5.1142901327,"atr":6.55985,"price":289.15,"sector":"Information Technology","shares":38,"position":10987.7},{"rank":78,"ticker":"HWM","momentum":5.0300451578,"atr":0.823325,"price":35.87,"sector":"Industrials","shares":303,"position":10868.61},{"rank":79,"ticker":"WM","momentum":4.7394458414,"atr":2.41845,"price":170.73,"sector":"Industrials","shares":103,"position":17585.19},{"rank":80,"ticker":"TYL","momentum":4.2900478516,"atr":9.36722,"price":373.9,"sector":"Information Technology","shares":26,"position":9721.4},{"rank":81,"ticker":"TJX","momentum":3.9298727266,"atr":1.840095,"price":62.56,"sector":"Consumer Discretionary","shares":135,"position":8445.6},{"rank":82,"ticker":"MTB","momentum":3.9184014877,"atr":3.324995,"price":182.78,"sector":"Financials","shares":75,"position":13708.5},{"rank":83,"ticker":"RJF","momentum":3.9114282862,"atr":1.98344,"price":104.52,"sector":"Financials","shares":126,"position":13169.52},{"rank":84,"ticker":"BEN","momentum":3.5245453548,"atr":0.579155,"price":26.16,"sector":"Financials","shares":431,"position":11274.96},{"rank":85,"ticker":"MOH","momentum":3.480429629,"atr":7.815545,"price":335.99,"sector":"Health Care","shares":31,"position":10415.69},{"rank":86,"ticker":"CHRW","momentum":3.3473058738,"atr":2.556965,"price":114.49,"sector":"Industrials","shares":97,"position":11105.53},{"rank":87,"ticker":"F","momentum":3.1349740444,"atr":0.527495,"price":15.45,"sector":"Consumer Discretionary","shares":473,"position":7307.85},{"rank":88,"ticker":"HSY","momentum":3.0007573978,"atr":3.09998,"price":226.21,"sector":"Consumer Staples","shares":80,"position":18096.8},{"rank":89,"ticker":"PEP","momentum":2.8737648336,"atr":2.253,"price":172.99,"sector":"Consumer Staples","shares":110,"position":19028.9},{"rank":90,"ticker":"CL","momentum":2.8032705904,"atr":1.1512,"price":79.0,"sector":"Consumer Staples","shares":217,"position":17143.0},{"rank":91,"ticker":"MS","momentum":2.2823977236,"atr":1.76393,"price":84.43,"sector":"Financials","shares":141,"position":11904.63},{"rank":92,"ticker":"SO","momentum":2.2731398427,"atr":1.16635,"price":77.58,"sector":"Utilities","shares":214,"position":16602.12},{"rank":93,"ticker":"CARR","momentum":2.198605965,"atr":0.92196,"price":39.31,"sector":"Industrials","shares":271,"position":10653.01},{"rank":94,"ticker":"SCHW","momentum":1.8969696965,"atr":1.845755,"price":72.5,"sector":"Financials","shares":135,"position":9787.5},{"rank":95,"ticker":"MMC","momentum":1.3939287949,"atr":2.43425,"price":162.54,"sector":"Financials","shares":102,"position":16579.08},{"rank":96,"ticker":"CTXS","momentum":1.3397227708,"atr":0.514495,"price":102.59,"sector":"Information Technology","shares":485,"position":49756.15},{"rank":97,"ticker":"ED","momentum":1.3025435145,"atr":1.46675,"price":98.3,"sector":"Utilities","shares":170,"position":16711.0},{"rank":98,"ticker":"VRSK","momentum":1.2868706691,"atr":3.89475,"price":187.85,"sector":"Industrials","shares":64,"position":12022.4},{"rank":99,"ticker":"TEL","momentum":0.900726175,"atr":2.677935,"price":126.36,"sector":"Information Technology","shares":93,"position":11751.48},{"rank":100,"ticker":"CVS","momentum":0.8645353294,"atr":2.10931,"price":98.8,"sector":"Health Care","shares":118,"position":11658.4},{"rank":101,"ticker":"AFL","momentum":0.8272696771,"atr":1.03175,"price":60.13,"sector":"Financials","shares":242,"position":14551.46},{"rank":102,"ticker":"LNT","momentum":0.7700076886,"atr":1.0645,"price":61.55,"sector":"Utilities","shares":234,"position":14402.7},{"rank":103,"ticker":"RF","momentum":0.7052951906,"atr":0.46448,"price":21.69,"sector":"Financials","shares":538,"position":11669.22},{"rank":104,"ticker":"XOM","momentum":0.6956699148,"atr":2.83273,"price":96.31,"sector":"Energy","shares":88,"position":8475.28},{"rank":105,"ticker":"LOW","momentum":0.6235832724,"atr":5.928655,"price":197.22,"sector":"Consumer Discretionary","shares":42,"position":8283.24},{"rank":106,"ticker":"PFG","momentum":0.524323424,"atr":1.822,"price":75.29,"sector":"Financials","shares":137,"position":10314.73},{"rank":107,"ticker":"URI","momentum":0.3931512225,"atr":9.513805,"price":292.92,"sector":"Industrials","shares":26,"position":7615.92},{"rank":108,"ticker":"WEC","momentum":0.3376425728,"atr":1.601195,"price":103.47,"sector":"Utilities","shares":156,"position":16141.32},{"rank":109,"ticker":"CF","momentum":0.3354478339,"atr":4.19724,"price":106.0,"sector":"Materials","shares":59,"position":6254.0},{"rank":110,"ticker":"CNP","momentum":0.2692041347,"atr":0.59637,"price":31.65,"sector":"Utilities","shares":419,"position":13261.35},{"rank":111,"ticker":"MLM","momentum":0.2591665778,"atr":8.2275,"price":345.17,"sector":"Materials","shares":30,"position":10355.1},{"rank":112,"ticker":"SNA","momentum":0.1762413612,"atr":3.72719,"price":218.26,"sector":"Industrials","shares":67,"position":14623.42},{"rank":113,"ticker":"CTVA","momentum":0.1375459211,"atr":1.2878,"price":61.77,"sector":"Materials","shares":194,"position":11983.38},{"rank":114,"ticker":"GILD","momentum":0.1310318893,"atr":1.27434,"price":62.5,"sector":"Health Care","shares":196,"position":12250.0},{"rank":115,"ticker":"PPG","momentum":0.0889185763,"atr":3.313995,"price":127.78,"sector":"Materials","shares":75,"position":9583.5},{"rank":116,"ticker":"HBAN","momentum":0.0810981926,"atr":0.281335,"price":13.39,"sector":"Financials","shares":888,"position":11890.32},{"rank":117,"ticker":"ULTA","momentum":0.0790025502,"atr":11.9601,"price":416.79,"sector":"Consumer Discretionary","shares":20,"position":8335.8},{"rank":118,"ticker":"PSA","momentum":0.057166699,"atr":6.888,"price":332.5,"sector":"Real Estate","shares":36,"position":11970.0},{"rank":119,"ticker":"DIS","momentum":0.0567918742,"atr":3.568695,"price":112.43,"sector":"Communication Services","shares":70,"position":7870.1},{"rank":120,"ticker":"STZ","momentum":0.0431349381,"atr":4.90516,"price":248.6,"sector":"Consumer Staples","shares":50,"position":12430.0},{"rank":121,"ticker":"ECL","momentum":0.0417127815,"atr":3.46842,"price":165.39,"sector":"Materials","shares":72,"position":11908.08},{"rank":122,"ticker":"UNP","momentum":0.0286805626,"atr":4.231065,"price":225.24,"sector":"Industrials","shares":59,"position":13289.16},{"rank":123,"ticker":"SRE","momentum":0.0276256006,"atr":2.581195,"price":166.06,"sector":"Utilities","shares":96,"position":15941.76},{"rank":124,"ticker":"PNW","momentum":0.0264679502,"atr":1.3036,"price":75.39,"sector":"Utilities","shares":191,"position":14399.49},{"rank":125,"ticker":"NSC","momentum":0.0207476546,"atr":4.793415,"price":244.77,"sector":"Industrials","shares":52,"position":12728.04},{"rank":126,"ticker":"CAG","momentum":0.0199803142,"atr":0.5195,"price":34.75,"sector":"Consumer Staples","shares":481,"position":16714.75},{"rank":127,"ticker":"EVRG","momentum":0.0154270428,"atr":1.119805,"price":69.39,"sector":"Utilities","shares":223,"position":15473.97},{"rank":128,"ticker":"AEP","momentum":0.0134695288,"atr":1.65498,"price":101.34,"sector":"Utilities","shares":151,"position":15302.34},{"rank":129,"ticker":"PPL","momentum":0.0132728363,"atr":0.5335,"price":29.35,"sector":"Utilities","shares":468,"position":13735.8},{"rank":130,"ticker":"AMP","momentum":0.0132297758,"atr":5.95145,"price":268.42,"sector":"Financials","shares":42,"position":11273.64},{"rank":131,"ticker":"SJM","momentum":0.0110760775,"atr":2.432145,"price":140.81,"sector":"Consumer Staples","shares":102,"position":14362.62},{"rank":132,"ticker":"MPC","momentum":0.0082320542,"atr":2.751145,"price":101.5,"sector":"Energy","shares":90,"position":9135.0},{"rank":133,"ticker":"ES","momentum":0.0068280151,"atr":1.38522,"price":90.77,"sector":"Utilities","shares":180,"position":16338.6},{"rank":134,"ticker":"BDX","momentum":0.0064316087,"atr":4.87462,"price":253.17,"sector":"Health Care","shares":51,"position":12911.67},{"rank":135,"ticker":"XEL","momentum":0.0033661726,"atr":1.157495,"price":74.69,"sector":"Utilities","shares":215,"position":16058.35},{"rank":136,"ticker":"DTE","momentum":0.0008826353,"atr":1.93615,"price":131.45,"sector":"Utilities","shares":129,"position":16957.05},{"rank":137,"ticker":"GPN","momentum":0.0005163081,"atr":3.12914,"price":124.7,"sector":"Information Technology","shares":79,"position":9851.3},{"rank":138,"ticker":"WFC","momentum":0.0004453207,"atr":1.0645,"price":44.14,"sector":"Financials","shares":234,"position":10328.76},{"rank":139,"ticker":"NTAP","momentum":0.0001129981,"atr":1.98725,"price":72.28,"sector":"Information Technology","shares":125,"position":9035.0},{"rank":140,"ticker":"VMC","momentum":0.0000879235,"atr":4.085385,"price":166.77,"sector":"Materials","shares":61,"position":10172.97},{"rank":141,"ticker":"BWA","momentum":0.0000288343,"atr":1.07165,"price":38.26,"sector":"Consumer Discretionary","shares":233,"position":8914.58},{"rank":142,"ticker":"GD","momentum":-0.000152258,"atr":4.19797,"price":231.12,"sector":"Industrials","shares":59,"position":13636.08},{"rank":143,"ticker":"AEE","momentum":-0.0004529199,"atr":1.5318,"price":93.34,"sector":"Utilities","shares":163,"position":15214.42},{"rank":144,"ticker":"HON","momentum":-0.0017960969,"atr":3.13952,"price":190.7,"sector":"Industrials","shares":79,"position":15065.3},{"rank":145,"ticker":"D","momentum":-0.0055300996,"atr":1.4045,"price":82.34,"sector":"Utilities","shares":177,"position":14574.18},{"rank":146,"ticker":"EIX","momentum":-0.0090004385,"atr":1.240325,"price":68.82,"sector":"Utilities","shares":201,"position":13832.82},{"rank":147,"ticker":"EXPD","momentum":-0.0217276283,"atr":2.003,"price":102.97,"sector":"Industrials","shares":124,"position":12768.28},{"rank":148,"ticker":"ZION","momentum":-0.0342073075,"atr":1.18075,"price":55.4,"sector":"Financials","shares":211,"position":11689.4},{"rank":149,"ticker":"ETR","momentum":-0.0597024567,"atr":2.0706,"price":116.85,"sector":"Utilities","shares":120,"position":14022.0},{"rank":150,"ticker":"GM","momentum":-0.0601438107,"atr":1.3557,"price":39.13,"sector":"Consumer Discretionary","shares":184,"position":7199.92},{"rank":151,"ticker":"JCI","momentum":-0.0799313473,"atr":1.4466,"price":54.49,"sector":"Industrials","shares":172,"position":9372.28},{"rank":152,"ticker":"HRL","momentum":-0.1343955218,"atr":0.63925,"price":50.66,"sector":"Consumer Staples","shares":391,"position":19808.06},{"rank":153,"ticker":"COP","momentum":-0.2076127978,"atr":3.65621,"price":110.5,"sector":"Energy","shares":68,"position":7514.0},{"rank":154,"ticker":"IRM","momentum":-0.2288461005,"atr":1.307995,"price":52.98,"sector":"Real Estate","shares":191,"position":10119.18},{"rank":155,"ticker":"MET","momentum":-0.3206024395,"atr":1.27125,"price":64.98,"sector":"Financials","shares":196,"position":12736.08},{"rank":156,"ticker":"NRG","momentum":-0.3276207936,"atr":1.020765,"price":41.07,"sector":"Utilities","shares":244,"position":10021.08},{"rank":157,"ticker":"DVN","momentum":-0.3844767861,"atr":3.03339,"price":71.08,"sector":"Energy","shares":82,"position":5828.56},{"rank":158,"ticker":"GE","momentum":-0.4187889122,"atr":2.05908,"price":75.13,"sector":"Industrials","shares":121,"position":9090.73},{"rank":159,"ticker":"KMI","momentum":-1.0369764,"atr":0.37408,"price":18.48,"sector":"Energy","shares":668,"position":12344.64},{"rank":160,"ticker":"CTRA","momentum":-1.5154115711,"atr":1.1883,"price":30.4,"sector":"Energy","shares":210,"position":6384.0},{"rank":161,"ticker":"WMB","momentum":-1.5452408706,"atr":0.7741,"price":34.32,"sector":"Energy","shares":322,"position":11051.04},{"rank":162,"ticker":"OKE","momentum":-1.7797674845,"atr":1.52252,"price":63.03,"sector":"Energy","shares":164,"position":10336.92},{"rank":163,"ticker":"ADM","momentum":-1.8622032325,"atr":1.832835,"price":87.57,"sector":"Consumer Staples","shares":136,"position":11909.52},{"rank":164,"ticker":"PSX","momentum":-1.9425847021,"atr":2.86563,"price":90.15,"sector":"Energy","shares":87,"position":7843.05},{"rank":165,"ticker":"VLO","momentum":-2.3092307832,"atr":4.366845,"price":118.03,"sector":"Energy","shares":57,"position":6727.71},{"rank":166,"ticker":"CVX","momentum":-3.5300099241,"atr":3.89516,"price":160.62,"sector":"Energy","shares":64,"position":10279.68}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

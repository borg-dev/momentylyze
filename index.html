<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"HAL","momentum":328.9927225329,"atr":1.9655,"price":35.89,"sector":"Energy","shares":127,"position":4558.03},{"rank":2,"ticker":"MOS","momentum":247.6400045456,"atr":3.80276,"price":61.1,"sector":"Materials","shares":65,"position":3971.5},{"rank":3,"ticker":"COP","momentum":171.5117056876,"atr":3.947775,"price":98.83,"sector":"Energy","shares":63,"position":6226.29},{"rank":4,"ticker":"PXD","momentum":168.1251222574,"atr":10.445755,"price":241.39,"sector":"Energy","shares":23,"position":5551.97},{"rank":5,"ticker":"DVN","momentum":159.5006554562,"atr":3.610855,"price":57.52,"sector":"Energy","shares":69,"position":3968.88},{"rank":6,"ticker":"EOG","momentum":157.3118044316,"atr":5.232025,"price":117.87,"sector":"Energy","shares":47,"position":5539.89},{"rank":7,"ticker":"CVX","momentum":153.2573396275,"atr":6.137865,"price":160.44,"sector":"Energy","shares":40,"position":6417.6},{"rank":8,"ticker":"BKR","momentum":143.9876319922,"atr":1.82594,"price":34.98,"sector":"Energy","shares":136,"position":4757.28},{"rank":9,"ticker":"XOM","momentum":139.2835390854,"atr":3.228,"price":78.98,"sector":"Energy","shares":77,"position":6081.46},{"rank":10,"ticker":"APA","momentum":137.2390007366,"atr":2.11224,"price":39.43,"sector":"Energy","shares":118,"position":4652.74},{"rank":11,"ticker":"CF","momentum":137.1582230376,"atr":5.3922,"price":92.21,"sector":"Materials","shares":46,"position":4241.66},{"rank":12,"ticker":"SLB","momentum":136.4951234104,"atr":2.186055,"price":39.51,"sector":"Energy","shares":114,"position":4504.14},{"rank":13,"ticker":"ABBV","momentum":121.7671734813,"atr":3.169965,"price":158.59,"sector":"Health Care","shares":78,"position":12370.02},{"rank":14,"ticker":"MCK","momentum":121.3767888352,"atr":6.830995,"price":294.92,"sector":"Health Care","shares":36,"position":10617.12},{"rank":15,"ticker":"LMT","momentum":114.7654720129,"atr":16.44707,"price":428.59,"sector":"Industrials","shares":15,"position":6428.85},{"rank":16,"ticker":"ADM","momentum":110.731768794,"atr":2.445395,"price":83.78,"sector":"Consumer Staples","shares":102,"position":8545.56},{"rank":17,"ticker":"NEM","momentum":97.9973865565,"atr":3.05617,"price":73.31,"sector":"Materials","shares":81,"position":5938.11},{"rank":18,"ticker":"VRTX","momentum":97.6874783231,"atr":6.07709,"price":250.0,"sector":"Health Care","shares":41,"position":10250.0},{"rank":19,"ticker":"MPC","momentum":88.2120383948,"atr":2.90254,"price":77.15,"sector":"Energy","shares":86,"position":6634.9},{"rank":20,"ticker":"CERN","momentum":86.8109267436,"atr":0.41125,"price":93.78,"sector":"Health Care","shares":607,"position":56924.46},{"rank":21,"ticker":"HES","momentum":83.6808917786,"atr":3.98575,"price":97.14,"sector":"Energy","shares":62,"position":6022.68},{"rank":22,"ticker":"ABC","momentum":73.8823177569,"atr":3.42181,"price":152.2,"sector":"Health Care","shares":73,"position":11110.6},{"rank":23,"ticker":"BMY","momentum":72.7644268167,"atr":1.204555,"price":70.52,"sector":"Health Care","shares":207,"position":14597.64},{"rank":24,"ticker":"VLO","momentum":72.252613547,"atr":3.87797,"price":89.09,"sector":"Energy","shares":64,"position":5701.76},{"rank":25,"ticker":"ATO","momentum":69.7735272101,"atr":2.468135,"price":114.47,"sector":"Utilities","shares":101,"position":11561.47},{"rank":26,"ticker":"SRE","momentum":68.7274705477,"atr":3.33745,"price":155.83,"sector":"Utilities","shares":74,"position":11531.42},{"rank":27,"ticker":"NI","momentum":64.6959091027,"atr":0.63425,"price":30.14,"sector":"Utilities","shares":394,"position":11875.16},{"rank":28,"ticker":"MO","momentum":62.5694348472,"atr":1.39944,"price":51.69,"sector":"Consumer Staples","shares":178,"position":9200.82},{"rank":29,"ticker":"HSY","momentum":59.1573558075,"atr":4.85925,"price":206.71,"sector":"Consumer Staples","shares":51,"position":10542.21},{"rank":30,"ticker":"NOC","momentum":53.4993834976,"atr":17.54482,"price":428.8,"sector":"Industrials","shares":14,"position":6003.2},{"rank":31,"ticker":"BRK.B","momentum":52.328006933,"atr":7.012245,"price":344.97,"sector":"Financials","shares":35,"position":12073.95},{"rank":32,"ticker":"MKC","momentum":51.7464479409,"atr":2.6395,"price":96.89,"sector":"Consumer Staples","shares":94,"position":9107.66},{"rank":33,"ticker":"GD","momentum":50.3104045976,"atr":6.774965,"price":230.51,"sector":"Industrials","shares":36,"position":8298.36},{"rank":34,"ticker":"FMC","momentum":50.1640927382,"atr":3.536555,"price":129.64,"sector":"Materials","shares":70,"position":9074.8},{"rank":35,"ticker":"CTRA","momentum":49.3744633746,"atr":1.39042,"price":24.74,"sector":"Energy","shares":179,"position":4428.46},{"rank":36,"ticker":"KR","momentum":48.9374348806,"atr":2.25268,"price":55.66,"sector":"Consumer Staples","shares":110,"position":6122.6},{"rank":37,"ticker":"WRB","momentum":46.6489988188,"atr":2.55812,"price":95.24,"sector":"Financials","shares":97,"position":9238.28},{"rank":38,"ticker":"PBCT","momentum":45.7554434722,"atr":0.884495,"price":21.09,"sector":"Financials","shares":282,"position":5947.38},{"rank":39,"ticker":"EXC","momentum":44.1083807229,"atr":0.892235,"price":43.45,"sector":"Utilities","shares":280,"position":12166.0},{"rank":40,"ticker":"MTB","momentum":43.8125659718,"atr":7.19275,"price":179.07,"sector":"Financials","shares":34,"position":6088.38},{"rank":41,"ticker":"FCX","momentum":42.2052735044,"atr":1.969775,"price":48.59,"sector":"Materials","shares":126,"position":6122.34},{"rank":42,"ticker":"TRV","momentum":41.8112131709,"atr":4.423965,"price":181.03,"sector":"Financials","shares":56,"position":10137.68},{"rank":43,"ticker":"PGR","momentum":40.8030752719,"atr":2.9285,"price":109.52,"sector":"Financials","shares":85,"position":9309.2},{"rank":44,"ticker":"JKHY","momentum":40.2626667165,"atr":4.84784,"price":184.25,"sector":"Information Technology","shares":51,"position":9396.75},{"rank":45,"ticker":"PKG","momentum":39.3713789072,"atr":3.98829,"price":156.26,"sector":"Materials","shares":62,"position":9688.12},{"rank":46,"ticker":"WMB","momentum":38.4623528846,"atr":0.95825,"price":31.53,"sector":"Energy","shares":260,"position":8197.8},{"rank":47,"ticker":"RTX","momentum":37.2570774406,"atr":2.965655,"price":97.75,"sector":"Industrials","shares":84,"position":8211.0},{"rank":48,"ticker":"UHS","momentum":35.3018992254,"atr":4.57925,"price":149.09,"sector":"Health Care","shares":54,"position":8050.86},{"rank":49,"ticker":"CVS","momentum":31.9578944141,"atr":2.64976,"price":108.56,"sector":"Health Care","shares":94,"position":10204.64},{"rank":50,"ticker":"ALL","momentum":31.510881375,"atr":3.464955,"price":130.92,"sector":"Financials","shares":72,"position":9426.24},{"rank":51,"ticker":"HRL","momentum":31.1554745906,"atr":1.30225,"price":49.7,"sector":"Consumer Staples","shares":191,"position":9492.7},{"rank":52,"ticker":"TSN","momentum":31.0075265629,"atr":2.50557,"price":88.6,"sector":"Consumer Staples","shares":99,"position":8771.4},{"rank":53,"ticker":"FE","momentum":28.8054873603,"atr":0.99313,"price":44.05,"sector":"Utilities","shares":251,"position":11056.55},{"rank":54,"ticker":"ED","momentum":27.7797415313,"atr":1.948485,"price":90.01,"sector":"Utilities","shares":128,"position":11521.28},{"rank":55,"ticker":"AEP","momentum":27.3756756466,"atr":2.16475,"price":94.94,"sector":"Utilities","shares":115,"position":10918.1},{"rank":56,"ticker":"L","momentum":26.7463628711,"atr":1.5453,"price":63.8,"sector":"Financials","shares":161,"position":10271.8},{"rank":57,"ticker":"HPE","momentum":25.5051632012,"atr":0.623625,"price":16.72,"sector":"Information Technology","shares":400,"position":6688.0},{"rank":58,"ticker":"BDX","momentum":25.3523801209,"atr":5.67403,"price":262.29,"sector":"Health Care","shares":44,"position":11540.76},{"rank":59,"ticker":"PNW","momentum":25.2914495748,"atr":1.877305,"price":74.32,"sector":"Utilities","shares":133,"position":9884.56},{"rank":60,"ticker":"AMGN","momentum":25.016578008,"atr":5.064975,"price":235.86,"sector":"Health Care","shares":49,"position":11557.14},{"rank":61,"ticker":"AFL","momentum":24.7520984363,"atr":1.6475,"price":62.9,"sector":"Financials","shares":151,"position":9497.9},{"rank":62,"ticker":"TAP","momentum":24.2119260487,"atr":1.790955,"price":52.39,"sector":"Consumer Staples","shares":139,"position":7282.21},{"rank":63,"ticker":"HWM","momentum":23.8707019215,"atr":1.423945,"price":34.94,"sector":"Industrials","shares":175,"position":6114.5},{"rank":64,"ticker":"KO","momentum":23.403591004,"atr":1.42,"price":60.09,"sector":"Consumer Staples","shares":176,"position":10575.84},{"rank":65,"ticker":"CTVA","momentum":23.2791429039,"atr":1.67306,"price":55.79,"sector":"Materials","shares":149,"position":8312.71},{"rank":66,"ticker":"LYB","momentum":22.8629131316,"atr":3.73095,"price":104.21,"sector":"Materials","shares":67,"position":6982.07},{"rank":67,"ticker":"D","momentum":22.7004336371,"atr":1.91749,"price":82.69,"sector":"Utilities","shares":130,"position":10749.7},{"rank":68,"ticker":"CNC","momentum":22.5540620417,"atr":2.252945,"price":87.98,"sector":"Health Care","shares":110,"position":9677.8},{"rank":69,"ticker":"CB","momentum":21.4587209768,"atr":5.3335,"price":211.1,"sector":"Financials","shares":46,"position":9710.6},{"rank":70,"ticker":"HSIC","momentum":20.5645372271,"atr":2.12795,"price":86.75,"sector":"Health Care","shares":117,"position":10149.75},{"rank":71,"ticker":"KMI","momentum":19.7630664344,"atr":0.528835,"price":17.56,"sector":"Energy","shares":472,"position":8288.32},{"rank":72,"ticker":"GL","momentum":19.3807525629,"atr":2.824195,"price":98.62,"sector":"Financials","shares":88,"position":8678.56},{"rank":73,"ticker":"CI","momentum":19.3151604404,"atr":6.366095,"price":242.39,"sector":"Health Care","shares":39,"position":9453.21},{"rank":74,"ticker":"OGN","momentum":18.3180792044,"atr":1.49399,"price":34.34,"sector":"Health Care","shares":167,"position":5734.78},{"rank":75,"ticker":"LHX","momentum":18.0416420802,"atr":9.22253,"price":248.79,"sector":"Industrials","shares":27,"position":6717.33},{"rank":76,"ticker":"SYY","momentum":17.7779842478,"atr":2.94328,"price":79.75,"sector":"Consumer Staples","shares":84,"position":6699.0},{"rank":77,"ticker":"CTSH","momentum":17.236524226,"atr":2.487055,"price":90.58,"sector":"Information Technology","shares":100,"position":9058.0},{"rank":78,"ticker":"ANTM","momentum":16.5850313123,"atr":13.740675,"price":478.13,"sector":"Health Care","shares":18,"position":8606.34},{"rank":79,"ticker":"DVA","momentum":16.4819883295,"atr":3.0565,"price":112.56,"sector":"Health Care","shares":81,"position":9117.36},{"rank":80,"ticker":"MET","momentum":15.9665021848,"atr":2.262905,"price":68.17,"sector":"Financials","shares":110,"position":7498.7},{"rank":81,"ticker":"CME","momentum":15.2002818692,"atr":6.499,"price":246.28,"sector":"Financials","shares":38,"position":9358.64},{"rank":82,"ticker":"PSA","momentum":13.6483034326,"atr":9.43542,"price":365.78,"sector":"Real Estate","shares":26,"position":9510.28},{"rank":83,"ticker":"WY","momentum":12.6893169115,"atr":1.24425,"price":39.51,"sector":"Real Estate","shares":200,"position":7902.0},{"rank":84,"ticker":"NUE","momentum":12.186496537,"atr":6.511885,"price":134.93,"sector":"Materials","shares":38,"position":5127.34},{"rank":85,"ticker":"FOXA","momentum":11.3848726576,"atr":1.339015,"price":40.28,"sector":"Communication Services","shares":186,"position":7492.08},{"rank":86,"ticker":"CMS","momentum":10.9646126653,"atr":1.3455,"price":66.82,"sector":"Utilities","shares":185,"position":12361.7},{"rank":87,"ticker":"DE","momentum":10.792770008,"atr":17.59056,"price":406.15,"sector":"Industrials","shares":14,"position":5686.1},{"rank":88,"ticker":"VTR","momentum":10.147096144,"atr":1.8132,"price":59.25,"sector":"Real Estate","shares":137,"position":8117.25},{"rank":89,"ticker":"XEL","momentum":9.762039073,"atr":1.544,"price":69.7,"sector":"Utilities","shares":161,"position":11221.7},{"rank":90,"ticker":"RE","momentum":9.4908131617,"atr":9.15925,"price":285.18,"sector":"Financials","shares":27,"position":7699.86},{"rank":91,"ticker":"MAR","momentum":7.9477456132,"atr":6.88636,"price":171.24,"sector":"Consumer Discretionary","shares":36,"position":6164.64},{"rank":92,"ticker":"PEG","momentum":7.658375404,"atr":1.32997,"price":67.75,"sector":"Utilities","shares":187,"position":12669.25},{"rank":93,"ticker":"KHC","momentum":7.615991142,"atr":1.16856,"price":37.75,"sector":"Consumer Staples","shares":213,"position":8040.75},{"rank":94,"ticker":"LDOS","momentum":7.3652452431,"atr":3.32025,"price":103.99,"sector":"Industrials","shares":75,"position":7799.25},{"rank":95,"ticker":"BSX","momentum":7.3458740164,"atr":1.179,"price":44.21,"sector":"Health Care","shares":212,"position":9372.52},{"rank":96,"ticker":"DOW","momentum":7.319094309,"atr":1.977995,"price":62.84,"sector":"Materials","shares":126,"position":7917.84},{"rank":97,"ticker":"CEG","momentum":7.0919530682,"atr":2.55365,"price":50.99,"sector":"Utilities","shares":97,"position":4946.03},{"rank":98,"ticker":"SO","momentum":6.9958751547,"atr":1.533675,"price":68.41,"sector":"Utilities","shares":163,"position":11150.83},{"rank":99,"ticker":"HST","momentum":6.6130415669,"atr":0.7075,"price":18.84,"sector":"Real Estate","shares":353,"position":6650.52},{"rank":100,"ticker":"HII","momentum":6.541255268,"atr":7.093495,"price":197.33,"sector":"Industrials","shares":35,"position":6906.55},{"rank":101,"ticker":"AIG","momentum":6.4941586567,"atr":2.46475,"price":60.94,"sector":"Financials","shares":101,"position":6154.94},{"rank":102,"ticker":"FOX","momentum":6.251552703,"atr":1.17375,"price":37.05,"sector":"Communication Services","shares":212,"position":7854.6},{"rank":103,"ticker":"FITB","momentum":6.1846525273,"atr":1.9646,"price":46.75,"sector":"Financials","shares":127,"position":5937.25},{"rank":104,"ticker":"CHD","momentum":5.8641004253,"atr":2.66665,"price":97.28,"sector":"Consumer Staples","shares":93,"position":9047.04},{"rank":105,"ticker":"UNP","momentum":5.8580752249,"atr":7.464725,"price":263.56,"sector":"Industrials","shares":33,"position":8697.48},{"rank":106,"ticker":"AIZ","momentum":5.7058178671,"atr":4.090785,"price":176.11,"sector":"Financials","shares":61,"position":10742.71},{"rank":107,"ticker":"CNP","momentum":5.7034764511,"atr":0.68033,"price":29.08,"sector":"Utilities","shares":367,"position":10672.36},{"rank":108,"ticker":"AXP","momentum":5.4554417921,"atr":7.412225,"price":186.97,"sector":"Financials","shares":33,"position":6170.01},{"rank":109,"ticker":"JNPR","momentum":5.3099096755,"atr":0.9595,"price":34.65,"sector":"Information Technology","shares":260,"position":9009.0},{"rank":110,"ticker":"INCY","momentum":4.9369734999,"atr":1.84725,"price":74.35,"sector":"Health Care","shares":135,"position":10037.25},{"rank":111,"ticker":"PCAR","momentum":4.847833159,"atr":2.80525,"price":90.27,"sector":"Industrials","shares":89,"position":8034.03},{"rank":112,"ticker":"UNH","momentum":4.7241954763,"atr":13.08123,"price":507.02,"sector":"Health Care","shares":19,"position":9633.38},{"rank":113,"ticker":"ZION","momentum":4.6815776768,"atr":3.16601,"price":68.34,"sector":"Financials","shares":78,"position":5330.52},{"rank":114,"ticker":"IBM","momentum":4.4604465618,"atr":2.80962,"price":127.96,"sector":"Information Technology","shares":88,"position":11260.48},{"rank":115,"ticker":"BXP","momentum":4.1223504265,"atr":3.204465,"price":124.74,"sector":"Real Estate","shares":78,"position":9729.72},{"rank":116,"ticker":"RJF","momentum":4.0007358031,"atr":4.133625,"price":104.73,"sector":"Financials","shares":60,"position":6283.8},{"rank":117,"ticker":"CINF","momentum":3.8764650572,"atr":3.857245,"price":132.27,"sector":"Financials","shares":64,"position":8465.28},{"rank":118,"ticker":"TMUS","momentum":3.4615192217,"atr":3.158065,"price":128.95,"sector":"Communication Services","shares":79,"position":10187.05},{"rank":119,"ticker":"JNJ","momentum":3.2119088118,"atr":3.748295,"price":176.8,"sector":"Health Care","shares":66,"position":11668.8},{"rank":120,"ticker":"OKE","momentum":2.7551663842,"atr":2.253495,"price":66.86,"sector":"Energy","shares":110,"position":7354.6},{"rank":121,"ticker":"PRU","momentum":1.9845620235,"atr":4.100745,"price":115.4,"sector":"Financials","shares":60,"position":6924.0},{"rank":122,"ticker":"LNT","momentum":1.8471806252,"atr":1.309745,"price":60.98,"sector":"Utilities","shares":190,"position":11586.2},{"rank":123,"ticker":"DUK","momentum":1.5933916004,"atr":2.08958,"price":106.5,"sector":"Utilities","shares":119,"position":12673.5},{"rank":124,"ticker":"SCHW","momentum":1.582474746,"atr":3.60012,"price":89.78,"sector":"Financials","shares":69,"position":6194.82},{"rank":125,"ticker":"FLT","momentum":1.5594099843,"atr":7.5215,"price":236.82,"sector":"Information Technology","shares":33,"position":7815.06},{"rank":126,"ticker":"ETR","momentum":1.4983606671,"atr":2.53375,"price":110.39,"sector":"Utilities","shares":98,"position":10818.22},{"rank":127,"ticker":"SEE","momentum":0.9573473029,"atr":2.5205,"price":68.28,"sector":"Materials","shares":99,"position":6759.72},{"rank":128,"ticker":"AEE","momentum":0.7157475955,"atr":1.749,"price":88.61,"sector":"Utilities","shares":142,"position":12582.62},{"rank":129,"ticker":"TDG","momentum":0.6768094609,"atr":25.276125,"price":663.02,"sector":"Industrials","shares":9,"position":5967.18},{"rank":130,"ticker":"MOH","momentum":0.582926863,"atr":12.724225,"price":337.41,"sector":"Health Care","shares":19,"position":6410.79},{"rank":131,"ticker":"RHI","momentum":0.5185263881,"atr":4.01933,"price":118.2,"sector":"Industrials","shares":62,"position":7328.4},{"rank":132,"ticker":"V","momentum":0.3878565996,"atr":7.10763,"price":213.45,"sector":"Information Technology","shares":35,"position":7470.75},{"rank":133,"ticker":"WELL","momentum":0.3832046202,"atr":2.49917,"price":92.01,"sector":"Real Estate","shares":100,"position":9201.0},{"rank":134,"ticker":"TFX","momentum":0.3497828729,"atr":9.442175,"price":347.05,"sector":"Health Care","shares":26,"position":9023.3},{"rank":135,"ticker":"ORLY","momentum":0.2730883532,"atr":18.839595,"price":701.32,"sector":"Consumer Discretionary","shares":13,"position":9117.16},{"rank":136,"ticker":"UPS","momentum":0.2433282668,"atr":6.33749,"price":222.32,"sector":"Industrials","shares":39,"position":8670.48},{"rank":137,"ticker":"KIM","momentum":0.2307326869,"atr":0.738745,"price":23.88,"sector":"Real Estate","shares":338,"position":8071.44},{"rank":138,"ticker":"WEC","momentum":0.2149695605,"atr":1.87375,"price":95.79,"sector":"Utilities","shares":133,"position":12740.07},{"rank":139,"ticker":"BRO","momentum":0.0420409442,"atr":2.015845,"price":68.03,"sector":"Financials","shares":124,"position":8435.72},{"rank":140,"ticker":"HLT","momentum":0.0340344895,"atr":6.363735,"price":151.14,"sector":"Consumer Discretionary","shares":39,"position":5894.46},{"rank":141,"ticker":"VNO","momentum":0.0128331,"atr":1.564,"price":45.42,"sector":"Real Estate","shares":159,"position":7221.78},{"rank":142,"ticker":"EQR","momentum":0.0097870438,"atr":2.177995,"price":89.32,"sector":"Real Estate","shares":114,"position":10182.48},{"rank":143,"ticker":"JBHT","momentum":0.0044738454,"atr":7.17725,"price":216.28,"sector":"Industrials","shares":34,"position":7353.52},{"rank":144,"ticker":"AVGO","momentum":0.002900743,"atr":21.653995,"price":602.67,"sector":"Information Technology","shares":11,"position":6629.37},{"rank":145,"ticker":"CHRW","momentum":0.0023729485,"atr":3.302955,"price":104.02,"sector":"Industrials","shares":75,"position":7801.5},{"rank":146,"ticker":"EMR","momentum":-0.0000028883,"atr":2.854,"price":95.49,"sector":"Industrials","shares":87,"position":8307.63},{"rank":147,"ticker":"STE","momentum":-0.0013480284,"atr":7.128,"price":232.01,"sector":"Health Care","shares":35,"position":8120.35},{"rank":148,"ticker":"AZO","momentum":-0.001416266,"atr":63.15274,"price":1945.3,"sector":"Consumer Discretionary","shares":3,"position":5835.9},{"rank":149,"ticker":"CAT","momentum":-0.0075483449,"atr":7.233215,"price":221.7,"sector":"Industrials","shares":34,"position":7537.8},{"rank":150,"ticker":"AVB","momentum":-0.014890132,"atr":5.92475,"price":245.97,"sector":"Real Estate","shares":42,"position":10330.74},{"rank":151,"ticker":"IPG","momentum":-0.0155627939,"atr":1.27849,"price":36.43,"sector":"Communication Services","shares":195,"position":7103.85},{"rank":152,"ticker":"IRM","momentum":-0.029437926,"atr":1.62322,"price":49.57,"sector":"Real Estate","shares":154,"position":7633.78},{"rank":153,"ticker":"SYK","momentum":-0.1975736412,"atr":7.773105,"price":264.0,"sector":"Health Care","shares":32,"position":8448.0},{"rank":154,"ticker":"LLY","momentum":-0.2081324768,"atr":6.40041,"price":285.51,"sector":"Health Care","shares":39,"position":11134.89},{"rank":155,"ticker":"REGN","momentum":-0.3258690366,"atr":17.0725,"price":685.23,"sector":"Health Care","shares":14,"position":9593.22},{"rank":156,"ticker":"COO","momentum":-0.3347922027,"atr":12.716685,"price":417.82,"sector":"Health Care","shares":19,"position":7938.58},{"rank":157,"ticker":"UDR","momentum":-0.3757014087,"atr":1.41625,"price":57.47,"sector":"Real Estate","shares":176,"position":10114.72},{"rank":158,"ticker":"WAB","momentum":-0.5205936904,"atr":3.22255,"price":94.22,"sector":"Industrials","shares":77,"position":7254.94},{"rank":159,"ticker":"AKAM","momentum":-0.6586912342,"atr":3.06383,"price":115.23,"sector":"Information Technology","shares":81,"position":9333.63},{"rank":160,"ticker":"NWS","momentum":-0.6653481489,"atr":0.823,"price":22.75,"sector":"Communication Services","shares":303,"position":6893.25},{"rank":161,"ticker":"COST","momentum":-0.683718098,"atr":14.78856,"price":552.79,"sector":"Consumer Staples","shares":16,"position":8844.64},{"rank":162,"ticker":"GWW","momentum":-0.9453867638,"atr":14.14309,"price":498.09,"sector":"Industrials","shares":17,"position":8467.53},{"rank":163,"ticker":"AON","momentum":-0.9549026096,"atr":7.8769,"price":315.93,"sector":"Financials","shares":31,"position":9793.83},{"rank":164,"ticker":"WRK","momentum":-1.0735686689,"atr":1.61515,"price":47.82,"sector":"Materials","shares":154,"position":7364.28},{"rank":165,"ticker":"TDY","momentum":-1.0863491831,"atr":12.1737,"price":432.91,"sector":"Industrials","shares":20,"position":8658.2},{"rank":166,"ticker":"NWSA","momentum":-1.3598092448,"atr":0.816995,"price":22.42,"sector":"Communication Services","shares":305,"position":6838.1},{"rank":167,"ticker":"PLD","momentum":-1.4543125306,"atr":3.68726,"price":156.66,"sector":"Real Estate","shares":67,"position":10496.22},{"rank":168,"ticker":"PFE","momentum":-1.7913918269,"atr":1.587875,"price":54.24,"sector":"Health Care","shares":157,"position":8515.68},{"rank":169,"ticker":"PAYX","momentum":-2.0699373443,"atr":3.33573,"price":125.62,"sector":"Information Technology","shares":74,"position":9295.88},{"rank":170,"ticker":"WMT","momentum":-2.3149497029,"atr":3.09796,"price":145.01,"sector":"Consumer Staples","shares":80,"position":11600.8},{"rank":171,"ticker":"CSX","momentum":-2.4615846096,"atr":1.217,"price":36.3,"sector":"Industrials","shares":205,"position":7441.5},{"rank":172,"ticker":"PWR","momentum":-2.7538964178,"atr":4.51174,"price":125.66,"sector":"Industrials","shares":55,"position":6911.3},{"rank":173,"ticker":"EIX","momentum":-3.1617127605,"atr":1.365295,"price":66.19,"sector":"Utilities","shares":183,"position":12112.77},{"rank":174,"ticker":"TSCO","momentum":-3.3333048993,"atr":8.27901,"price":232.6,"sector":"Consumer Discretionary","shares":30,"position":6978.0},{"rank":175,"ticker":"EVRG","momentum":-3.4304848593,"atr":1.311175,"price":65.0,"sector":"Utilities","shares":190,"position":12350.0},{"rank":176,"ticker":"WTW","momentum":-3.9982798874,"atr":6.13725,"price":232.86,"sector":"Financials","shares":40,"position":9314.4},{"rank":177,"ticker":"HOLX","momentum":-4.4861480131,"atr":1.826995,"price":73.9,"sector":"Health Care","shares":136,"position":10050.4},{"rank":178,"ticker":"ESS","momentum":-6.3524529221,"atr":8.501,"price":342.74,"sector":"Real Estate","shares":29,"position":9939.46},{"rank":179,"ticker":"ICE","momentum":-6.4411997196,"atr":3.54072,"price":133.6,"sector":"Financials","shares":70,"position":9352.0},{"rank":180,"ticker":"ROL","momentum":-6.6581649564,"atr":0.92075,"price":34.25,"sector":"Industrials","shares":271,"position":9281.75},{"rank":181,"ticker":"TXT","momentum":-8.2930729379,"atr":2.4635,"price":75.13,"sector":"Industrials","shares":101,"position":7588.13},{"rank":182,"ticker":"AJG","momentum":-9.2911266342,"atr":4.384445,"price":165.14,"sector":"Financials","shares":57,"position":9412.98},{"rank":183,"ticker":"RMD","momentum":-9.516797795,"atr":7.231095,"price":259.22,"sector":"Health Care","shares":34,"position":8813.48},{"rank":184,"ticker":"ULTA","momentum":-11.1252193685,"atr":16.44795,"price":387.31,"sector":"Consumer Discretionary","shares":15,"position":5809.65},{"rank":185,"ticker":"MDT","momentum":-11.8297523139,"atr":2.56163,"price":109.74,"sector":"Health Care","shares":97,"position":10644.78},{"rank":186,"ticker":"DG","momentum":-15.7636992599,"atr":6.226165,"price":221.94,"sector":"Consumer Discretionary","shares":40,"position":8877.6},{"rank":187,"ticker":"RSG","momentum":-17.2066593143,"atr":2.877455,"price":131.53,"sector":"Industrials","shares":86,"position":11311.58},{"rank":188,"ticker":"URI","momentum":-24.2347642519,"atr":13.3734,"price":346.77,"sector":"Industrials","shares":18,"position":6241.86},{"rank":189,"ticker":"AES","momentum":-26.5294465023,"atr":0.7137,"price":23.41,"sector":"Utilities","shares":350,"position":8193.5},{"rank":190,"ticker":"J","momentum":-32.1631162481,"atr":3.64625,"price":138.03,"sector":"Industrials","shares":68,"position":9386.04}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

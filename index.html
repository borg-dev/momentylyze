<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VLO","momentum":238.8028489612,"atr":5.73884,"price":124.21,"sector":"Energy","shares":43,"position":5341.03},{"rank":2,"ticker":"CTRA","momentum":226.4807076036,"atr":1.52956,"price":32.6,"sector":"Energy","shares":163,"position":5313.8},{"rank":3,"ticker":"CF","momentum":206.7523067987,"atr":6.12103,"price":100.12,"sector":"Materials","shares":40,"position":4004.8},{"rank":4,"ticker":"MCK","momentum":122.2131895252,"atr":10.0574,"price":328.8,"sector":"Health Care","shares":24,"position":7891.2},{"rank":5,"ticker":"DVN","momentum":115.009286579,"atr":3.755285,"price":70.39,"sector":"Energy","shares":66,"position":4645.74},{"rank":6,"ticker":"MPC","momentum":112.3276294446,"atr":3.692915,"price":97.3,"sector":"Energy","shares":67,"position":6519.1},{"rank":7,"ticker":"CEG","momentum":96.7836827433,"atr":2.825775,"price":56.78,"sector":"Utilities","shares":88,"position":4996.64},{"rank":8,"ticker":"CVX","momentum":94.8423695167,"atr":6.0435,"price":172.64,"sector":"Energy","shares":41,"position":7078.24},{"rank":9,"ticker":"LLY","momentum":91.9788544581,"atr":9.69775,"price":305.96,"sector":"Health Care","shares":25,"position":7649.0},{"rank":10,"ticker":"SRE","momentum":81.0431164524,"atr":3.97385,"price":166.11,"sector":"Utilities","shares":62,"position":10298.82},{"rank":11,"ticker":"WMB","momentum":80.6459345122,"atr":1.136,"price":36.21,"sector":"Energy","shares":220,"position":7966.2},{"rank":12,"ticker":"BMY","momentum":80.3404733119,"atr":1.643,"price":77.13,"sector":"Health Care","shares":152,"position":11723.76},{"rank":13,"ticker":"WRB","momentum":74.9142647428,"atr":1.80029,"price":68.76,"sector":"Financials","shares":138,"position":9488.88},{"rank":14,"ticker":"AIZ","momentum":74.3709404071,"atr":5.07425,"price":180.75,"sector":"Financials","shares":49,"position":8856.75},{"rank":15,"ticker":"ADM","momentum":71.3765726789,"atr":3.08481,"price":87.76,"sector":"Consumer Staples","shares":81,"position":7108.56},{"rank":16,"ticker":"CTVA","momentum":71.2048839838,"atr":1.932505,"price":62.09,"sector":"Materials","shares":129,"position":8009.61},{"rank":17,"ticker":"HAL","momentum":62.2995133966,"atr":1.82345,"price":38.48,"sector":"Energy","shares":137,"position":5271.76},{"rank":18,"ticker":"IRM","momentum":60.2763255089,"atr":1.85098,"price":51.29,"sector":"Real Estate","shares":135,"position":6924.15},{"rank":19,"ticker":"EXC","momentum":60.2721400603,"atr":1.256635,"price":48.83,"sector":"Utilities","shares":198,"position":9668.34},{"rank":20,"ticker":"XOM","momentum":58.0048649594,"atr":3.30775,"price":94.4,"sector":"Energy","shares":75,"position":7080.0},{"rank":21,"ticker":"PXD","momentum":54.9432339322,"atr":11.54371,"price":271.25,"sector":"Energy","shares":21,"position":5696.25},{"rank":22,"ticker":"ED","momentum":52.7554527901,"atr":2.36275,"price":100.39,"sector":"Utilities","shares":105,"position":10540.95},{"rank":23,"ticker":"BKR","momentum":49.8021929878,"atr":1.51658,"price":36.28,"sector":"Energy","shares":164,"position":5949.92},{"rank":24,"ticker":"ABC","momentum":49.6803532762,"atr":4.91775,"price":153.08,"sector":"Health Care","shares":50,"position":7654.0},{"rank":25,"ticker":"NOC","momentum":47.3512816463,"atr":12.4393,"price":471.1,"sector":"Industrials","shares":20,"position":9422.0},{"rank":26,"ticker":"KHC","momentum":47.1438950143,"atr":1.30558,"price":39.61,"sector":"Consumer Staples","shares":191,"position":7565.51},{"rank":27,"ticker":"DOW","momentum":46.9304298333,"atr":1.984545,"price":67.07,"sector":"Materials","shares":125,"position":8383.75},{"rank":28,"ticker":"CNP","momentum":46.7646845768,"atr":0.72625,"price":31.31,"sector":"Utilities","shares":344,"position":10770.64},{"rank":29,"ticker":"MRK","momentum":43.863031223,"atr":2.12251,"price":94.64,"sector":"Health Care","shares":117,"position":11072.88},{"rank":30,"ticker":"AEP","momentum":43.7217430825,"atr":2.52545,"price":102.22,"sector":"Utilities","shares":98,"position":10017.56},{"rank":31,"ticker":"COP","momentum":42.4485295645,"atr":5.02925,"price":109.48,"sector":"Energy","shares":49,"position":5364.52},{"rank":32,"ticker":"ANTM","momentum":39.8098406638,"atr":14.5985,"price":505.29,"sector":"Health Care","shares":17,"position":8589.93},{"rank":33,"ticker":"CI","momentum":39.3451182011,"atr":7.6556,"price":264.96,"sector":"Health Care","shares":32,"position":8478.72},{"rank":34,"ticker":"LMT","momentum":34.7983302901,"atr":10.6891,"price":442.78,"sector":"Industrials","shares":23,"position":10183.94},{"rank":35,"ticker":"DTE","momentum":33.9200158213,"atr":2.997495,"price":134.14,"sector":"Utilities","shares":83,"position":11133.62},{"rank":36,"ticker":"HSY","momentum":32.9133537632,"atr":5.87981,"price":213.45,"sector":"Consumer Staples","shares":42,"position":8964.9},{"rank":37,"ticker":"SO","momentum":32.8832791299,"atr":1.722715,"price":75.69,"sector":"Utilities","shares":145,"position":10975.05},{"rank":38,"ticker":"LDOS","momentum":32.2697158514,"atr":2.550575,"price":101.97,"sector":"Industrials","shares":98,"position":9993.06},{"rank":39,"ticker":"CMS","momentum":30.9907189368,"atr":1.585545,"price":71.71,"sector":"Utilities","shares":157,"position":11258.47},{"rank":40,"ticker":"XEL","momentum":30.0372653654,"atr":1.7656,"price":76.26,"sector":"Utilities","shares":141,"position":10752.66},{"rank":41,"ticker":"PKG","momentum":29.8212881602,"atr":4.27513,"price":151.72,"sector":"Materials","shares":58,"position":8799.76},{"rank":42,"ticker":"PWR","momentum":28.7875272693,"atr":4.83475,"price":115.91,"sector":"Industrials","shares":51,"position":5911.41},{"rank":43,"ticker":"EIX","momentum":28.4051292209,"atr":1.914,"price":68.08,"sector":"Utilities","shares":130,"position":8850.4},{"rank":44,"ticker":"VRTX","momentum":27.4585578886,"atr":9.841245,"price":268.48,"sector":"Health Care","shares":25,"position":6712.0},{"rank":45,"ticker":"TMUS","momentum":26.9084729211,"atr":4.504995,"price":129.22,"sector":"Communication Services","shares":55,"position":7107.1},{"rank":46,"ticker":"LYB","momentum":26.844787807,"atr":3.66393,"price":106.44,"sector":"Materials","shares":68,"position":7237.92},{"rank":47,"ticker":"TAP","momentum":26.3646638624,"atr":1.839835,"price":53.73,"sector":"Consumer Staples","shares":135,"position":7253.55},{"rank":48,"ticker":"ETR","momentum":26.3635597416,"atr":3.003375,"price":119.16,"sector":"Utilities","shares":83,"position":9890.28},{"rank":49,"ticker":"KMI","momentum":26.1605449152,"atr":0.582,"price":19.14,"sector":"Energy","shares":429,"position":8211.06},{"rank":50,"ticker":"ROL","momentum":26.140651131,"atr":1.140805,"price":35.2,"sector":"Industrials","shares":219,"position":7708.8},{"rank":51,"ticker":"WEC","momentum":25.8618622462,"atr":2.515295,"price":108.28,"sector":"Utilities","shares":99,"position":10719.72},{"rank":52,"ticker":"JKHY","momentum":25.2282585991,"atr":5.090495,"price":183.85,"sector":"Information Technology","shares":49,"position":9008.65},{"rank":53,"ticker":"AEE","momentum":24.6007090205,"atr":1.97563,"price":95.51,"sector":"Utilities","shares":126,"position":12034.26},{"rank":54,"ticker":"DUK","momentum":23.6217750896,"atr":2.613635,"price":112.98,"sector":"Utilities","shares":95,"position":10733.1},{"rank":55,"ticker":"HII","momentum":23.3185527562,"atr":6.62609,"price":204.08,"sector":"Industrials","shares":37,"position":7550.96},{"rank":56,"ticker":"ATO","momentum":19.7935573328,"atr":2.64958,"price":116.03,"sector":"Utilities","shares":94,"position":10906.82},{"rank":57,"ticker":"HSIC","momentum":19.3080026292,"atr":2.58,"price":83.94,"sector":"Health Care","shares":96,"position":8058.24},{"rank":58,"ticker":"AMGN","momentum":18.5035566661,"atr":5.94445,"price":251.89,"sector":"Health Care","shares":42,"position":10579.38},{"rank":59,"ticker":"JNJ","momentum":17.7874041566,"atr":3.20086,"price":181.4,"sector":"Health Care","shares":78,"position":14149.2},{"rank":60,"ticker":"FMC","momentum":17.1385321949,"atr":4.568965,"price":123.56,"sector":"Materials","shares":54,"position":6672.24},{"rank":61,"ticker":"EVRG","momentum":16.8890348717,"atr":1.603805,"price":69.32,"sector":"Utilities","shares":155,"position":10744.6},{"rank":62,"ticker":"J","momentum":16.5196721491,"atr":4.37625,"price":137.17,"sector":"Industrials","shares":57,"position":7818.69},{"rank":63,"ticker":"WM","momentum":15.786813248,"atr":4.2795,"price":157.6,"sector":"Industrials","shares":58,"position":9140.8},{"rank":64,"ticker":"VTR","momentum":15.2887607487,"atr":1.7342,"price":56.21,"sector":"Real Estate","shares":144,"position":8094.24},{"rank":65,"ticker":"K","momentum":14.1244729571,"atr":2.150735,"price":70.45,"sector":"Consumer Staples","shares":116,"position":8172.2},{"rank":66,"ticker":"HOLX","momentum":13.9124270933,"atr":2.11375,"price":78.39,"sector":"Health Care","shares":118,"position":9250.02},{"rank":67,"ticker":"L","momentum":13.5320955995,"atr":1.6725,"price":63.93,"sector":"Financials","shares":149,"position":9525.57},{"rank":68,"ticker":"CPB","momentum":13.2489901002,"atr":1.50469,"price":47.76,"sector":"Consumer Staples","shares":166,"position":7928.16},{"rank":69,"ticker":"PEG","momentum":13.200004948,"atr":1.44765,"price":68.7,"sector":"Utilities","shares":172,"position":11816.4},{"rank":70,"ticker":"PNW","momentum":13.1925195688,"atr":2.02036,"price":77.58,"sector":"Utilities","shares":123,"position":9542.34},{"rank":71,"ticker":"D","momentum":12.8270488465,"atr":2.045845,"price":84.92,"sector":"Utilities","shares":122,"position":10360.24},{"rank":72,"ticker":"NI","momentum":12.7007888951,"atr":0.6694,"price":31.24,"sector":"Utilities","shares":373,"position":11652.52},{"rank":73,"ticker":"REGN","momentum":12.3586269718,"atr":20.19306,"price":686.02,"sector":"Health Care","shares":12,"position":8232.24},{"rank":74,"ticker":"ALL","momentum":10.5801507222,"atr":3.3775,"price":128.83,"sector":"Financials","shares":74,"position":9533.42},{"rank":75,"ticker":"UNH","momentum":10.1791974074,"atr":14.621925,"price":497.56,"sector":"Health Care","shares":17,"position":8458.52},{"rank":76,"ticker":"SBAC","momentum":10.052934307,"atr":12.10625,"price":347.07,"sector":"Real Estate","shares":20,"position":6941.4},{"rank":77,"ticker":"BALL","momentum":9.3080501852,"atr":0.1,"price":70.11,"sector":"Materials","shares":2500,"position":175275.0},{"rank":78,"ticker":"LHX","momentum":8.8944933722,"atr":6.58295,"price":237.66,"sector":"Industrials","shares":37,"position":8793.42},{"rank":79,"ticker":"RSG","momentum":8.6887991381,"atr":3.621,"price":133.45,"sector":"Industrials","shares":69,"position":9208.05},{"rank":80,"ticker":"ES","momentum":7.9026703959,"atr":2.223035,"price":92.64,"sector":"Utilities","shares":112,"position":10375.68},{"rank":81,"ticker":"INCY","momentum":7.0824774116,"atr":2.54049,"price":75.11,"sector":"Health Care","shares":98,"position":7360.78},{"rank":82,"ticker":"CERN","momentum":6.9019936145,"atr":0.3692,"price":94.44,"sector":"Health Care","shares":677,"position":63935.88},{"rank":83,"ticker":"CB","momentum":6.3116473177,"atr":5.547655,"price":208.15,"sector":"Financials","shares":45,"position":9366.75},{"rank":84,"ticker":"CHRW","momentum":6.1405291043,"atr":3.8507,"price":104.79,"sector":"Industrials","shares":64,"position":6706.56},{"rank":85,"ticker":"SLB","momentum":6.012032185,"atr":2.07825,"price":43.9,"sector":"Energy","shares":120,"position":5268.0},{"rank":86,"ticker":"FE","momentum":5.7310452266,"atr":1.095,"price":43.26,"sector":"Utilities","shares":228,"position":9863.28},{"rank":87,"ticker":"MOH","momentum":5.7174515818,"atr":10.18199,"price":312.59,"sector":"Health Care","shares":24,"position":7502.16},{"rank":88,"ticker":"STZ","momentum":4.4517703204,"atr":5.85063,"price":244.0,"sector":"Consumer Staples","shares":42,"position":10248.0},{"rank":89,"ticker":"AMCR","momentum":3.6107452117,"atr":0.44654,"price":12.96,"sector":"Materials","shares":559,"position":7244.64},{"rank":90,"ticker":"CNC","momentum":3.5456217797,"atr":2.92275,"price":87.21,"sector":"Health Care","shares":85,"position":7412.85},{"rank":91,"ticker":"TRV","momentum":3.0149394479,"atr":3.75053,"price":173.91,"sector":"Financials","shares":66,"position":11478.06},{"rank":92,"ticker":"PGR","momentum":2.7798226169,"atr":3.26975,"price":114.73,"sector":"Financials","shares":76,"position":8719.48},{"rank":93,"ticker":"PSX","momentum":2.6243120156,"atr":3.82475,"price":96.77,"sector":"Energy","shares":65,"position":6290.05},{"rank":94,"ticker":"GIS","momentum":2.4242198582,"atr":1.883565,"price":69.14,"sector":"Consumer Staples","shares":132,"position":9126.48},{"rank":95,"ticker":"CCI","momentum":2.3015997708,"atr":5.128585,"price":191.61,"sector":"Real Estate","shares":48,"position":9197.28},{"rank":96,"ticker":"FANG","momentum":2.1221413685,"atr":7.31132,"price":135.78,"sector":"Energy","shares":34,"position":4616.52},{"rank":97,"ticker":"NRG","momentum":2.0053773714,"atr":1.44975,"price":45.81,"sector":"Utilities","shares":172,"position":7879.32},{"rank":98,"ticker":"LNT","momentum":1.1468663647,"atr":1.554125,"price":61.32,"sector":"Utilities","shares":160,"position":9811.2},{"rank":99,"ticker":"OGN","momentum":1.1212497666,"atr":1.27211,"price":37.52,"sector":"Health Care","shares":196,"position":7353.92},{"rank":100,"ticker":"GPC","momentum":0.3523206372,"atr":4.164755,"price":130.93,"sector":"Consumer Discretionary","shares":60,"position":7855.8},{"rank":101,"ticker":"LIN","momentum":0.3511382158,"atr":8.62012,"price":320.49,"sector":"Materials","shares":29,"position":9294.21},{"rank":102,"ticker":"DGX","momentum":0.2844019443,"atr":3.883875,"price":140.09,"sector":"Health Care","shares":64,"position":8965.76},{"rank":103,"ticker":"IP","momentum":0.2542813377,"atr":1.44425,"price":47.19,"sector":"Materials","shares":173,"position":8163.87},{"rank":104,"ticker":"MNST","momentum":0.1013234882,"atr":2.9457,"price":87.49,"sector":"Consumer Staples","shares":84,"position":7349.16},{"rank":105,"ticker":"PPL","momentum":0.0769647961,"atr":0.618445,"price":29.86,"sector":"Utilities","shares":404,"position":12063.44},{"rank":106,"ticker":"AMT","momentum":0.0320835898,"atr":7.95827,"price":258.52,"sector":"Real Estate","shares":31,"position":8014.12},{"rank":107,"ticker":"WDC","momentum":-0.0000003629,"atr":2.84401,"price":56.6,"sector":"Information Technology","shares":87,"position":4924.2},{"rank":108,"ticker":"PM","momentum":-0.1052384528,"atr":3.074,"price":106.62,"sector":"Consumer Staples","shares":81,"position":8636.22},{"rank":109,"ticker":"ADI","momentum":-0.1742704356,"atr":6.050365,"price":161.85,"sector":"Information Technology","shares":41,"position":6635.85},{"rank":110,"ticker":"PFE","momentum":-0.2203176312,"atr":1.48114,"price":53.41,"sector":"Health Care","shares":168,"position":8972.88},{"rank":111,"ticker":"GILD","momentum":-3.4198450953,"atr":1.331995,"price":64.35,"sector":"Health Care","shares":187,"position":12033.45},{"rank":112,"ticker":"EA","momentum":-9.2333600546,"atr":5.076355,"price":136.68,"sector":"Communication Services","shares":49,"position":6697.32}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

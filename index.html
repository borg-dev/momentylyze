<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VRTX","momentum":133.0961984547,"atr":6.32103,"price":230.25,"sector":"Health Care","shares":39,"position":8979.75},{"rank":2,"ticker":"ABBV","momentum":128.9021221789,"atr":3.01094,"price":145.27,"sector":"Health Care","shares":83,"position":12057.41},{"rank":3,"ticker":"MCK","momentum":123.6891773037,"atr":6.698215,"price":266.6,"sector":"Health Care","shares":37,"position":9864.2},{"rank":4,"ticker":"CERN","momentum":122.0614621245,"atr":0.555625,"price":93.11,"sector":"Health Care","shares":449,"position":41806.39},{"rank":5,"ticker":"DVN","momentum":108.6808077437,"atr":2.684335,"price":52.75,"sector":"Energy","shares":93,"position":4905.75},{"rank":6,"ticker":"MKC","momentum":97.4391696909,"atr":2.15325,"price":94.12,"sector":"Consumer Staples","shares":116,"position":10917.92},{"rank":7,"ticker":"HAL","momentum":75.421870276,"atr":1.28091,"price":31.47,"sector":"Energy","shares":195,"position":6136.65},{"rank":8,"ticker":"EOG","momentum":75.1783029917,"atr":4.35195,"price":110.1,"sector":"Energy","shares":57,"position":6275.7},{"rank":9,"ticker":"CVX","momentum":74.4717727922,"atr":3.793605,"price":134.85,"sector":"Energy","shares":65,"position":8765.25},{"rank":10,"ticker":"CF","momentum":74.1042042684,"atr":4.132395,"price":78.56,"sector":"Materials","shares":60,"position":4713.6},{"rank":11,"ticker":"PXD","momentum":69.6285763933,"atr":9.078855,"price":222.9,"sector":"Energy","shares":27,"position":6018.3},{"rank":12,"ticker":"COP","momentum":67.5237697565,"atr":3.29875,"price":87.73,"sector":"Energy","shares":75,"position":6579.75},{"rank":13,"ticker":"CVS","momentum":64.6027719108,"atr":2.552985,"price":100.77,"sector":"Health Care","shares":97,"position":9774.69},{"rank":14,"ticker":"XOM","momentum":64.3356749248,"atr":2.443455,"price":75.8,"sector":"Energy","shares":102,"position":7731.6},{"rank":15,"ticker":"PGR","momentum":62.7997535328,"atr":2.10016,"price":102.88,"sector":"Financials","shares":119,"position":12242.72},{"rank":16,"ticker":"NI","momentum":60.5604182749,"atr":0.698,"price":28.33,"sector":"Utilities","shares":358,"position":10142.14},{"rank":17,"ticker":"MU","momentum":59.3452514165,"atr":4.22399,"price":88.83,"sector":"Information Technology","shares":59,"position":5240.97},{"rank":18,"ticker":"TSN","momentum":56.9852751905,"atr":2.575005,"price":90.33,"sector":"Consumer Staples","shares":97,"position":8762.01},{"rank":19,"ticker":"HPQ","momentum":56.1178827515,"atr":1.074445,"price":34.53,"sector":"Information Technology","shares":232,"position":8010.96},{"rank":20,"ticker":"ADM","momentum":55.0077925462,"atr":1.640145,"price":75.85,"sector":"Consumer Staples","shares":152,"position":11529.2},{"rank":21,"ticker":"ATO","momentum":54.8586800276,"atr":2.20034,"price":104.75,"sector":"Utilities","shares":113,"position":11836.75},{"rank":22,"ticker":"FMC","momentum":53.1443483714,"atr":3.078325,"price":114.9,"sector":"Materials","shares":81,"position":9306.9},{"rank":23,"ticker":"HSY","momentum":52.8686268337,"atr":4.17842,"price":196.81,"sector":"Consumer Staples","shares":59,"position":11611.79},{"rank":24,"ticker":"BMY","momentum":50.4557546196,"atr":1.253095,"price":67.1,"sector":"Health Care","shares":199,"position":13352.9},{"rank":25,"ticker":"AFL","momentum":48.8815899413,"atr":1.413245,"price":59.62,"sector":"Financials","shares":176,"position":10493.12},{"rank":26,"ticker":"CHD","momentum":46.5811670426,"atr":2.2888,"price":95.06,"sector":"Consumer Staples","shares":109,"position":10361.54},{"rank":27,"ticker":"ABC","momentum":45.038014958,"atr":3.3655,"price":137.86,"sector":"Health Care","shares":74,"position":10201.64},{"rank":28,"ticker":"NEM","momentum":42.8790137146,"atr":2.01052,"price":66.72,"sector":"Materials","shares":124,"position":8273.28},{"rank":29,"ticker":"MPC","momentum":42.3789832371,"atr":2.443695,"price":74.46,"sector":"Energy","shares":102,"position":7594.92},{"rank":30,"ticker":"APA","momentum":40.9916928682,"atr":1.654575,"price":32.31,"sector":"Energy","shares":151,"position":4878.81},{"rank":31,"ticker":"MTB","momentum":39.7270113525,"atr":5.2537,"price":174.47,"sector":"Financials","shares":47,"position":8200.09},{"rank":32,"ticker":"HRL","momentum":38.3982321224,"atr":0.8575,"price":47.03,"sector":"Consumer Staples","shares":291,"position":13685.73},{"rank":33,"ticker":"SLB","momentum":37.9521851912,"atr":1.67094,"price":38.32,"sector":"Energy","shares":149,"position":5709.68},{"rank":34,"ticker":"KO","momentum":37.6491606812,"atr":1.28875,"price":60.51,"sector":"Consumer Staples","shares":193,"position":11678.43},{"rank":35,"ticker":"SJM","momentum":37.5359850089,"atr":3.197885,"price":133.77,"sector":"Consumer Staples","shares":78,"position":10434.06},{"rank":36,"ticker":"CNC","momentum":36.72022336,"atr":2.2165,"price":80.84,"sector":"Health Care","shares":112,"position":9054.08},{"rank":37,"ticker":"JNPR","momentum":36.4093169742,"atr":1.06617,"price":33.67,"sector":"Information Technology","shares":234,"position":7878.78},{"rank":38,"ticker":"HPE","momentum":36.3639488998,"atr":0.483405,"price":16.25,"sector":"Information Technology","shares":517,"position":8401.25},{"rank":39,"ticker":"STX","momentum":35.1735938538,"atr":4.21612,"price":103.16,"sector":"Information Technology","shares":59,"position":6086.44},{"rank":40,"ticker":"BRK.B","momentum":34.6795581867,"atr":5.827075,"price":308.28,"sector":"Financials","shares":42,"position":12947.76},{"rank":41,"ticker":"EMN","momentum":33.0854841814,"atr":3.07827,"price":117.77,"sector":"Materials","shares":81,"position":9539.37},{"rank":42,"ticker":"MDLZ","momentum":32.5743726054,"atr":1.411995,"price":64.65,"sector":"Consumer Staples","shares":177,"position":11443.05},{"rank":43,"ticker":"GL","momentum":32.3315950246,"atr":2.54087,"price":100.1,"sector":"Financials","shares":98,"position":9809.8},{"rank":44,"ticker":"LMT","momentum":32.1346850006,"atr":7.828325,"price":395.71,"sector":"Industrials","shares":31,"position":12267.01},{"rank":45,"ticker":"ED","momentum":31.4421064011,"atr":1.88615,"price":83.31,"sector":"Utilities","shares":132,"position":10996.92},{"rank":46,"ticker":"PM","momentum":31.2489295769,"atr":2.10497,"price":102.79,"sector":"Consumer Staples","shares":118,"position":12129.22},{"rank":47,"ticker":"GIS","momentum":30.6680341352,"atr":1.32144,"price":65.56,"sector":"Consumer Staples","shares":189,"position":12390.84},{"rank":48,"ticker":"PBCT","momentum":29.9560443615,"atr":0.631495,"price":19.95,"sector":"Financials","shares":395,"position":7880.25},{"rank":49,"ticker":"MO","momentum":29.7896021614,"atr":1.012475,"price":49.57,"sector":"Consumer Staples","shares":246,"position":12194.22},{"rank":50,"ticker":"KR","momentum":29.719641266,"atr":1.31415,"price":44.44,"sector":"Consumer Staples","shares":190,"position":8443.6},{"rank":51,"ticker":"BDX","momentum":28.5647160144,"atr":5.96613,"price":266.29,"sector":"Health Care","shares":41,"position":10917.89},{"rank":52,"ticker":"OXY","momentum":27.7837119683,"atr":1.959235,"price":38.92,"sector":"Energy","shares":127,"position":4942.84},{"rank":53,"ticker":"CPB","momentum":27.3553133217,"atr":0.9171,"price":43.54,"sector":"Consumer Staples","shares":272,"position":11842.88},{"rank":54,"ticker":"CTSH","momentum":27.2466599723,"atr":2.59316,"price":86.08,"sector":"Information Technology","shares":96,"position":8263.68},{"rank":55,"ticker":"FE","momentum":27.0390634133,"atr":0.93325,"price":39.85,"sector":"Utilities","shares":267,"position":10639.95},{"rank":56,"ticker":"CME","momentum":26.3166465055,"atr":6.378725,"price":237.26,"sector":"Financials","shares":39,"position":9253.14},{"rank":57,"ticker":"BKR","momentum":25.920461416,"atr":1.13218,"price":28.72,"sector":"Energy","shares":220,"position":6318.4},{"rank":58,"ticker":"AAPL","momentum":25.5594248876,"atr":4.72585,"price":162.74,"sector":"Information Technology","shares":52,"position":8462.48},{"rank":59,"ticker":"WRB","momentum":25.5384471095,"atr":2.175825,"price":87.65,"sector":"Financials","shares":114,"position":9992.1},{"rank":60,"ticker":"WFC","momentum":24.4608197244,"atr":1.74329,"price":52.71,"sector":"Financials","shares":143,"position":7537.53},{"rank":61,"ticker":"WY","momentum":24.4502156487,"atr":1.22061,"price":38.23,"sector":"Real Estate","shares":204,"position":7798.92},{"rank":62,"ticker":"CMA","momentum":24.3533852784,"atr":3.072475,"price":90.98,"sector":"Financials","shares":81,"position":7369.38},{"rank":63,"ticker":"AMGN","momentum":24.1686547537,"atr":5.696965,"price":219.27,"sector":"Health Care","shares":43,"position":9428.61},{"rank":64,"ticker":"CAG","momentum":23.6384826748,"atr":0.74785,"price":34.31,"sector":"Consumer Staples","shares":334,"position":11459.54},{"rank":65,"ticker":"PSA","momentum":22.6560457682,"atr":9.482185,"price":351.63,"sector":"Real Estate","shares":26,"position":9142.38},{"rank":66,"ticker":"CTVA","momentum":22.1253638445,"atr":1.2815,"price":50.05,"sector":"Materials","shares":195,"position":9759.75},{"rank":67,"ticker":"BAX","momentum":20.6041856772,"atr":1.98575,"price":84.65,"sector":"Health Care","shares":125,"position":10581.25},{"rank":68,"ticker":"PCAR","momentum":20.1746110232,"atr":2.246825,"price":91.95,"sector":"Industrials","shares":111,"position":10206.45},{"rank":69,"ticker":"QCOM","momentum":20.1020971781,"atr":8.20887,"price":167.98,"sector":"Information Technology","shares":30,"position":5039.4},{"rank":70,"ticker":"SEE","momentum":19.9276900952,"atr":1.9475,"price":66.76,"sector":"Materials","shares":128,"position":8545.28},{"rank":71,"ticker":"TAP","momentum":18.2175446262,"atr":1.302995,"price":49.42,"sector":"Consumer Staples","shares":191,"position":9439.22},{"rank":72,"ticker":"HWM","momentum":17.2299093338,"atr":1.15865,"price":34.38,"sector":"Industrials","shares":215,"position":7391.7},{"rank":73,"ticker":"SRE","momentum":16.9744982313,"atr":2.39875,"price":134.23,"sector":"Utilities","shares":104,"position":13959.92},{"rank":74,"ticker":"CFG","momentum":16.9454031425,"atr":1.576,"price":50.48,"sector":"Financials","shares":158,"position":7975.84},{"rank":75,"ticker":"PSX","momentum":16.7224700778,"atr":3.087535,"price":83.48,"sector":"Energy","shares":80,"position":6678.4},{"rank":76,"ticker":"VLO","momentum":16.6739103764,"atr":3.08807,"price":83.84,"sector":"Energy","shares":80,"position":6707.2},{"rank":77,"ticker":"CI","momentum":16.5254730082,"atr":6.444675,"price":224.43,"sector":"Health Care","shares":38,"position":8528.34},{"rank":78,"ticker":"L","momentum":16.2634455408,"atr":1.425295,"price":59.0,"sector":"Financials","shares":175,"position":10325.0},{"rank":79,"ticker":"MOS","momentum":15.6938678002,"atr":2.18088,"price":45.35,"sector":"Materials","shares":114,"position":5169.9},{"rank":80,"ticker":"PKG","momentum":15.5662320205,"atr":3.72741,"price":145.99,"sector":"Materials","shares":67,"position":9781.33},{"rank":81,"ticker":"VTRS","momentum":15.4371883542,"atr":0.364765,"price":13.93,"sector":"Health Care","shares":685,"position":9542.05},{"rank":82,"ticker":"CB","momentum":15.0503482193,"atr":4.90967,"price":199.03,"sector":"Financials","shares":50,"position":9951.5},{"rank":83,"ticker":"TRV","momentum":14.9715451275,"atr":3.342375,"price":166.5,"sector":"Financials","shares":74,"position":12321.0},{"rank":84,"ticker":"RJF","momentum":14.9187295025,"atr":3.55136,"price":107.17,"sector":"Financials","shares":70,"position":7501.9},{"rank":85,"ticker":"ZION","momentum":13.4982650829,"atr":2.399135,"price":66.97,"sector":"Financials","shares":104,"position":6964.88},{"rank":86,"ticker":"NLOK","momentum":13.3512736969,"atr":0.942185,"price":27.26,"sector":"Information Technology","shares":265,"position":7223.9},{"rank":87,"ticker":"MA","momentum":12.7987940941,"atr":13.83037,"price":369.38,"sector":"Information Technology","shares":18,"position":6648.84},{"rank":88,"ticker":"FCX","momentum":12.6391624536,"atr":1.73063,"price":43.72,"sector":"Materials","shares":144,"position":6295.68},{"rank":89,"ticker":"FITB","momentum":12.5367102,"atr":1.432625,"price":45.76,"sector":"Financials","shares":174,"position":7962.24},{"rank":90,"ticker":"D","momentum":11.8372098464,"atr":1.644,"price":77.16,"sector":"Utilities","shares":152,"position":11728.32},{"rank":91,"ticker":"RE","momentum":11.0077395508,"atr":7.751275,"price":291.5,"sector":"Financials","shares":32,"position":9328.0},{"rank":92,"ticker":"HES","momentum":10.9108717538,"atr":3.62004,"price":95.26,"sector":"Energy","shares":69,"position":6572.94},{"rank":93,"ticker":"GD","momentum":10.7212925415,"atr":4.415855,"price":218.53,"sector":"Industrials","shares":56,"position":12237.68},{"rank":94,"ticker":"ANTM","momentum":10.5645753865,"atr":11.423775,"price":441.81,"sector":"Health Care","shares":21,"position":9278.01},{"rank":95,"ticker":"MET","momentum":10.2828659407,"atr":1.956285,"price":66.22,"sector":"Financials","shares":127,"position":8409.94},{"rank":96,"ticker":"AEP","momentum":9.9709431993,"atr":1.71688,"price":86.56,"sector":"Utilities","shares":145,"position":12551.2},{"rank":97,"ticker":"GLW","momentum":9.3844553348,"atr":1.05556,"price":40.51,"sector":"Information Technology","shares":236,"position":9560.36},{"rank":98,"ticker":"MAR","momentum":7.9997480275,"atr":5.953775,"price":168.75,"sector":"Consumer Discretionary","shares":41,"position":6918.75},{"rank":99,"ticker":"AVGO","momentum":7.8453642018,"atr":21.401645,"price":580.0,"sector":"Information Technology","shares":11,"position":6380.0},{"rank":100,"ticker":"K","momentum":5.5380339227,"atr":1.4262,"price":63.79,"sector":"Consumer Staples","shares":175,"position":11163.25},{"rank":101,"ticker":"SBNY","momentum":4.9918755225,"atr":14.23325,"price":325.7,"sector":"Financials","shares":17,"position":5536.9},{"rank":102,"ticker":"UNP","momentum":4.3925313449,"atr":5.68535,"price":242.09,"sector":"Industrials","shares":43,"position":10409.87},{"rank":103,"ticker":"SYY","momentum":4.2189337853,"atr":2.35225,"price":84.96,"sector":"Consumer Staples","shares":106,"position":9005.76},{"rank":104,"ticker":"DVA","momentum":4.0324070056,"atr":2.858375,"price":111.89,"sector":"Health Care","shares":87,"position":9734.43},{"rank":105,"ticker":"NOC","momentum":3.7716130505,"atr":11.23151,"price":395.49,"sector":"Industrials","shares":22,"position":8700.78},{"rank":106,"ticker":"BRO","momentum":3.602258021,"atr":1.96059,"price":66.15,"sector":"Financials","shares":127,"position":8401.05},{"rank":107,"ticker":"HST","momentum":3.5977874853,"atr":0.658395,"price":18.49,"sector":"Real Estate","shares":379,"position":7007.71},{"rank":108,"ticker":"KIM","momentum":3.4954244442,"atr":0.747,"price":23.82,"sector":"Real Estate","shares":334,"position":7955.88},{"rank":109,"ticker":"RTX","momentum":2.7694968657,"atr":2.16657,"price":94.25,"sector":"Industrials","shares":115,"position":10838.75},{"rank":110,"ticker":"WMB","momentum":2.5281835018,"atr":0.77225,"price":29.96,"sector":"Energy","shares":323,"position":9677.08},{"rank":111,"ticker":"UHS","momentum":2.4334503184,"atr":3.932905,"price":136.39,"sector":"Health Care","shares":63,"position":8592.57},{"rank":112,"ticker":"CTRA","momentum":2.224477191,"atr":0.96991,"price":22.24,"sector":"Energy","shares":257,"position":5715.68},{"rank":113,"ticker":"DOW","momentum":2.0949381541,"atr":1.6195,"price":58.72,"sector":"Materials","shares":154,"position":9042.88},{"rank":114,"ticker":"HLT","momentum":2.0796040736,"atr":5.44186,"price":146.09,"sector":"Consumer Discretionary","shares":45,"position":6574.05},{"rank":115,"ticker":"JKHY","momentum":2.0056654965,"atr":4.58185,"price":170.07,"sector":"Information Technology","shares":54,"position":9183.78},{"rank":116,"ticker":"AXP","momentum":1.7535076222,"atr":5.079995,"price":188.35,"sector":"Financials","shares":49,"position":9229.15},{"rank":117,"ticker":"UPS","momentum":1.3805882829,"atr":6.9571,"price":207.19,"sector":"Industrials","shares":35,"position":7251.65},{"rank":118,"ticker":"AIG","momentum":1.3576614083,"atr":1.92188,"price":60.38,"sector":"Financials","shares":130,"position":7849.4},{"rank":119,"ticker":"VZ","momentum":1.2507697787,"atr":0.908125,"price":52.59,"sector":"Communication Services","shares":275,"position":14462.25},{"rank":120,"ticker":"DXC","momentum":0.8608328761,"atr":1.4855,"price":35.06,"sector":"Information Technology","shares":168,"position":5890.08},{"rank":121,"ticker":"V","momentum":0.8512249456,"atr":6.72789,"price":217.3,"sector":"Information Technology","shares":37,"position":8040.1},{"rank":122,"ticker":"NWL","momentum":0.6961473124,"atr":0.948905,"price":23.88,"sector":"Consumer Discretionary","shares":263,"position":6280.44},{"rank":123,"ticker":"RHI","momentum":0.6080224501,"atr":3.497745,"price":116.88,"sector":"Industrials","shares":71,"position":8298.48},{"rank":124,"ticker":"ALK","momentum":0.4268226358,"atr":2.371215,"price":56.2,"sector":"Industrials","shares":105,"position":5901.0},{"rank":125,"ticker":"ALL","momentum":0.3843298443,"atr":3.254225,"price":120.82,"sector":"Financials","shares":76,"position":9182.32},{"rank":126,"ticker":"BSX","momentum":0.3613669813,"atr":1.238,"price":43.95,"sector":"Health Care","shares":201,"position":8833.95},{"rank":127,"ticker":"HSIC","momentum":0.3514969796,"atr":2.3007,"price":83.98,"sector":"Health Care","shares":108,"position":9069.84},{"rank":128,"ticker":"NUE","momentum":0.3354341993,"atr":4.927665,"price":120.9,"sector":"Materials","shares":50,"position":6045.0},{"rank":129,"ticker":"BXP","momentum":0.239609379,"atr":3.428465,"price":120.01,"sector":"Real Estate","shares":72,"position":8640.72},{"rank":130,"ticker":"KHC","momentum":0.0205112876,"atr":1.05095,"price":38.98,"sector":"Consumer Staples","shares":237,"position":9238.26},{"rank":131,"ticker":"FOXA","momentum":0.0163057279,"atr":1.253105,"price":40.87,"sector":"Communication Services","shares":199,"position":8133.13},{"rank":132,"ticker":"TDG","momentum":0.0008326051,"atr":22.295625,"price":649.18,"sector":"Industrials","shares":11,"position":7140.98},{"rank":133,"ticker":"TMUS","momentum":-0.0000195391,"atr":3.6765,"price":123.66,"sector":"Communication Services","shares":67,"position":8285.22},{"rank":134,"ticker":"FOX","momentum":-0.0181138315,"atr":1.091,"price":37.26,"sector":"Communication Services","shares":229,"position":8532.54},{"rank":135,"ticker":"CINF","momentum":-0.0236867737,"atr":3.31245,"price":119.42,"sector":"Financials","shares":75,"position":8956.5},{"rank":136,"ticker":"OGN","momentum":-0.2137081064,"atr":1.0249,"price":36.03,"sector":"Health Care","shares":243,"position":8755.29},{"rank":137,"ticker":"WAB","momentum":-0.3035210512,"atr":3.19013,"price":92.98,"sector":"Industrials","shares":78,"position":7252.44},{"rank":138,"ticker":"XRAY","momentum":-0.3415644884,"atr":1.390295,"price":56.28,"sector":"Health Care","shares":179,"position":10074.12},{"rank":139,"ticker":"RL","momentum":-0.6224813871,"atr":4.6835,"price":128.93,"sector":"Consumer Discretionary","shares":53,"position":6833.29},{"rank":140,"ticker":"AIZ","momentum":-0.7228006574,"atr":4.04325,"price":163.5,"sector":"Financials","shares":61,"position":9973.5},{"rank":141,"ticker":"LHX","momentum":-1.8746145652,"atr":5.82655,"price":228.47,"sector":"Industrials","shares":42,"position":9595.74},{"rank":142,"ticker":"HII","momentum":-4.8435817202,"atr":4.744585,"price":191.99,"sector":"Industrials","shares":52,"position":9983.48},{"rank":143,"ticker":"LDOS","momentum":-8.830936775,"atr":3.24347,"price":95.48,"sector":"Industrials","shares":77,"position":7351.96},{"rank":144,"ticker":"TFX","momentum":-10.3335993774,"atr":9.57875,"price":338.06,"sector":"Health Care","shares":26,"position":8789.56},{"rank":145,"ticker":"CEG","momentum":-60.7865009667,"atr":0.1,"price":44.32,"sector":"Utilities","shares":2500,"position":110800.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

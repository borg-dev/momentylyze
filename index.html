<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MOS","momentum":760.3597406236,"atr":4.195095,"price":63.67,"sector":"Materials","shares":59,"position":3756.53},{"rank":2,"ticker":"HAL","momentum":374.9459067515,"atr":1.731325,"price":35.12,"sector":"Energy","shares":144,"position":5057.28},{"rank":3,"ticker":"CF","momentum":325.7642530117,"atr":5.949605,"price":95.0,"sector":"Materials","shares":42,"position":3990.0},{"rank":4,"ticker":"MRO","momentum":321.6039775645,"atr":1.117995,"price":24.08,"sector":"Energy","shares":223,"position":5369.84},{"rank":5,"ticker":"APA","momentum":290.7692130119,"atr":2.04016,"price":38.62,"sector":"Energy","shares":122,"position":4711.64},{"rank":6,"ticker":"CEG","momentum":282.5773217888,"atr":2.749565,"price":59.95,"sector":"Utilities","shares":90,"position":5395.5},{"rank":7,"ticker":"BKR","momentum":249.323390682,"atr":1.62058,"price":31.35,"sector":"Energy","shares":154,"position":4827.9},{"rank":8,"ticker":"CVX","momentum":220.5236871681,"atr":4.389725,"price":156.53,"sector":"Energy","shares":56,"position":8765.68},{"rank":9,"ticker":"CTRA","momentum":219.8852966879,"atr":1.179565,"price":28.55,"sector":"Energy","shares":211,"position":6024.05},{"rank":10,"ticker":"ADM","momentum":214.0418228416,"atr":2.7724,"price":90.64,"sector":"Consumer Staples","shares":90,"position":8157.6},{"rank":11,"ticker":"NUE","momentum":206.9394735456,"atr":7.314,"price":157.03,"sector":"Materials","shares":34,"position":5339.02},{"rank":12,"ticker":"HES","momentum":178.295570313,"atr":3.77758,"price":101.48,"sector":"Energy","shares":66,"position":6697.68},{"rank":13,"ticker":"NEM","momentum":169.018561264,"atr":2.92551,"price":72.13,"sector":"Materials","shares":85,"position":6131.05},{"rank":14,"ticker":"DVN","momentum":168.2360421376,"atr":2.59746,"price":56.4,"sector":"Energy","shares":96,"position":5414.4},{"rank":15,"ticker":"VLO","momentum":156.8136439345,"atr":3.81681,"price":105.14,"sector":"Energy","shares":65,"position":6834.1},{"rank":16,"ticker":"MCK","momentum":150.3097484339,"atr":7.03083,"price":316.26,"sector":"Health Care","shares":35,"position":11069.1},{"rank":17,"ticker":"COP","momentum":139.4500472496,"atr":3.53586,"price":91.32,"sector":"Energy","shares":70,"position":6392.4},{"rank":18,"ticker":"PXD","momentum":135.6705799461,"atr":8.393855,"price":228.69,"sector":"Energy","shares":29,"position":6632.01},{"rank":19,"ticker":"LMT","momentum":134.8200789877,"atr":11.63373,"price":446.09,"sector":"Industrials","shares":21,"position":9367.89},{"rank":20,"ticker":"WMB","momentum":128.7864296161,"atr":0.83325,"price":34.31,"sector":"Energy","shares":300,"position":10293.0},{"rank":21,"ticker":"EOG","momentum":128.7049645331,"atr":4.423235,"price":111.59,"sector":"Energy","shares":56,"position":6249.04},{"rank":22,"ticker":"SRE","momentum":128.2278490457,"atr":3.174805,"price":164.44,"sector":"Utilities","shares":78,"position":12826.32},{"rank":23,"ticker":"XOM","momentum":125.8709980469,"atr":2.418635,"price":82.29,"sector":"Energy","shares":103,"position":8475.87},{"rank":24,"ticker":"CTVA","momentum":121.0554223791,"atr":1.39825,"price":56.63,"sector":"Materials","shares":178,"position":10080.14},{"rank":25,"ticker":"MPC","momentum":119.5708575022,"atr":2.473535,"price":85.47,"sector":"Energy","shares":101,"position":8632.47},{"rank":26,"ticker":"FMC","momentum":117.0600843751,"atr":3.449505,"price":130.67,"sector":"Materials","shares":72,"position":9408.24},{"rank":27,"ticker":"KR","momentum":113.1388243963,"atr":1.56515,"price":55.72,"sector":"Consumer Staples","shares":159,"position":8859.48},{"rank":28,"ticker":"WRB","momentum":109.7425931644,"atr":1.359495,"price":67.29,"sector":"Financials","shares":183,"position":12314.07},{"rank":29,"ticker":"SLB","momentum":101.7152629179,"atr":1.96825,"price":39.54,"sector":"Energy","shares":127,"position":5021.58},{"rank":30,"ticker":"ABC","momentum":99.9600551647,"atr":3.503645,"price":157.25,"sector":"Health Care","shares":71,"position":11164.75},{"rank":31,"ticker":"AIZ","momentum":95.4632853789,"atr":3.29634,"price":184.89,"sector":"Financials","shares":75,"position":13866.75},{"rank":32,"ticker":"ABBV","momentum":93.2168129665,"atr":4.56106,"price":156.18,"sector":"Health Care","shares":54,"position":8433.72},{"rank":33,"ticker":"BMY","momentum":91.7084062151,"atr":1.298015,"price":75.59,"sector":"Health Care","shares":192,"position":14513.28},{"rank":34,"ticker":"LDOS","momentum":91.3278406681,"atr":1.917745,"price":106.63,"sector":"Industrials","shares":130,"position":13861.9},{"rank":35,"ticker":"EXC","momentum":86.2007381259,"atr":0.99825,"price":48.42,"sector":"Utilities","shares":250,"position":12105.0},{"rank":36,"ticker":"VRTX","momentum":82.5574356119,"atr":6.43709,"price":267.69,"sector":"Health Care","shares":38,"position":10172.22},{"rank":37,"ticker":"CINF","momentum":78.569988927,"atr":2.66126,"price":134.03,"sector":"Financials","shares":93,"position":12464.79},{"rank":38,"ticker":"VTR","momentum":78.3323527705,"atr":1.266,"price":57.9,"sector":"Real Estate","shares":197,"position":11406.3},{"rank":39,"ticker":"JKHY","momentum":75.0296906253,"atr":3.75498,"price":193.61,"sector":"Information Technology","shares":66,"position":12778.26},{"rank":40,"ticker":"OKE","momentum":74.0134276873,"atr":1.85398,"price":65.27,"sector":"Energy","shares":134,"position":8746.18},{"rank":41,"ticker":"LHX","momentum":72.6103426037,"atr":6.59335,"price":240.35,"sector":"Industrials","shares":37,"position":8892.95},{"rank":42,"ticker":"GD","momentum":71.5473626391,"atr":4.68124,"price":236.93,"sector":"Industrials","shares":53,"position":12557.29},{"rank":43,"ticker":"PKG","momentum":70.0725174077,"atr":3.376125,"price":159.44,"sector":"Materials","shares":74,"position":11798.56},{"rank":44,"ticker":"HSIC","momentum":69.842539409,"atr":1.890205,"price":85.36,"sector":"Health Care","shares":132,"position":11267.52},{"rank":45,"ticker":"RTX","momentum":68.8370252621,"atr":2.28728,"price":99.19,"sector":"Industrials","shares":109,"position":10811.71},{"rank":46,"ticker":"NOC","momentum":65.3084854217,"atr":12.158445,"price":442.51,"sector":"Industrials","shares":20,"position":8850.2},{"rank":47,"ticker":"ATO","momentum":63.4288321619,"atr":2.221525,"price":117.05,"sector":"Utilities","shares":112,"position":13109.6},{"rank":48,"ticker":"ALL","momentum":59.1987899161,"atr":2.99066,"price":128.98,"sector":"Financials","shares":83,"position":10705.34},{"rank":49,"ticker":"HSY","momentum":57.9503818022,"atr":3.91989,"price":220.13,"sector":"Consumer Staples","shares":63,"position":13868.19},{"rank":50,"ticker":"NI","momentum":56.2057265239,"atr":0.570055,"price":30.2,"sector":"Utilities","shares":438,"position":13227.6},{"rank":51,"ticker":"KMI","momentum":53.7469243609,"atr":0.42957,"price":18.44,"sector":"Energy","shares":581,"position":10713.64},{"rank":52,"ticker":"PWR","momentum":53.2758417748,"atr":4.16544,"price":117.07,"sector":"Industrials","shares":60,"position":7024.2},{"rank":53,"ticker":"BRK.B","momentum":49.7165490615,"atr":6.146365,"price":330.65,"sector":"Financials","shares":40,"position":13226.0},{"rank":54,"ticker":"TRV","momentum":48.6070827289,"atr":3.65733,"price":172.66,"sector":"Financials","shares":68,"position":11740.88},{"rank":55,"ticker":"TAP","momentum":47.638801,"atr":1.325945,"price":54.17,"sector":"Consumer Staples","shares":188,"position":10183.96},{"rank":56,"ticker":"ED","momentum":46.8459955654,"atr":1.734495,"price":95.16,"sector":"Utilities","shares":144,"position":13703.04},{"rank":57,"ticker":"FE","momentum":44.6314111892,"atr":0.85,"price":44.98,"sector":"Utilities","shares":294,"position":13224.12},{"rank":58,"ticker":"AEP","momentum":44.4033002029,"atr":1.86411,"price":99.24,"sector":"Utilities","shares":134,"position":13298.16},{"rank":59,"ticker":"CNP","momentum":42.4623236228,"atr":0.60751,"price":31.29,"sector":"Utilities","shares":411,"position":12860.19},{"rank":60,"ticker":"DOW","momentum":41.9124687072,"atr":1.71025,"price":67.37,"sector":"Materials","shares":146,"position":9836.02},{"rank":61,"ticker":"MO","momentum":41.4306755518,"atr":0.82951,"price":54.88,"sector":"Consumer Staples","shares":301,"position":16518.88},{"rank":62,"ticker":"KHC","momentum":40.0644096716,"atr":0.887155,"price":42.31,"sector":"Consumer Staples","shares":281,"position":11889.11},{"rank":63,"ticker":"REGN","momentum":37.9223852369,"atr":17.068975,"price":674.82,"sector":"Health Care","shares":14,"position":9447.48},{"rank":64,"ticker":"TMUS","momentum":36.4128056291,"atr":2.896445,"price":124.96,"sector":"Communication Services","shares":86,"position":10746.56},{"rank":65,"ticker":"L","momentum":36.0486906944,"atr":1.191815,"price":63.44,"sector":"Financials","shares":209,"position":13258.96},{"rank":66,"ticker":"HII","momentum":35.1576197769,"atr":6.000265,"price":218.66,"sector":"Industrials","shares":41,"position":8965.06},{"rank":67,"ticker":"WELL","momentum":35.0447969782,"atr":1.91501,"price":95.26,"sector":"Real Estate","shares":130,"position":12383.8},{"rank":68,"ticker":"PNW","momentum":34.8925903787,"atr":1.43162,"price":75.41,"sector":"Utilities","shares":174,"position":13121.34},{"rank":69,"ticker":"LYB","momentum":33.1141714761,"atr":2.95909,"price":104.26,"sector":"Materials","shares":84,"position":8757.84},{"rank":70,"ticker":"AON","momentum":32.6347615268,"atr":6.13075,"price":310.27,"sector":"Financials","shares":40,"position":12410.8},{"rank":71,"ticker":"HST","momentum":32.4181206167,"atr":0.666025,"price":20.42,"sector":"Real Estate","shares":375,"position":7657.5},{"rank":72,"ticker":"ANTM","momentum":31.6740470493,"atr":12.142565,"price":502.31,"sector":"Health Care","shares":20,"position":10046.2},{"rank":73,"ticker":"CB","momentum":29.5378153168,"atr":4.161755,"price":203.4,"sector":"Financials","shares":60,"position":12204.0},{"rank":74,"ticker":"D","momentum":29.1868836914,"atr":1.50769,"price":83.57,"sector":"Utilities","shares":165,"position":13789.05},{"rank":75,"ticker":"CMS","momentum":27.3754198327,"atr":1.29256,"price":70.38,"sector":"Utilities","shares":193,"position":13583.34},{"rank":76,"ticker":"HWM","momentum":26.7043563486,"atr":0.933195,"price":34.26,"sector":"Industrials","shares":267,"position":9147.42},{"rank":77,"ticker":"TDY","momentum":26.2878335471,"atr":9.30874,"price":462.57,"sector":"Industrials","shares":26,"position":12026.82},{"rank":78,"ticker":"AMGN","momentum":24.7704767885,"atr":4.48739,"price":249.87,"sector":"Health Care","shares":55,"position":13742.85},{"rank":79,"ticker":"MOH","momentum":24.5710134421,"atr":8.333475,"price":321.55,"sector":"Health Care","shares":29,"position":9324.95},{"rank":80,"ticker":"CI","momentum":21.931101991,"atr":6.02975,"price":252.6,"sector":"Health Care","shares":41,"position":10356.6},{"rank":81,"ticker":"SYY","momentum":21.0106778658,"atr":1.897705,"price":87.65,"sector":"Consumer Staples","shares":131,"position":11482.15},{"rank":82,"ticker":"PEG","momentum":20.7727618286,"atr":1.2575,"price":71.26,"sector":"Utilities","shares":198,"position":14109.48},{"rank":83,"ticker":"IRM","momentum":19.3622963564,"atr":1.211345,"price":54.64,"sector":"Real Estate","shares":206,"position":11255.84},{"rank":84,"ticker":"LLY","momentum":18.6531317719,"atr":6.94253,"price":282.83,"sector":"Health Care","shares":36,"position":10181.88},{"rank":85,"ticker":"HRL","momentum":18.6359603646,"atr":0.900745,"price":52.36,"sector":"Consumer Staples","shares":277,"position":14503.72},{"rank":86,"ticker":"FLT","momentum":18.5541436528,"atr":6.02909,"price":246.51,"sector":"Information Technology","shares":41,"position":10106.91},{"rank":87,"ticker":"PSA","momentum":18.3899089441,"atr":8.99759,"price":394.2,"sector":"Real Estate","shares":27,"position":10643.4},{"rank":88,"ticker":"DUK","momentum":17.8805945412,"atr":1.863535,"price":113.5,"sector":"Utilities","shares":134,"position":15209.0},{"rank":89,"ticker":"XEL","momentum":17.2496165489,"atr":1.2175,"price":73.38,"sector":"Utilities","shares":205,"position":15042.9},{"rank":90,"ticker":"MET","momentum":16.3292466698,"atr":1.54095,"price":66.72,"sector":"Financials","shares":162,"position":10808.64},{"rank":91,"ticker":"UNH","momentum":15.7149711793,"atr":12.079745,"price":513.78,"sector":"Health Care","shares":20,"position":10275.6},{"rank":92,"ticker":"PGR","momentum":15.5000915224,"atr":2.80104,"price":108.41,"sector":"Financials","shares":89,"position":9648.49},{"rank":93,"ticker":"SO","momentum":15.4970334565,"atr":1.47046,"price":73.74,"sector":"Utilities","shares":170,"position":12535.8},{"rank":94,"ticker":"AEE","momentum":14.7440319262,"atr":1.48275,"price":94.92,"sector":"Utilities","shares":168,"position":15946.56},{"rank":95,"ticker":"BXP","momentum":14.5787055683,"atr":2.6995,"price":124.14,"sector":"Real Estate","shares":92,"position":11420.88},{"rank":96,"ticker":"KO","momentum":14.1866872799,"atr":1.0078,"price":65.05,"sector":"Consumer Staples","shares":248,"position":16132.4},{"rank":97,"ticker":"AXP","momentum":13.007401294,"atr":4.734095,"price":178.65,"sector":"Financials","shares":52,"position":9289.8},{"rank":98,"ticker":"ETR","momentum":12.797150367,"atr":2.310975,"price":120.66,"sector":"Utilities","shares":108,"position":13031.28},{"rank":99,"ticker":"WMT","momentum":12.2805584358,"atr":2.9346,"price":155.3,"sector":"Consumer Staples","shares":85,"position":13200.5},{"rank":100,"ticker":"MAR","momentum":11.9639812434,"atr":5.91675,"price":177.25,"sector":"Consumer Discretionary","shares":42,"position":7444.5},{"rank":101,"ticker":"WRK","momentum":11.800149344,"atr":1.22357,"price":48.84,"sector":"Materials","shares":204,"position":9963.36},{"rank":102,"ticker":"MRK","momentum":11.2956338196,"atr":1.70676,"price":84.48,"sector":"Health Care","shares":146,"position":12334.08},{"rank":103,"ticker":"MDT","momentum":10.2088192727,"atr":2.27916,"price":106.78,"sector":"Health Care","shares":109,"position":11639.02},{"rank":104,"ticker":"JNJ","momentum":9.7580024268,"atr":3.19981,"price":184.68,"sector":"Health Care","shares":78,"position":14405.04},{"rank":105,"ticker":"MKC","momentum":9.1405943433,"atr":2.26853,"price":100.59,"sector":"Consumer Staples","shares":110,"position":11064.9},{"rank":106,"ticker":"COST","momentum":7.9339222332,"atr":13.65566,"price":553.76,"sector":"Consumer Staples","shares":18,"position":9967.68},{"rank":107,"ticker":"AJG","momentum":7.4471626366,"atr":3.723885,"price":173.52,"sector":"Financials","shares":67,"position":11625.84},{"rank":108,"ticker":"EIX","momentum":6.9597325213,"atr":1.29869,"price":70.23,"sector":"Utilities","shares":192,"position":13484.16},{"rank":109,"ticker":"INCY","momentum":6.8514389311,"atr":1.75677,"price":74.15,"sector":"Health Care","shares":142,"position":10529.3},{"rank":110,"ticker":"WEC","momentum":4.4852398474,"atr":1.79564,"price":102.63,"sector":"Utilities","shares":139,"position":14265.57},{"rank":111,"ticker":"LNT","momentum":4.4810399736,"atr":1.27875,"price":61.63,"sector":"Utilities","shares":195,"position":12017.85},{"rank":112,"ticker":"PSX","momentum":3.9529879295,"atr":3.0425,"price":81.88,"sector":"Energy","shares":82,"position":6714.16},{"rank":113,"ticker":"ORLY","momentum":3.5890337694,"atr":18.66228,"price":714.25,"sector":"Consumer Discretionary","shares":13,"position":9285.25},{"rank":114,"ticker":"CERN","momentum":2.7747532307,"atr":0.272705,"price":93.61,"sector":"Health Care","shares":916,"position":85746.76},{"rank":115,"ticker":"GL","momentum":2.6563703932,"atr":2.209605,"price":100.03,"sector":"Financials","shares":113,"position":11303.39},{"rank":116,"ticker":"ULTA","momentum":2.3863931314,"atr":12.599035,"price":407.33,"sector":"Consumer Discretionary","shares":19,"position":7739.27},{"rank":117,"ticker":"DG","momentum":2.041253551,"atr":5.319725,"price":245.0,"sector":"Consumer Discretionary","shares":46,"position":11270.0},{"rank":118,"ticker":"WY","momentum":1.8347357712,"atr":1.008435,"price":40.87,"sector":"Real Estate","shares":247,"position":10094.89},{"rank":119,"ticker":"CAT","momentum":1.8062083474,"atr":6.007375,"price":210.3,"sector":"Industrials","shares":41,"position":8622.3},{"rank":120,"ticker":"PAYX","momentum":1.754637126,"atr":3.489475,"price":129.51,"sector":"Information Technology","shares":71,"position":9195.21},{"rank":121,"ticker":"MTB","momentum":1.6817439312,"atr":5.956245,"price":169.21,"sector":"Financials","shares":41,"position":6937.61},{"rank":122,"ticker":"TSN","momentum":1.5996621926,"atr":1.885865,"price":92.58,"sector":"Consumer Staples","shares":132,"position":12220.56},{"rank":123,"ticker":"J","momentum":1.2843023563,"atr":3.14771,"price":137.83,"sector":"Industrials","shares":79,"position":10888.57},{"rank":124,"ticker":"KIM","momentum":1.268852634,"atr":0.5765,"price":25.18,"sector":"Real Estate","shares":433,"position":10902.94},{"rank":125,"ticker":"CPB","momentum":1.2545607505,"atr":0.828,"price":46.36,"sector":"Consumer Staples","shares":301,"position":13954.36},{"rank":126,"ticker":"EVRG","momentum":1.2080478491,"atr":1.11919,"price":69.23,"sector":"Utilities","shares":223,"position":15438.29},{"rank":127,"ticker":"LUV","momentum":0.9242618773,"atr":1.58449,"price":45.02,"sector":"Industrials","shares":157,"position":7068.14},{"rank":128,"ticker":"AZO","momentum":0.9007174575,"atr":55.731655,"price":2195.94,"sector":"Consumer Discretionary","shares":4,"position":8783.76},{"rank":129,"ticker":"AKAM","momentum":0.5571955185,"atr":2.188975,"price":115.03,"sector":"Information Technology","shares":114,"position":13113.42},{"rank":130,"ticker":"PLD","momentum":0.5505314774,"atr":4.178985,"price":165.63,"sector":"Real Estate","shares":59,"position":9772.17},{"rank":131,"ticker":"K","momentum":0.1655220765,"atr":1.112045,"price":68.26,"sector":"Consumer Staples","shares":224,"position":15290.24},{"rank":132,"ticker":"TGT","momentum":0.1615018182,"atr":6.57686,"price":236.5,"sector":"Consumer Discretionary","shares":38,"position":8987.0},{"rank":133,"ticker":"MMC","momentum":0.1365112276,"atr":3.284,"price":168.38,"sector":"Financials","shares":76,"position":12796.88},{"rank":134,"ticker":"GIS","momentum":0.1301034143,"atr":1.089755,"price":71.03,"sector":"Consumer Staples","shares":229,"position":16265.87},{"rank":135,"ticker":"HLT","momentum":0.1220837709,"atr":4.98116,"price":151.72,"sector":"Consumer Discretionary","shares":50,"position":7586.0},{"rank":136,"ticker":"ESS","momentum":0.0912985187,"atr":7.715,"price":344.74,"sector":"Real Estate","shares":32,"position":11031.68},{"rank":137,"ticker":"EQR","momentum":0.0799190909,"atr":2.06326,"price":89.09,"sector":"Real Estate","shares":121,"position":10779.89},{"rank":138,"ticker":"WTW","momentum":0.0427166173,"atr":5.279925,"price":235.16,"sector":"Financials","shares":47,"position":11052.52},{"rank":139,"ticker":"O","momentum":0.0293031648,"atr":1.2112,"price":71.93,"sector":"Real Estate","shares":206,"position":14817.58},{"rank":140,"ticker":"ES","momentum":0.014624765,"atr":1.642525,"price":89.72,"sector":"Utilities","shares":152,"position":13637.44},{"rank":141,"ticker":"PM","momentum":0.0017495901,"atr":1.895905,"price":102.77,"sector":"Consumer Staples","shares":131,"position":13462.87},{"rank":142,"ticker":"ROP","momentum":0.0014914705,"atr":9.62247,"price":472.01,"sector":"Industrials","shares":25,"position":11800.25},{"rank":143,"ticker":"WM","momentum":-0.0000234323,"atr":3.204535,"price":164.15,"sector":"Industrials","shares":78,"position":12803.7},{"rank":144,"ticker":"RSG","momentum":-0.0017107727,"atr":2.279195,"price":134.98,"sector":"Industrials","shares":109,"position":14712.82},{"rank":145,"ticker":"CAG","momentum":-0.0027131335,"atr":0.71346,"price":35.41,"sector":"Consumer Staples","shares":350,"position":12393.5},{"rank":146,"ticker":"CHD","momentum":-0.0071909125,"atr":1.97418,"price":102.59,"sector":"Consumer Staples","shares":126,"position":12926.34},{"rank":147,"ticker":"SNA","momentum":-0.0144157985,"atr":5.77565,"price":219.61,"sector":"Industrials","shares":43,"position":9443.23},{"rank":148,"ticker":"SBAC","momentum":-0.027401821,"atr":9.653,"price":351.2,"sector":"Real Estate","shares":25,"position":8780.0},{"rank":149,"ticker":"VRSK","momentum":-0.0382424528,"atr":4.269935,"price":208.24,"sector":"Industrials","shares":58,"position":12077.92},{"rank":150,"ticker":"SJM","momentum":-0.0982083239,"atr":2.71805,"price":139.61,"sector":"Consumer Staples","shares":91,"position":12704.51},{"rank":151,"ticker":"ADP","momentum":-0.2470359655,"atr":5.02445,"price":222.28,"sector":"Information Technology","shares":49,"position":10891.72},{"rank":152,"ticker":"EXR","momentum":-0.3350245409,"atr":5.142245,"price":204.47,"sector":"Real Estate","shares":48,"position":9814.56},{"rank":153,"ticker":"IBM","momentum":-0.4072658613,"atr":3.018315,"price":136.19,"sector":"Information Technology","shares":82,"position":11167.58},{"rank":154,"ticker":"EW","momentum":-0.4285428399,"atr":3.932745,"price":116.27,"sector":"Health Care","shares":63,"position":7325.01},{"rank":155,"ticker":"IP","momentum":-0.4554167383,"atr":0.984,"price":47.02,"sector":"Materials","shares":254,"position":11943.08},{"rank":156,"ticker":"STZ","momentum":-0.5636939172,"atr":5.47798,"price":247.92,"sector":"Consumer Staples","shares":45,"position":11156.4},{"rank":157,"ticker":"CCI","momentum":-0.6159766814,"atr":3.915795,"price":188.62,"sector":"Real Estate","shares":63,"position":11883.06},{"rank":158,"ticker":"T","momentum":-0.6385344165,"atr":0.4904176737,"price":19.3,"sector":"Communication Services","shares":509,"position":9823.7},{"rank":159,"ticker":"PEP","momentum":-0.6524085746,"atr":2.61218,"price":173.3,"sector":"Consumer Staples","shares":95,"position":16463.5},{"rank":160,"ticker":"PEAK","momentum":-0.9795111601,"atr":0.69497,"price":34.15,"sector":"Real Estate","shares":359,"position":12259.85},{"rank":161,"ticker":"PG","momentum":-1.9767632528,"atr":2.92575,"price":159.79,"sector":"Consumer Staples","shares":85,"position":13582.15},{"rank":162,"ticker":"PPL","momentum":-2.140651204,"atr":0.524555,"price":29.25,"sector":"Utilities","shares":476,"position":13923.0},{"rank":163,"ticker":"DRE","momentum":-2.6101073406,"atr":1.30525,"price":58.66,"sector":"Real Estate","shares":191,"position":11204.06},{"rank":164,"ticker":"AMT","momentum":-2.9264346635,"atr":5.72383,"price":254.82,"sector":"Real Estate","shares":43,"position":10957.26},{"rank":165,"ticker":"GPC","momentum":-3.6359411113,"atr":3.12177,"price":133.94,"sector":"Consumer Discretionary","shares":80,"position":10715.2},{"rank":166,"ticker":"ROST","momentum":-6.5973611564,"atr":3.213375,"price":103.03,"sector":"Consumer Discretionary","shares":77,"position":7933.31},{"rank":167,"ticker":"CL","momentum":-9.192032755,"atr":1.37975,"price":80.52,"sector":"Consumer Staples","shares":181,"position":14574.12},{"rank":168,"ticker":"AAP","momentum":-12.3536113145,"atr":5.766095,"price":223.44,"sector":"Consumer Discretionary","shares":43,"position":9607.92},{"rank":169,"ticker":"MNST","momentum":-18.6849923732,"atr":2.110495,"price":86.26,"sector":"Consumer Staples","shares":118,"position":10178.68},{"rank":170,"ticker":"KMB","momentum":-20.4355891969,"atr":2.88477,"price":139.18,"sector":"Consumer Staples","shares":86,"position":11969.48}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

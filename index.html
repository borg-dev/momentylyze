<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"CAH","momentum":103.588206995,"atr":1.56275,"price":67.27,"sector":"Health Care","shares":159,"position":10695.93},{"rank":2,"ticker":"NDAQ","momentum":102.7824991547,"atr":1.3400483333,"price":57.4,"sector":"Financials","shares":186,"position":10676.4},{"rank":3,"ticker":"AES","momentum":85.0410244898,"atr":0.68538,"price":25.03,"sector":"Utilities","shares":364,"position":9110.92},{"rank":4,"ticker":"LW","momentum":83.374016398,"atr":1.868,"price":77.83,"sector":"Consumer Staples","shares":133,"position":10351.39},{"rank":5,"ticker":"BR","momentum":80.9321894546,"atr":3.52265,"price":157.17,"sector":"Information Technology","shares":70,"position":11001.9},{"rank":6,"ticker":"KEYS","momentum":80.3194132697,"atr":3.94584,"price":158.71,"sector":"Information Technology","shares":63,"position":9998.73},{"rank":7,"ticker":"GPC","momentum":74.6488965795,"atr":3.19591,"price":154.32,"sector":"Consumer Discretionary","shares":78,"position":12036.96},{"rank":8,"ticker":"SBUX","momentum":71.1930901929,"atr":2.59873,"price":84.7,"sector":"Consumer Discretionary","shares":96,"position":8131.2},{"rank":9,"ticker":"TT","momentum":69.2736800202,"atr":4.2805,"price":147.65,"sector":"Industrials","shares":58,"position":8563.7},{"rank":10,"ticker":"PWR","momentum":69.0860246512,"atr":4.223,"price":135.71,"sector":"Industrials","shares":59,"position":8006.89},{"rank":11,"ticker":"NEE","momentum":68.7524615469,"atr":2.03427,"price":83.54,"sector":"Utilities","shares":122,"position":10191.88},{"rank":12,"ticker":"IT","momentum":62.1949640059,"atr":8.2795,"price":280.1,"sector":"Information Technology","shares":30,"position":8403.0},{"rank":13,"ticker":"AJG","momentum":58.894012535,"atr":3.76266,"price":172.53,"sector":"Financials","shares":66,"position":11386.98},{"rank":14,"ticker":"ON","momentum":57.6469450438,"atr":3.253065,"price":64.96,"sector":"Information Technology","shares":76,"position":4936.96},{"rank":15,"ticker":"ORLY","momentum":53.4891001762,"atr":14.37406,"price":693.56,"sector":"Consumer Discretionary","shares":17,"position":11790.52},{"rank":16,"ticker":"MSI","momentum":52.911718111,"atr":4.97475,"price":232.02,"sector":"Information Technology","shares":50,"position":11601.0},{"rank":17,"ticker":"MOH","momentum":51.4857420357,"atr":10.118045,"price":329.51,"sector":"Health Care","shares":24,"position":7908.24},{"rank":18,"ticker":"XYL","momentum":49.8175075049,"atr":2.635,"price":90.7,"sector":"Industrials","shares":94,"position":8525.8},{"rank":19,"ticker":"RJF","momentum":44.5536213265,"atr":2.52379,"price":105.42,"sector":"Financials","shares":99,"position":10436.58},{"rank":20,"ticker":"ADP","momentum":40.532602849,"atr":5.222825,"price":230.47,"sector":"Information Technology","shares":47,"position":10832.09},{"rank":21,"ticker":"HII","momentum":39.7338303263,"atr":5.23981,"price":235.5,"sector":"Industrials","shares":47,"position":11068.5},{"rank":22,"ticker":"RSG","momentum":35.4091806988,"atr":2.531775,"price":141.56,"sector":"Industrials","shares":98,"position":13872.88},{"rank":23,"ticker":"CI","momentum":33.5442347083,"atr":5.804315,"price":282.9,"sector":"Health Care","shares":43,"position":12164.7},{"rank":24,"ticker":"MCK","momentum":33.2482565965,"atr":8.667245,"price":346.96,"sector":"Health Care","shares":28,"position":9714.88},{"rank":25,"ticker":"GIS","momentum":33.190011112,"atr":1.65201,"price":80.78,"sector":"Consumer Staples","shares":151,"position":12197.78},{"rank":26,"ticker":"IEX","momentum":32.7539207135,"atr":4.254915,"price":201.76,"sector":"Industrials","shares":58,"position":11702.08},{"rank":27,"ticker":"WM","momentum":32.0559645665,"atr":2.72215,"price":166.87,"sector":"Industrials","shares":91,"position":15185.17},{"rank":28,"ticker":"AAPL","momentum":30.9469223912,"atr":4.61782,"price":152.74,"sector":"Information Technology","shares":54,"position":8247.96},{"rank":29,"ticker":"CBOE","momentum":27.1856913109,"atr":2.78625,"price":117.62,"sector":"Financials","shares":89,"position":10468.18},{"rank":30,"ticker":"SJM","momentum":26.6892509415,"atr":2.62725,"price":142.03,"sector":"Consumer Staples","shares":95,"position":13492.85},{"rank":31,"ticker":"SCHW","momentum":26.6311359268,"atr":2.02368,"price":72.06,"sector":"Financials","shares":123,"position":8863.38},{"rank":32,"ticker":"KDP","momentum":25.3392927325,"atr":0.72245,"price":37.11,"sector":"Consumer Staples","shares":346,"position":12840.06},{"rank":33,"ticker":"PGR","momentum":19.6827500482,"atr":2.651305,"price":122.42,"sector":"Financials","shares":94,"position":11507.48},{"rank":34,"ticker":"UNH","momentum":17.5943138638,"atr":11.493745,"price":517.46,"sector":"Health Care","shares":21,"position":10866.66},{"rank":35,"ticker":"MTB","momentum":17.5369715771,"atr":4.82004,"price":183.2,"sector":"Financials","shares":51,"position":9343.2},{"rank":36,"ticker":"WMT","momentum":17.0922874559,"atr":2.58545,"price":133.39,"sector":"Consumer Staples","shares":96,"position":12805.44},{"rank":37,"ticker":"FTV","momentum":17.025952,"atr":1.531945,"price":60.89,"sector":"Industrials","shares":163,"position":9925.07},{"rank":38,"ticker":"DG","momentum":16.6604815145,"atr":5.42075,"price":240.2,"sector":"Consumer Discretionary","shares":46,"position":11049.2},{"rank":39,"ticker":"TJX","momentum":15.5408034842,"atr":1.7618,"price":62.01,"sector":"Consumer Discretionary","shares":141,"position":8743.41},{"rank":40,"ticker":"MS","momentum":15.5232711411,"atr":2.521245,"price":84.77,"sector":"Financials","shares":99,"position":8392.23},{"rank":41,"ticker":"HSY","momentum":15.4339722282,"atr":3.984555,"price":225.52,"sector":"Consumer Staples","shares":62,"position":13982.24},{"rank":42,"ticker":"VRTX","momentum":15.3793096954,"atr":7.96475,"price":286.34,"sector":"Health Care","shares":31,"position":8876.54},{"rank":43,"ticker":"CVS","momentum":14.5354106408,"atr":2.050565,"price":99.83,"sector":"Health Care","shares":121,"position":12079.43},{"rank":44,"ticker":"PFG","momentum":14.2788743728,"atr":1.71294,"price":75.42,"sector":"Financials","shares":145,"position":10935.9},{"rank":45,"ticker":"GM","momentum":13.5574681623,"atr":1.418745,"price":37.38,"sector":"Consumer Discretionary","shares":176,"position":6578.88},{"rank":46,"ticker":"SO","momentum":13.1942556759,"atr":1.51094,"price":75.94,"sector":"Utilities","shares":165,"position":12530.1},{"rank":47,"ticker":"DRI","momentum":11.8778071117,"atr":3.746895,"price":125.45,"sector":"Consumer Discretionary","shares":66,"position":8279.7},{"rank":48,"ticker":"GL","momentum":11.255234553,"atr":1.93175,"price":102.8,"sector":"Financials","shares":129,"position":13261.2},{"rank":49,"ticker":"AFL","momentum":10.8550542046,"atr":1.24425,"price":58.67,"sector":"Financials","shares":200,"position":11734.0},{"rank":50,"ticker":"RF","momentum":10.3237844291,"atr":0.62538,"price":21.31,"sector":"Financials","shares":399,"position":8502.69},{"rank":51,"ticker":"CF","momentum":10.2957933556,"atr":4.69376,"price":101.53,"sector":"Materials","shares":53,"position":5381.09},{"rank":52,"ticker":"SRE","momentum":9.8082088401,"atr":3.83491,"price":164.19,"sector":"Utilities","shares":65,"position":10672.35},{"rank":53,"ticker":"K","momentum":9.1822753469,"atr":1.428875,"price":73.61,"sector":"Consumer Staples","shares":174,"position":12808.14},{"rank":54,"ticker":"CTXS","momentum":9.1549781134,"atr":0.41825,"price":103.81,"sector":"Information Technology","shares":597,"position":61974.57},{"rank":55,"ticker":"ULTA","momentum":8.9363242847,"atr":12.006495,"price":401.67,"sector":"Consumer Discretionary","shares":20,"position":8033.4},{"rank":56,"ticker":"NOC","momentum":8.0513750807,"atr":11.65207,"price":496.46,"sector":"Industrials","shares":21,"position":10425.66},{"rank":57,"ticker":"CAG","momentum":6.688969522,"atr":0.67025,"price":34.76,"sector":"Consumer Staples","shares":372,"position":12930.72},{"rank":58,"ticker":"CNP","momentum":6.5259904328,"atr":0.64576,"price":31.66,"sector":"Utilities","shares":387,"position":12252.42},{"rank":59,"ticker":"AMP","momentum":6.3204223862,"atr":7.29161,"price":264.48,"sector":"Financials","shares":34,"position":8992.32},{"rank":60,"ticker":"HBAN","momentum":5.8760388462,"atr":0.424355,"price":13.41,"sector":"Financials","shares":589,"position":7898.49},{"rank":61,"ticker":"ZION","momentum":5.7360753405,"atr":1.55321,"price":55.75,"sector":"Financials","shares":160,"position":8920.0},{"rank":62,"ticker":"CPB","momentum":5.404961043,"atr":1.15975,"price":49.18,"sector":"Consumer Staples","shares":215,"position":10573.7},{"rank":63,"ticker":"GD","momentum":3.6740649222,"atr":4.890975,"price":228.09,"sector":"Industrials","shares":51,"position":11632.59},{"rank":64,"ticker":"LNT","momentum":3.0903419702,"atr":1.278655,"price":60.01,"sector":"Utilities","shares":195,"position":11701.95},{"rank":65,"ticker":"ED","momentum":2.8031758296,"atr":2.016165,"price":96.42,"sector":"Utilities","shares":123,"position":11859.66},{"rank":66,"ticker":"AEP","momentum":2.3071866133,"atr":2.18288,"price":98.88,"sector":"Utilities","shares":114,"position":11272.32},{"rank":67,"ticker":"CTVA","momentum":2.1505074311,"atr":1.59955,"price":59.76,"sector":"Materials","shares":156,"position":9322.56},{"rank":68,"ticker":"GILD","momentum":1.420865539,"atr":1.514375,"price":63.77,"sector":"Health Care","shares":165,"position":10522.05},{"rank":69,"ticker":"ADM","momentum":0.7270130419,"atr":2.43625,"price":86.07,"sector":"Consumer Staples","shares":102,"position":8779.14},{"rank":70,"ticker":"LLY","momentum":0.1655782421,"atr":8.154665,"price":310.87,"sector":"Health Care","shares":30,"position":9326.1},{"rank":71,"ticker":"COP","momentum":0.107567547,"atr":3.66675,"price":110.06,"sector":"Energy","shares":68,"position":7484.08},{"rank":72,"ticker":"MPC","momentum":0.0059650698,"atr":3.072445,"price":95.98,"sector":"Energy","shares":81,"position":7774.38},{"rank":73,"ticker":"FE","momentum":0.0000000004,"atr":0.881445,"price":40.49,"sector":"Utilities","shares":283,"position":11458.67},{"rank":74,"ticker":"NRG","momentum":-0.1281818637,"atr":1.021755,"price":41.38,"sector":"Utilities","shares":244,"position":10096.72},{"rank":75,"ticker":"ALL","momentum":-0.3525170774,"atr":3.0915,"price":127.97,"sector":"Financials","shares":80,"position":10237.6}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

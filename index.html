<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PCG","momentum":204.2515515599,"atr":0.612945,"price":14.5,"sector":"Utilities","shares":407,"position":5901.5},{"rank":2,"ticker":"CAH","momentum":135.1541585777,"atr":1.8808,"price":73.03,"sector":"Health Care","shares":132,"position":9639.96},{"rank":3,"ticker":"COP","momentum":118.117560458,"atr":4.65702,"price":124.49,"sector":"Energy","shares":53,"position":6597.97},{"rank":4,"ticker":"MOH","momentum":105.9153653479,"atr":9.03028,"price":360.38,"sector":"Health Care","shares":27,"position":9730.26},{"rank":5,"ticker":"MPC","momentum":66.7260251451,"atr":4.02901,"price":111.38,"sector":"Energy","shares":62,"position":6905.56},{"rank":6,"ticker":"PFG","momentum":54.3714180072,"atr":2.38275,"price":78.84,"sector":"Financials","shares":104,"position":8199.36},{"rank":7,"ticker":"DVN","momentum":53.4175887056,"atr":3.22392,"price":74.29,"sector":"Energy","shares":77,"position":5720.33},{"rank":8,"ticker":"AES","momentum":53.3459503912,"atr":0.962545,"price":24.48,"sector":"Utilities","shares":259,"position":6340.32},{"rank":9,"ticker":"IT","momentum":50.3221826496,"atr":9.66446,"price":289.75,"sector":"Information Technology","shares":25,"position":7243.75},{"rank":10,"ticker":"GPC","momentum":46.0978463577,"atr":3.87156,"price":162.35,"sector":"Consumer Discretionary","shares":64,"position":10390.4},{"rank":11,"ticker":"CF","momentum":43.6754602414,"atr":5.000095,"price":107.37,"sector":"Materials","shares":49,"position":5261.13},{"rank":12,"ticker":"SCHW","momentum":39.9295102609,"atr":2.630445,"price":70.32,"sector":"Financials","shares":95,"position":6680.4},{"rank":13,"ticker":"SBUX","momentum":37.9846890818,"atr":2.61605,"price":88.61,"sector":"Consumer Discretionary","shares":95,"position":8417.95},{"rank":14,"ticker":"CTVA","momentum":37.8610362592,"atr":1.827135,"price":62.88,"sector":"Materials","shares":136,"position":8551.68},{"rank":15,"ticker":"RJF","momentum":36.761166388,"atr":3.527075,"price":100.99,"sector":"Financials","shares":70,"position":7069.3},{"rank":16,"ticker":"ON","momentum":34.6650267593,"atr":3.588235,"price":65.68,"sector":"Information Technology","shares":69,"position":4531.92},{"rank":17,"ticker":"ADM","momentum":33.991485166,"atr":2.665535,"price":89.69,"sector":"Consumer Staples","shares":93,"position":8341.17},{"rank":18,"ticker":"SLB","momentum":32.0031488293,"atr":1.8459,"price":50.41,"sector":"Energy","shares":135,"position":6805.35},{"rank":19,"ticker":"ORLY","momentum":31.6111721887,"atr":16.72233,"price":744.07,"sector":"Consumer Discretionary","shares":14,"position":10416.98},{"rank":20,"ticker":"LW","momentum":31.3491366477,"atr":2.4335,"price":81.72,"sector":"Consumer Staples","shares":102,"position":8335.44},{"rank":21,"ticker":"SJM","momentum":31.3188886929,"atr":2.8675,"price":142.81,"sector":"Consumer Staples","shares":87,"position":12424.47},{"rank":22,"ticker":"DRI","momentum":31.0491130396,"atr":3.96201,"price":133.32,"sector":"Consumer Discretionary","shares":63,"position":8399.16},{"rank":23,"ticker":"KEYS","momentum":30.833488529,"atr":4.9795,"price":168.96,"sector":"Information Technology","shares":50,"position":8448.0},{"rank":24,"ticker":"HII","momentum":28.5809440543,"atr":6.29486,"price":249.89,"sector":"Industrials","shares":39,"position":9745.71},{"rank":25,"ticker":"XYL","momentum":26.5580478215,"atr":2.986365,"price":93.86,"sector":"Industrials","shares":83,"position":7790.38},{"rank":26,"ticker":"CI","momentum":26.5175367385,"atr":7.0572,"price":301.34,"sector":"Health Care","shares":35,"position":10546.9},{"rank":27,"ticker":"NRG","momentum":25.4840132321,"atr":1.37014,"price":42.36,"sector":"Utilities","shares":182,"position":7709.52},{"rank":28,"ticker":"TJX","momentum":21.9389802909,"atr":2.09203,"price":67.61,"sector":"Consumer Discretionary","shares":119,"position":8045.59},{"rank":29,"ticker":"CDAY","momentum":21.6953560106,"atr":2.930125,"price":57.91,"sector":"Information Technology","shares":85,"position":4922.35},{"rank":30,"ticker":"GL","momentum":20.7796522719,"atr":2.674985,"price":113.5,"sector":"Financials","shares":93,"position":10555.5},{"rank":31,"ticker":"MCK","momentum":20.3647154244,"atr":8.340365,"price":370.64,"sector":"Health Care","shares":29,"position":10748.56},{"rank":32,"ticker":"XOM","momentum":19.9262866303,"atr":3.122155,"price":105.86,"sector":"Energy","shares":80,"position":8468.8},{"rank":33,"ticker":"IEX","momentum":19.6981772377,"atr":5.39325,"price":203.95,"sector":"Industrials","shares":46,"position":9381.7},{"rank":34,"ticker":"HBAN","momentum":19.6944849836,"atr":0.50898,"price":14.45,"sector":"Financials","shares":491,"position":7094.95},{"rank":35,"ticker":"AMP","momentum":19.1109102811,"atr":10.02632,"price":267.01,"sector":"Financials","shares":24,"position":6408.24},{"rank":36,"ticker":"CMI","momentum":16.5854706471,"atr":7.003235,"price":232.79,"sector":"Industrials","shares":35,"position":8147.65},{"rank":37,"ticker":"WMT","momentum":14.3275439532,"atr":3.05883,"price":136.8,"sector":"Consumer Staples","shares":81,"position":11080.8},{"rank":38,"ticker":"NDAQ","momentum":14.3250758706,"atr":1.66,"price":57.74,"sector":"Financials","shares":150,"position":8661.0},{"rank":39,"ticker":"GIS","momentum":13.7550698355,"atr":1.6362,"price":77.04,"sector":"Consumer Staples","shares":152,"position":11710.08},{"rank":40,"ticker":"GILD","momentum":13.0814635335,"atr":1.391875,"price":67.79,"sector":"Health Care","shares":179,"position":12134.41},{"rank":41,"ticker":"NOC","momentum":12.6949311049,"atr":15.410095,"price":522.66,"sector":"Industrials","shares":16,"position":8362.56},{"rank":42,"ticker":"AJG","momentum":11.572731029,"atr":4.61125,"price":175.37,"sector":"Financials","shares":54,"position":9469.98},{"rank":43,"ticker":"GWW","momentum":11.4051386258,"atr":14.878745,"price":519.68,"sector":"Industrials","shares":16,"position":8314.88},{"rank":44,"ticker":"PGR","momentum":11.0124837772,"atr":3.578245,"price":122.45,"sector":"Financials","shares":69,"position":8449.05},{"rank":45,"ticker":"BSX","momentum":10.995366751,"atr":1.08375,"price":40.57,"sector":"Health Care","shares":230,"position":9331.1},{"rank":46,"ticker":"CVX","momentum":9.6771099742,"atr":5.109285,"price":173.19,"sector":"Energy","shares":48,"position":8313.12},{"rank":47,"ticker":"AFL","momentum":9.4364782613,"atr":1.53139,"price":60.97,"sector":"Financials","shares":163,"position":9938.11},{"rank":48,"ticker":"FTV","momentum":8.8604856219,"atr":1.81525,"price":61.45,"sector":"Industrials","shares":137,"position":8418.65},{"rank":49,"ticker":"SYK","momentum":7.735419814,"atr":6.949655,"price":218.31,"sector":"Health Care","shares":35,"position":7640.85},{"rank":50,"ticker":"MGM","momentum":7.7193543905,"atr":1.4655,"price":33.92,"sector":"Consumer Discretionary","shares":170,"position":5766.4},{"rank":51,"ticker":"ADP","momentum":7.6279091426,"atr":6.245645,"price":232.74,"sector":"Information Technology","shares":40,"position":9309.6},{"rank":52,"ticker":"A","momentum":7.3901667024,"atr":4.07825,"price":129.88,"sector":"Health Care","shares":61,"position":7922.68},{"rank":53,"ticker":"JCI","momentum":6.7770094443,"atr":1.80645,"price":53.04,"sector":"Industrials","shares":138,"position":7319.52},{"rank":54,"ticker":"FMC","momentum":6.6122043367,"atr":3.528,"price":117.2,"sector":"Materials","shares":70,"position":8204.0},{"rank":55,"ticker":"HLT","momentum":6.6115256312,"atr":4.5465,"price":131.23,"sector":"Consumer Discretionary","shares":54,"position":7086.42},{"rank":56,"ticker":"TRGP","momentum":5.6092028146,"atr":2.679495,"price":67.79,"sector":"Energy","shares":93,"position":6304.47},{"rank":57,"ticker":"WFC","momentum":4.9965085163,"atr":1.412625,"price":44.83,"sector":"Financials","shares":176,"position":7890.08},{"rank":58,"ticker":"IR","momentum":4.5107863516,"atr":1.7673,"price":46.79,"sector":"Industrials","shares":141,"position":6597.39},{"rank":59,"ticker":"ADSK","momentum":4.1767493438,"atr":7.50847,"price":201.39,"sector":"Information Technology","shares":33,"position":6645.87},{"rank":60,"ticker":"MET","momentum":4.0051686378,"atr":1.86692,"price":68.06,"sector":"Financials","shares":133,"position":9051.98},{"rank":61,"ticker":"GD","momentum":3.9247707036,"atr":6.25,"price":242.6,"sector":"Industrials","shares":40,"position":9704.0},{"rank":62,"ticker":"HSY","momentum":3.9035478496,"atr":4.64406,"price":228.22,"sector":"Consumer Staples","shares":53,"position":12095.66},{"rank":63,"ticker":"PCAR","momentum":3.8367802386,"atr":2.52895,"price":90.17,"sector":"Industrials","shares":98,"position":8836.66},{"rank":64,"ticker":"VRTX","momentum":3.6141482177,"atr":8.102425,"price":300.0,"sector":"Health Care","shares":30,"position":9000.0},{"rank":65,"ticker":"ETN","momentum":3.4843424804,"atr":4.40575,"price":139.33,"sector":"Industrials","shares":56,"position":7802.48},{"rank":66,"ticker":"WTW","momentum":3.3493266479,"atr":5.51375,"price":210.72,"sector":"Financials","shares":45,"position":9482.4},{"rank":67,"ticker":"CTAS","momentum":3.2395879425,"atr":11.580715,"price":399.94,"sector":"Industrials","shares":21,"position":8398.74},{"rank":68,"ticker":"CTRA","momentum":3.1296183738,"atr":1.212795,"price":29.67,"sector":"Energy","shares":206,"position":6112.02},{"rank":69,"ticker":"APH","momentum":2.9761976993,"atr":2.177,"price":71.55,"sector":"Information Technology","shares":114,"position":8156.7},{"rank":70,"ticker":"BRO","momentum":2.7732778786,"atr":1.837725,"price":61.53,"sector":"Financials","shares":136,"position":8368.08},{"rank":71,"ticker":"AZO","momentum":2.6805575647,"atr":54.91975,"price":2301.03,"sector":"Consumer Discretionary","shares":4,"position":9204.12},{"rank":72,"ticker":"KDP","momentum":2.5430433053,"atr":0.841265,"price":37.62,"sector":"Consumer Staples","shares":297,"position":11173.14},{"rank":73,"ticker":"PWR","momentum":2.3567928875,"atr":4.911165,"price":133.41,"sector":"Industrials","shares":50,"position":6670.5},{"rank":74,"ticker":"AME","momentum":2.124333629,"atr":3.31075,"price":119.18,"sector":"Industrials","shares":75,"position":8938.5},{"rank":75,"ticker":"CBOE","momentum":1.5158369557,"atr":2.94395,"price":119.87,"sector":"Financials","shares":84,"position":10069.08},{"rank":76,"ticker":"VLO","momentum":1.1487417405,"atr":5.427745,"price":127.74,"sector":"Energy","shares":46,"position":5876.04},{"rank":77,"ticker":"AON","momentum":1.0334378039,"atr":7.84691,"price":280.12,"sector":"Financials","shares":31,"position":8683.72},{"rank":78,"ticker":"WRB","momentum":0.8705486209,"atr":1.78566,"price":71.35,"sector":"Financials","shares":140,"position":9989.0},{"rank":79,"ticker":"HST","momentum":0.6921771129,"atr":0.6197,"price":17.84,"sector":"Real Estate","shares":403,"position":7189.52},{"rank":80,"ticker":"GS","momentum":0.5627789954,"atr":10.70108,"price":325.1,"sector":"Financials","shares":23,"position":7477.3},{"rank":81,"ticker":"PSX","momentum":0.5560568259,"atr":3.582965,"price":100.44,"sector":"Energy","shares":69,"position":6930.36},{"rank":82,"ticker":"ITW","momentum":0.4227189252,"atr":5.770585,"price":195.62,"sector":"Industrials","shares":43,"position":8411.66},{"rank":83,"ticker":"SYF","momentum":0.4223086328,"atr":1.23325,"price":32.41,"sector":"Financials","shares":202,"position":6546.82},{"rank":84,"ticker":"UNH","momentum":0.3900005369,"atr":13.461125,"price":533.73,"sector":"Health Care","shares":18,"position":9607.14},{"rank":85,"ticker":"ROL","momentum":0.3379661591,"atr":0.98285,"price":36.43,"sector":"Industrials","shares":254,"position":9253.22},{"rank":86,"ticker":"CPB","momentum":0.318969353,"atr":1.054365,"price":50.25,"sector":"Consumer Staples","shares":237,"position":11909.25},{"rank":87,"ticker":"MAR","momentum":0.2139179874,"atr":5.21089,"price":153.49,"sector":"Consumer Discretionary","shares":47,"position":7214.03},{"rank":88,"ticker":"LLY","momentum":0.1953267903,"atr":9.80556,"price":340.77,"sector":"Health Care","shares":25,"position":8519.25},{"rank":89,"ticker":"GE","momentum":0.154866362,"atr":2.27984,"price":72.82,"sector":"Industrials","shares":109,"position":7937.38},{"rank":90,"ticker":"K","momentum":0.1123360238,"atr":1.611645,"price":72.24,"sector":"Consumer Staples","shares":155,"position":11197.2},{"rank":91,"ticker":"RMD","momentum":0.1006511609,"atr":6.38799,"price":222.28,"sector":"Health Care","shares":39,"position":8668.92},{"rank":92,"ticker":"PH","momentum":0.0934118883,"atr":9.00718,"price":269.39,"sector":"Industrials","shares":27,"position":7273.53},{"rank":93,"ticker":"PEP","momentum":0.0635139396,"atr":4.033815,"price":173.06,"sector":"Consumer Staples","shares":61,"position":10556.66},{"rank":94,"ticker":"CAG","momentum":0.0350860625,"atr":0.84237,"price":34.69,"sector":"Consumer Staples","shares":296,"position":10268.24},{"rank":95,"ticker":"MO","momentum":0.0334208252,"atr":1.09787,"price":44.48,"sector":"Consumer Staples","shares":227,"position":10096.96},{"rank":96,"ticker":"HWM","momentum":0.0300422439,"atr":1.11955,"price":35.37,"sector":"Industrials","shares":223,"position":7887.51},{"rank":97,"ticker":"ELV","momentum":0.0102875409,"atr":13.452875,"price":511.04,"sector":"Health Care","shares":18,"position":9198.72},{"rank":98,"ticker":"BAC","momentum":0.0060750734,"atr":1.18097,"price":34.95,"sector":"Financials","shares":211,"position":7374.45},{"rank":99,"ticker":"STT","momentum":0.0027905626,"atr":2.875735,"price":69.12,"sector":"Financials","shares":86,"position":5944.32},{"rank":100,"ticker":"HIG","momentum":0.0015701166,"atr":1.780835,"price":67.19,"sector":"Financials","shares":140,"position":9406.6},{"rank":101,"ticker":"LMT","momentum":-0.0000258139,"atr":12.947005,"price":454.61,"sector":"Industrials","shares":19,"position":8637.59},{"rank":102,"ticker":"AIG","momentum":-0.0020498477,"atr":1.606075,"price":53.25,"sector":"Financials","shares":155,"position":8253.75},{"rank":103,"ticker":"RE","momentum":-0.0326434238,"atr":8.537875,"price":279.88,"sector":"Financials","shares":29,"position":8116.52},{"rank":104,"ticker":"TRV","momentum":-0.0489116541,"atr":4.23064,"price":176.23,"sector":"Financials","shares":59,"position":10397.57},{"rank":105,"ticker":"CB","momentum":-0.0574625045,"atr":5.252,"price":197.79,"sector":"Financials","shares":47,"position":9296.13},{"rank":106,"ticker":"TSCO","momentum":-0.0587886777,"atr":6.715155,"price":197.37,"sector":"Consumer Discretionary","shares":37,"position":7302.69},{"rank":107,"ticker":"ABC","momentum":-0.1625070598,"atr":3.446555,"price":147.73,"sector":"Health Care","shares":72,"position":10636.56},{"rank":108,"ticker":"LNC","momentum":-0.207521597,"atr":2.068635,"price":50.38,"sector":"Financials","shares":120,"position":6045.6},{"rank":109,"ticker":"CFG","momentum":-0.2081536642,"atr":1.345645,"price":37.94,"sector":"Financials","shares":185,"position":7018.9},{"rank":110,"ticker":"FCX","momentum":-0.2126674271,"atr":1.5628,"price":32.03,"sector":"Materials","shares":159,"position":5092.77},{"rank":111,"ticker":"MCD","momentum":-0.2610271256,"atr":5.182375,"price":254.55,"sector":"Consumer Discretionary","shares":48,"position":12218.4},{"rank":112,"ticker":"MRK","momentum":-0.2963755937,"atr":1.802785,"price":95.67,"sector":"Health Care","shares":138,"position":13202.46},{"rank":113,"ticker":"JPM","momentum":-0.5051522275,"atr":4.068595,"price":122.23,"sector":"Financials","shares":61,"position":7456.03},{"rank":114,"ticker":"LHX","momentum":-0.5489430248,"atr":6.95617,"price":247.2,"sector":"Industrials","shares":35,"position":8652.0},{"rank":115,"ticker":"PRU","momentum":-0.5916948595,"atr":2.956,"price":98.29,"sector":"Financials","shares":84,"position":8256.36},{"rank":116,"ticker":"CAT","momentum":-0.7621432737,"atr":5.7692,"price":190.22,"sector":"Industrials","shares":43,"position":8179.46},{"rank":117,"ticker":"AMGN","momentum":-0.9881462306,"atr":5.346925,"price":251.94,"sector":"Health Care","shares":46,"position":11589.24},{"rank":118,"ticker":"EMR","momentum":-1.0551429791,"atr":2.30673,"price":83.16,"sector":"Industrials","shares":108,"position":8981.28},{"rank":119,"ticker":"HAL","momentum":-1.5989633196,"atr":1.49275,"price":33.88,"sector":"Energy","shares":167,"position":5657.96},{"rank":120,"ticker":"ABBV","momentum":-5.2028759786,"atr":3.896975,"price":147.06,"sector":"Health Care","shares":64,"position":9411.84},{"rank":121,"ticker":"JNPR","momentum":-5.2442359734,"atr":0.8512,"price":28.76,"sector":"Information Technology","shares":293,"position":8426.68},{"rank":122,"ticker":"DGX","momentum":-9.744374297,"atr":3.44722,"price":136.75,"sector":"Health Care","shares":72,"position":9846.0},{"rank":123,"ticker":"BKR","momentum":-31.1386149285,"atr":1.03678,"price":26.67,"sector":"Energy","shares":241,"position":6427.47}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

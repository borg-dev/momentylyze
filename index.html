<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"VRTX","momentum":146.1869015088,"atr":6.52228,"price":232.77,"sector":"Health Care","shares":38,"position":8845.26},{"rank":2,"ticker":"ABBV","momentum":130.5477381925,"atr":3.01149,"price":144.97,"sector":"Health Care","shares":83,"position":12032.51},{"rank":3,"ticker":"CERN","momentum":129.3273043055,"atr":0.549125,"price":91.71,"sector":"Health Care","shares":455,"position":41728.05},{"rank":4,"ticker":"MCK","momentum":128.9261178965,"atr":7.117005,"price":273.35,"sector":"Health Care","shares":35,"position":9567.25},{"rank":5,"ticker":"MKC","momentum":112.0939415712,"atr":2.22897,"price":98.08,"sector":"Consumer Staples","shares":112,"position":10984.96},{"rank":6,"ticker":"DVN","momentum":102.7410612668,"atr":2.851745,"price":55.25,"sector":"Energy","shares":87,"position":4806.75},{"rank":7,"ticker":"HPQ","momentum":94.645103096,"atr":1.12431,"price":36.42,"sector":"Information Technology","shares":222,"position":8085.24},{"rank":8,"ticker":"CVS","momentum":83.8711202494,"atr":2.691485,"price":102.3,"sector":"Health Care","shares":92,"position":9411.6},{"rank":9,"ticker":"MU","momentum":78.6688143867,"atr":3.99699,"price":93.73,"sector":"Information Technology","shares":62,"position":5811.26},{"rank":10,"ticker":"CVX","momentum":75.198881917,"atr":3.75227,"price":133.61,"sector":"Energy","shares":66,"position":8818.26},{"rank":11,"ticker":"PGR","momentum":73.1884636158,"atr":2.34816,"price":105.23,"sector":"Financials","shares":106,"position":11154.38},{"rank":12,"ticker":"CF","momentum":66.9953675416,"atr":4.363145,"price":76.19,"sector":"Materials","shares":57,"position":4342.83},{"rank":13,"ticker":"CHD","momentum":66.7515633064,"atr":2.43895,"price":96.95,"sector":"Consumer Staples","shares":102,"position":9888.9},{"rank":14,"ticker":"EOG","momentum":63.2393619198,"atr":4.47521,"price":112.6,"sector":"Energy","shares":55,"position":6193.0},{"rank":15,"ticker":"NI","momentum":62.2824687357,"atr":0.697,"price":28.57,"sector":"Utilities","shares":358,"position":10228.06},{"rank":16,"ticker":"FMC","momentum":60.9603358627,"atr":3.3015,"price":118.11,"sector":"Materials","shares":75,"position":8858.25},{"rank":17,"ticker":"TSN","momentum":60.9117189598,"atr":2.571075,"price":93.21,"sector":"Consumer Staples","shares":97,"position":9041.37},{"rank":18,"ticker":"STX","momentum":58.7661405008,"atr":4.461605,"price":111.19,"sector":"Information Technology","shares":56,"position":6226.64},{"rank":19,"ticker":"ATO","momentum":57.1544443464,"atr":2.43409,"price":106.66,"sector":"Utilities","shares":102,"position":10879.32},{"rank":20,"ticker":"XOM","momentum":56.7025148745,"atr":2.428455,"price":78.23,"sector":"Energy","shares":102,"position":7979.46},{"rank":21,"ticker":"COP","momentum":56.3697012166,"atr":3.34568,"price":91.16,"sector":"Energy","shares":74,"position":6745.84},{"rank":22,"ticker":"AFL","momentum":53.088742827,"atr":1.459495,"price":63.2,"sector":"Financials","shares":171,"position":10807.2},{"rank":23,"ticker":"CNC","momentum":50.3930429485,"atr":2.410705,"price":82.81,"sector":"Health Care","shares":103,"position":8529.43},{"rank":24,"ticker":"HAL","momentum":49.830695724,"atr":1.387655,"price":32.97,"sector":"Energy","shares":180,"position":5934.6},{"rank":25,"ticker":"JNPR","momentum":49.3723722397,"atr":1.13617,"price":34.38,"sector":"Information Technology","shares":220,"position":7563.6},{"rank":26,"ticker":"HSY","momentum":49.1681466555,"atr":4.26942,"price":202.03,"sector":"Consumer Staples","shares":58,"position":11717.74},{"rank":27,"ticker":"QCOM","momentum":48.7270725088,"atr":8.532935,"price":166.8,"sector":"Information Technology","shares":29,"position":4837.2},{"rank":28,"ticker":"PXD","momentum":48.6996346822,"atr":8.595345,"price":230.13,"sector":"Energy","shares":29,"position":6673.77},{"rank":29,"ticker":"ADM","momentum":48.4379213272,"atr":1.827245,"price":76.65,"sector":"Consumer Staples","shares":136,"position":10424.4},{"rank":30,"ticker":"APA","momentum":45.6428497209,"atr":1.771125,"price":32.39,"sector":"Energy","shares":141,"position":4566.99},{"rank":31,"ticker":"SJM","momentum":45.5520305573,"atr":3.261635,"price":138.33,"sector":"Consumer Staples","shares":76,"position":10513.08},{"rank":32,"ticker":"BMY","momentum":44.4895948463,"atr":1.371045,"price":67.39,"sector":"Health Care","shares":182,"position":12264.98},{"rank":33,"ticker":"AAPL","momentum":43.659725709,"atr":4.590755,"price":168.88,"sector":"Information Technology","shares":54,"position":9119.52},{"rank":34,"ticker":"HRL","momentum":43.4248103855,"atr":0.93325,"price":47.31,"sector":"Consumer Staples","shares":267,"position":12631.77},{"rank":35,"ticker":"ABC","momentum":43.04050651,"atr":3.406465,"price":142.11,"sector":"Health Care","shares":73,"position":10374.03},{"rank":36,"ticker":"PG","momentum":42.8070378442,"atr":3.06573,"price":159.82,"sector":"Consumer Staples","shares":81,"position":12945.42},{"rank":37,"ticker":"EMN","momentum":40.8874056536,"atr":3.22202,"price":121.82,"sector":"Materials","shares":77,"position":9380.14},{"rank":38,"ticker":"KR","momentum":40.6446818385,"atr":1.38675,"price":45.23,"sector":"Consumer Staples","shares":180,"position":8141.4},{"rank":39,"ticker":"FE","momentum":37.9765887496,"atr":0.9215,"price":41.12,"sector":"Utilities","shares":271,"position":11143.52},{"rank":40,"ticker":"MDLZ","momentum":37.6959169668,"atr":1.494545,"price":66.06,"sector":"Consumer Staples","shares":167,"position":11032.02},{"rank":41,"ticker":"KO","momentum":37.1955117771,"atr":1.29684,"price":62.12,"sector":"Consumer Staples","shares":192,"position":11927.04},{"rank":42,"ticker":"BRK.B","momentum":36.588988176,"atr":6.41299,"price":313.55,"sector":"Financials","shares":38,"position":11914.9},{"rank":43,"ticker":"SCHW","momentum":36.5032987701,"atr":3.12248,"price":86.02,"sector":"Financials","shares":80,"position":6881.6},{"rank":44,"ticker":"ED","momentum":35.9091105027,"atr":1.80065,"price":81.45,"sector":"Utilities","shares":138,"position":11240.1},{"rank":45,"ticker":"HPE","momentum":35.7166989291,"atr":0.485905,"price":17.24,"sector":"Information Technology","shares":514,"position":8861.36},{"rank":46,"ticker":"MTB","momentum":35.6793104799,"atr":5.396835,"price":182.66,"sector":"Financials","shares":46,"position":8402.36},{"rank":47,"ticker":"GIS","momentum":35.6333883301,"atr":1.34304,"price":67.79,"sector":"Consumer Staples","shares":186,"position":12608.94},{"rank":48,"ticker":"CTSH","momentum":34.4527117597,"atr":2.71741,"price":85.92,"sector":"Information Technology","shares":91,"position":7818.72},{"rank":49,"ticker":"PSA","momentum":33.0414026055,"atr":8.908185,"price":346.06,"sector":"Real Estate","shares":28,"position":9689.68},{"rank":50,"ticker":"NEM","momentum":32.8787930447,"atr":1.92552,"price":67.75,"sector":"Materials","shares":129,"position":8739.75},{"rank":51,"ticker":"MPC","momentum":32.3102330088,"atr":2.484995,"price":76.96,"sector":"Energy","shares":100,"position":7696.0},{"rank":52,"ticker":"WFC","momentum":30.4902354003,"atr":1.729385,"price":56.15,"sector":"Financials","shares":144,"position":8085.6},{"rank":53,"ticker":"AMGN","momentum":30.3410001358,"atr":6.03829,"price":221.68,"sector":"Health Care","shares":41,"position":9088.88},{"rank":54,"ticker":"CME","momentum":29.8702467332,"atr":6.442975,"price":238.85,"sector":"Financials","shares":38,"position":9076.3},{"rank":55,"ticker":"CMA","momentum":28.4071793256,"atr":3.258475,"price":96.79,"sector":"Financials","shares":76,"position":7356.04},{"rank":56,"ticker":"WY","momentum":28.382408865,"atr":1.18558,"price":39.17,"sector":"Real Estate","shares":210,"position":8225.7},{"rank":57,"ticker":"BDX","momentum":28.086359039,"atr":6.38588,"price":266.15,"sector":"Health Care","shares":39,"position":10379.85},{"rank":58,"ticker":"DE","momentum":27.885753329,"atr":11.775455,"price":380.53,"sector":"Industrials","shares":21,"position":7991.13},{"rank":59,"ticker":"PBCT","momentum":25.7868921603,"atr":0.63875,"price":20.82,"sector":"Financials","shares":391,"position":8140.62},{"rank":60,"ticker":"CPB","momentum":25.6710886699,"atr":0.91935,"price":44.19,"sector":"Consumer Staples","shares":271,"position":11975.49},{"rank":61,"ticker":"PFG","momentum":25.4164766662,"atr":2.52664,"price":72.82,"sector":"Financials","shares":98,"position":7136.36},{"rank":62,"ticker":"WRB","momentum":24.7936602944,"atr":2.24458,"price":89.76,"sector":"Financials","shares":111,"position":9963.36},{"rank":63,"ticker":"GL","momentum":24.5540241197,"atr":2.702125,"price":104.64,"sector":"Financials","shares":92,"position":9626.88},{"rank":64,"ticker":"SEE","momentum":24.2770238061,"atr":1.913495,"price":67.35,"sector":"Materials","shares":130,"position":8755.5},{"rank":65,"ticker":"CTVA","momentum":23.9894651995,"atr":1.43075,"price":51.27,"sector":"Materials","shares":174,"position":8920.98},{"rank":66,"ticker":"SLB","momentum":23.6721929949,"atr":1.738675,"price":41.11,"sector":"Energy","shares":143,"position":5878.73},{"rank":67,"ticker":"BAX","momentum":23.3770888396,"atr":1.89625,"price":82.8,"sector":"Health Care","shares":131,"position":10846.8},{"rank":68,"ticker":"CI","momentum":22.3742282879,"atr":6.997175,"price":227.11,"sector":"Health Care","shares":35,"position":7948.85},{"rank":69,"ticker":"PCAR","momentum":22.2438239441,"atr":2.691325,"price":93.64,"sector":"Industrials","shares":92,"position":8614.88},{"rank":70,"ticker":"KEY","momentum":21.8177909006,"atr":0.72726,"price":25.73,"sector":"Financials","shares":343,"position":8825.39},{"rank":71,"ticker":"LMT","momentum":19.8078849036,"atr":8.463575,"price":388.77,"sector":"Industrials","shares":29,"position":11274.33},{"rank":72,"ticker":"PEP","momentum":19.5475604102,"atr":3.69556,"price":166.75,"sector":"Consumer Staples","shares":67,"position":11172.25},{"rank":73,"ticker":"AVGO","momentum":18.3532569178,"atr":22.577645,"price":579.0,"sector":"Information Technology","shares":11,"position":6369.0},{"rank":74,"ticker":"PM","momentum":18.3500717887,"atr":2.0252,"price":111.9,"sector":"Consumer Staples","shares":123,"position":13763.7},{"rank":75,"ticker":"MO","momentum":18.1686140544,"atr":0.97753,"price":51.37,"sector":"Consumer Staples","shares":255,"position":13099.35},{"rank":76,"ticker":"ANTM","momentum":18.0625086486,"atr":12.963245,"price":451.34,"sector":"Health Care","shares":19,"position":8575.46},{"rank":77,"ticker":"OXY","momentum":17.719164222,"atr":2.07274,"price":39.86,"sector":"Energy","shares":120,"position":4783.2},{"rank":78,"ticker":"CFG","momentum":17.31739218,"atr":1.6385,"price":53.09,"sector":"Financials","shares":152,"position":8069.68},{"rank":79,"ticker":"CAG","momentum":16.8700667883,"atr":0.721465,"price":35.88,"sector":"Consumer Staples","shares":346,"position":12414.48},{"rank":80,"ticker":"CB","momentum":16.3154369458,"atr":5.25917,"price":203.63,"sector":"Financials","shares":47,"position":9570.61},{"rank":81,"ticker":"SRE","momentum":16.0916381925,"atr":2.64,"price":135.39,"sector":"Utilities","shares":94,"position":12726.66},{"rank":82,"ticker":"UNH","momentum":15.8093060861,"atr":11.517505,"price":470.34,"sector":"Health Care","shares":21,"position":9877.14},{"rank":83,"ticker":"TAP","momentum":15.5569275027,"atr":1.312495,"price":48.75,"sector":"Consumer Staples","shares":190,"position":9262.5},{"rank":84,"ticker":"VTRS","momentum":15.5527489112,"atr":0.379285,"price":14.83,"sector":"Health Care","shares":659,"position":9772.97},{"rank":85,"ticker":"D","momentum":15.2641644991,"atr":1.65574,"price":79.14,"sector":"Utilities","shares":150,"position":11871.0},{"rank":86,"ticker":"L","momentum":14.416697623,"atr":1.442085,"price":61.0,"sector":"Financials","shares":173,"position":10553.0},{"rank":87,"ticker":"RJF","momentum":14.0250533989,"atr":3.665235,"price":108.98,"sector":"Financials","shares":68,"position":7410.64},{"rank":88,"ticker":"ZION","momentum":13.7555784834,"atr":2.49825,"price":71.22,"sector":"Financials","shares":100,"position":7122.0},{"rank":89,"ticker":"PNW","momentum":13.552043691,"atr":1.46425,"price":68.76,"sector":"Utilities","shares":170,"position":11689.2},{"rank":90,"ticker":"CMS","momentum":13.0614670101,"atr":1.37205,"price":62.4,"sector":"Utilities","shares":182,"position":11356.8},{"rank":91,"ticker":"PEG","momentum":12.9025137013,"atr":1.35275,"price":64.73,"sector":"Utilities","shares":184,"position":11910.32},{"rank":92,"ticker":"FCX","momentum":12.7901241919,"atr":1.954985,"price":43.21,"sector":"Materials","shares":127,"position":5487.67},{"rank":93,"ticker":"TRV","momentum":12.3392255307,"atr":3.679525,"price":170.59,"sector":"Financials","shares":67,"position":11429.53},{"rank":94,"ticker":"FITB","momentum":12.2842076409,"atr":1.473525,"price":48.19,"sector":"Financials","shares":169,"position":8144.11},{"rank":95,"ticker":"NLOK","momentum":11.8501046041,"atr":0.882185,"price":28.19,"sector":"Information Technology","shares":283,"position":7977.77},{"rank":96,"ticker":"MA","momentum":11.7261052207,"atr":14.408305,"price":373.7,"sector":"Information Technology","shares":17,"position":6352.9},{"rank":97,"ticker":"HWM","momentum":11.7047227686,"atr":1.255615,"price":34.98,"sector":"Industrials","shares":199,"position":6961.02},{"rank":98,"ticker":"BKR","momentum":11.3250102574,"atr":1.21074,"price":29.43,"sector":"Energy","shares":206,"position":6062.58},{"rank":99,"ticker":"DD","momentum":10.6331611016,"atr":2.351905,"price":79.73,"sector":"Materials","shares":106,"position":8451.38},{"rank":100,"ticker":"PSX","momentum":9.3801103011,"atr":3.290035,"price":87.04,"sector":"Energy","shares":75,"position":6528.0},{"rank":101,"ticker":"VLO","momentum":9.331065386,"atr":3.26077,"price":87.04,"sector":"Energy","shares":76,"position":6615.04},{"rank":102,"ticker":"PKG","momentum":8.8486745411,"atr":3.884115,"price":148.53,"sector":"Materials","shares":64,"position":9505.92},{"rank":103,"ticker":"JNJ","momentum":8.838135384,"atr":2.993505,"price":166.19,"sector":"Health Care","shares":83,"position":13793.77},{"rank":104,"ticker":"UNP","momentum":8.6854233957,"atr":5.85919,"price":250.99,"sector":"Industrials","shares":42,"position":10541.58},{"rank":105,"ticker":"KIM","momentum":7.2078610096,"atr":0.762785,"price":23.88,"sector":"Real Estate","shares":327,"position":7808.76},{"rank":106,"ticker":"GLW","momentum":7.1823095012,"atr":1.27656,"price":41.36,"sector":"Information Technology","shares":195,"position":8065.2},{"rank":107,"ticker":"RE","momentum":7.1320413171,"atr":7.91738,"price":302.76,"sector":"Financials","shares":31,"position":9385.56},{"rank":108,"ticker":"BRO","momentum":6.8963720251,"atr":2.11909,"price":65.63,"sector":"Financials","shares":117,"position":7678.71},{"rank":109,"ticker":"SBNY","momentum":6.7681415897,"atr":15.0975,"price":338.59,"sector":"Financials","shares":16,"position":5417.44},{"rank":110,"ticker":"GD","momentum":6.6339031152,"atr":4.74885,"price":214.4,"sector":"Industrials","shares":52,"position":11148.8},{"rank":111,"ticker":"MET","momentum":6.1415960236,"atr":2.05746,"price":69.81,"sector":"Financials","shares":121,"position":8447.01},{"rank":112,"ticker":"MOS","momentum":5.8829584128,"atr":2.08013,"price":46.02,"sector":"Materials","shares":120,"position":5522.4},{"rank":113,"ticker":"MAR","momentum":5.5807589321,"atr":6.071725,"price":178.17,"sector":"Consumer Discretionary","shares":41,"position":7304.97},{"rank":114,"ticker":"K","momentum":5.3057929507,"atr":1.439445,"price":64.84,"sector":"Consumer Staples","shares":173,"position":11217.32},{"rank":115,"ticker":"UPS","momentum":5.2820627356,"atr":7.25915,"price":210.71,"sector":"Industrials","shares":34,"position":7164.14},{"rank":116,"ticker":"ORLY","momentum":3.410514869,"atr":19.135205,"price":674.94,"sector":"Consumer Discretionary","shares":13,"position":8774.22},{"rank":117,"ticker":"HES","momentum":3.0044195447,"atr":4.046085,"price":94.2,"sector":"Energy","shares":61,"position":5746.2},{"rank":118,"ticker":"PRU","momentum":3.0030794259,"atr":3.591415,"price":114.25,"sector":"Financials","shares":69,"position":7883.25},{"rank":119,"ticker":"HLT","momentum":2.6558266904,"atr":5.63366,"price":153.04,"sector":"Consumer Discretionary","shares":44,"position":6733.76},{"rank":120,"ticker":"HST","momentum":2.5392117607,"atr":0.653395,"price":19.3,"sector":"Real Estate","shares":382,"position":7372.6},{"rank":121,"ticker":"LYB","momentum":2.0236972121,"atr":2.91705,"price":100.95,"sector":"Materials","shares":85,"position":8580.75},{"rank":122,"ticker":"COST","momentum":1.9107930701,"atr":13.626135,"price":515.01,"sector":"Consumer Staples","shares":18,"position":9270.18},{"rank":123,"ticker":"DVA","momentum":1.7620757181,"atr":2.931875,"price":117.32,"sector":"Health Care","shares":85,"position":9972.2},{"rank":124,"ticker":"NOC","momentum":1.4864902234,"atr":11.117255,"price":398.11,"sector":"Industrials","shares":22,"position":8758.42},{"rank":125,"ticker":"REGN","momentum":1.2553521494,"atr":17.004625,"price":626.72,"sector":"Health Care","shares":14,"position":8774.08},{"rank":126,"ticker":"DOW","momentum":1.1478762193,"atr":1.715285,"price":61.17,"sector":"Materials","shares":145,"position":8869.65},{"rank":127,"ticker":"VZ","momentum":1.1393133967,"atr":1.03353,"price":53.58,"sector":"Communication Services","shares":241,"position":12912.78},{"rank":128,"ticker":"CTRA","momentum":1.076936819,"atr":0.91991,"price":22.79,"sector":"Energy","shares":271,"position":6176.09},{"rank":129,"ticker":"RTX","momentum":0.9633919572,"atr":2.36857,"price":94.36,"sector":"Industrials","shares":105,"position":9907.8},{"rank":130,"ticker":"UHS","momentum":0.9619319876,"atr":3.964155,"price":136.36,"sector":"Health Care","shares":63,"position":8590.68},{"rank":131,"ticker":"RHI","momentum":0.8170159249,"atr":3.44675,"price":121.13,"sector":"Industrials","shares":72,"position":8721.36},{"rank":132,"ticker":"JKHY","momentum":0.7422779635,"atr":5.05544,"price":170.35,"sector":"Information Technology","shares":49,"position":8347.15},{"rank":133,"ticker":"WMB","momentum":0.6243762278,"atr":0.7475,"price":29.69,"sector":"Energy","shares":334,"position":9916.46},{"rank":134,"ticker":"AIG","momentum":0.6123136281,"atr":2.05738,"price":61.38,"sector":"Financials","shares":121,"position":7426.98},{"rank":135,"ticker":"AXP","momentum":0.45133042,"atr":5.519205,"price":195.71,"sector":"Financials","shares":45,"position":8806.95},{"rank":136,"ticker":"NUE","momentum":0.4500876587,"atr":4.90118,"price":120.94,"sector":"Materials","shares":51,"position":6167.94},{"rank":137,"ticker":"HAS","momentum":0.4304549163,"atr":3.41089,"price":99.08,"sector":"Consumer Discretionary","shares":73,"position":7232.84},{"rank":138,"ticker":"SYY","momentum":0.4250794794,"atr":2.51425,"price":84.26,"sector":"Consumer Staples","shares":99,"position":8341.74},{"rank":139,"ticker":"RF","momentum":0.2467962402,"atr":0.85351,"price":23.9,"sector":"Financials","shares":292,"position":6978.8},{"rank":140,"ticker":"NWL","momentum":0.2076101977,"atr":0.943355,"price":25.92,"sector":"Consumer Discretionary","shares":265,"position":6868.8},{"rank":141,"ticker":"V","momentum":0.1729283171,"atr":6.91375,"price":224.61,"sector":"Information Technology","shares":36,"position":8085.96},{"rank":142,"ticker":"BKNG","momentum":0.1667010172,"atr":89.243,"price":2623.95,"sector":"Consumer Discretionary","shares":2,"position":5247.9},{"rank":143,"ticker":"BSX","momentum":0.1507852664,"atr":1.261,"price":42.83,"sector":"Health Care","shares":198,"position":8480.34},{"rank":144,"ticker":"BAC","momentum":0.1067032472,"atr":1.35137,"price":46.07,"sector":"Financials","shares":184,"position":8476.88},{"rank":145,"ticker":"TFC","momentum":0.1050745746,"atr":1.919295,"price":62.55,"sector":"Financials","shares":130,"position":8131.5},{"rank":146,"ticker":"DXC","momentum":0.0887321349,"atr":1.49642,"price":35.79,"sector":"Information Technology","shares":167,"position":5976.93},{"rank":147,"ticker":"BXP","momentum":0.0729594991,"atr":3.51825,"price":122.02,"sector":"Real Estate","shares":71,"position":8663.42},{"rank":148,"ticker":"ALL","momentum":0.0023786187,"atr":3.207175,"price":122.64,"sector":"Financials","shares":77,"position":9443.28},{"rank":149,"ticker":"DFS","momentum":0.0014690854,"atr":4.01803,"price":123.08,"sector":"Financials","shares":62,"position":7630.96},{"rank":150,"ticker":"ALK","momentum":0.0004620997,"atr":2.293965,"price":58.89,"sector":"Industrials","shares":108,"position":6360.12},{"rank":151,"ticker":"HSIC","momentum":-0.0000744188,"atr":2.45055,"price":84.0,"sector":"Health Care","shares":102,"position":8568.0},{"rank":152,"ticker":"CSX","momentum":-0.0001799626,"atr":0.921785,"price":35.1,"sector":"Industrials","shares":271,"position":9512.1},{"rank":153,"ticker":"TDG","momentum":-0.0018688513,"atr":22.506,"price":657.8,"sector":"Industrials","shares":11,"position":7235.8},{"rank":154,"ticker":"SNA","momentum":-0.0105160056,"atr":6.0979,"price":216.34,"sector":"Industrials","shares":40,"position":8653.6},{"rank":155,"ticker":"FOXA","momentum":-0.0379332603,"atr":1.311605,"price":42.91,"sector":"Communication Services","shares":190,"position":8152.9},{"rank":156,"ticker":"TMUS","momentum":-0.0836203912,"atr":3.676,"price":124.55,"sector":"Communication Services","shares":68,"position":8469.4},{"rank":157,"ticker":"CINF","momentum":-0.1382486912,"atr":3.40795,"price":126.25,"sector":"Financials","shares":73,"position":9216.25},{"rank":158,"ticker":"KHC","momentum":-0.163380574,"atr":0.94062,"price":37.79,"sector":"Consumer Staples","shares":265,"position":10014.35},{"rank":159,"ticker":"WAB","momentum":-0.4056503839,"atr":3.18038,"price":96.04,"sector":"Industrials","shares":78,"position":7491.12},{"rank":160,"ticker":"BA","momentum":-0.4995760902,"atr":8.085565,"price":213.58,"sector":"Industrials","shares":30,"position":6407.4},{"rank":161,"ticker":"FOX","momentum":-0.5113722717,"atr":1.12925,"price":38.66,"sector":"Communication Services","shares":221,"position":8543.86},{"rank":162,"ticker":"WYNN","momentum":-1.1116811464,"atr":3.87234,"price":93.87,"sector":"Consumer Discretionary","shares":64,"position":6007.68},{"rank":163,"ticker":"XRAY","momentum":-1.2836582293,"atr":1.509795,"price":55.55,"sector":"Health Care","shares":165,"position":9165.75},{"rank":164,"ticker":"OGN","momentum":-1.4342476556,"atr":1.07964,"price":36.37,"sector":"Health Care","shares":231,"position":8401.47},{"rank":165,"ticker":"RL","momentum":-1.5424717373,"atr":4.54075,"price":126.7,"sector":"Consumer Discretionary","shares":55,"position":6968.5},{"rank":166,"ticker":"UAL","momentum":-1.7660578672,"atr":2.17739,"price":48.36,"sector":"Industrials","shares":114,"position":5513.04},{"rank":167,"ticker":"NWS","momentum":-2.1399931122,"atr":0.77725,"price":23.06,"sector":"Communication Services","shares":321,"position":7402.26},{"rank":168,"ticker":"COF","momentum":-2.3605165425,"atr":5.235785,"price":154.36,"sector":"Financials","shares":47,"position":7254.92},{"rank":169,"ticker":"VNO","momentum":-2.7506238582,"atr":1.50496,"price":45.08,"sector":"Real Estate","shares":166,"position":7483.28},{"rank":170,"ticker":"AIZ","momentum":-2.8647893162,"atr":4.071,"price":166.02,"sector":"Financials","shares":61,"position":10127.22},{"rank":171,"ticker":"OKE","momentum":-3.278318173,"atr":1.88271,"price":62.6,"sector":"Energy","shares":132,"position":8263.2},{"rank":172,"ticker":"NWSA","momentum":-3.7520557318,"atr":0.80398,"price":22.76,"sector":"Communication Services","shares":310,"position":7055.6},{"rank":173,"ticker":"LHX","momentum":-4.440739481,"atr":5.99705,"price":221.0,"sector":"Industrials","shares":41,"position":9061.0},{"rank":174,"ticker":"CEG","momentum":-38.7337329933,"atr":0.1,"price":45.29,"sector":"Utilities","shares":2500,"position":113225.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

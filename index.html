<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MOS","momentum":549.0579001376,"atr":4.67676,"price":55.86,"sector":"Materials","shares":53,"position":2960.58},{"rank":2,"ticker":"CF","momentum":294.2216945277,"atr":5.7435,"price":90.88,"sector":"Materials","shares":43,"position":3907.84},{"rank":3,"ticker":"CTRA","momentum":233.9627370232,"atr":1.492635,"price":29.32,"sector":"Energy","shares":167,"position":4896.44},{"rank":4,"ticker":"CEG","momentum":206.4373039599,"atr":2.885315,"price":57.62,"sector":"Utilities","shares":86,"position":4955.32},{"rank":5,"ticker":"HAL","momentum":180.2599351199,"atr":1.892275,"price":33.36,"sector":"Energy","shares":132,"position":4403.52},{"rank":6,"ticker":"VLO","momentum":174.1822426282,"atr":5.281985,"price":118.45,"sector":"Energy","shares":47,"position":5567.15},{"rank":7,"ticker":"ADM","momentum":159.8905150828,"atr":3.185495,"price":84.36,"sector":"Consumer Staples","shares":78,"position":6580.08},{"rank":8,"ticker":"CVX","momentum":148.8520609233,"atr":5.488585,"price":159.25,"sector":"Energy","shares":45,"position":7166.25},{"rank":9,"ticker":"MCK","momentum":134.6638891277,"atr":9.07958,"price":326.47,"sector":"Health Care","shares":27,"position":8814.69},{"rank":10,"ticker":"DVN","momentum":113.7571782543,"atr":3.429955,"price":62.02,"sector":"Energy","shares":72,"position":4465.44},{"rank":11,"ticker":"SRE","momentum":108.1599710675,"atr":3.375655,"price":162.03,"sector":"Utilities","shares":74,"position":11990.22},{"rank":12,"ticker":"WMB","momentum":106.8833163098,"atr":1.0795,"price":34.74,"sector":"Energy","shares":231,"position":8024.94},{"rank":13,"ticker":"MPC","momentum":105.806325377,"atr":3.34825,"price":90.86,"sector":"Energy","shares":74,"position":6723.64},{"rank":14,"ticker":"CTVA","momentum":99.8777189038,"atr":1.683495,"price":53.08,"sector":"Materials","shares":148,"position":7855.84},{"rank":15,"ticker":"WRB","momentum":98.7658198878,"atr":1.71841,"price":67.23,"sector":"Financials","shares":145,"position":9748.35},{"rank":16,"ticker":"AIZ","momentum":94.0299429007,"atr":4.239845,"price":180.97,"sector":"Financials","shares":58,"position":10496.26},{"rank":17,"ticker":"BMY","momentum":90.1923561009,"atr":1.62102,"price":76.27,"sector":"Health Care","shares":154,"position":11745.58},{"rank":18,"ticker":"LMT","momentum":86.7791418695,"atr":11.42239,"price":438.84,"sector":"Industrials","shares":21,"position":9215.64},{"rank":19,"ticker":"KR","momentum":82.9162658783,"atr":1.5075,"price":54.84,"sector":"Consumer Staples","shares":165,"position":9048.6},{"rank":20,"ticker":"XOM","momentum":81.8244067537,"atr":3.097385,"price":84.46,"sector":"Energy","shares":80,"position":6756.8},{"rank":21,"ticker":"ABC","momentum":78.1851355766,"atr":3.96165,"price":157.32,"sector":"Health Care","shares":63,"position":9911.16},{"rank":22,"ticker":"PXD","momentum":74.0852065629,"atr":10.206765,"price":244.39,"sector":"Energy","shares":24,"position":5865.36},{"rank":23,"ticker":"EXC","momentum":73.4544622408,"atr":1.093635,"price":46.73,"sector":"Utilities","shares":228,"position":10654.44},{"rank":24,"ticker":"COP","momentum":71.7283328139,"atr":4.60236,"price":97.2,"sector":"Energy","shares":54,"position":5248.8},{"rank":25,"ticker":"LDOS","momentum":63.7902624852,"atr":2.2915,"price":99.38,"sector":"Industrials","shares":109,"position":10832.42},{"rank":26,"ticker":"PKG","momentum":62.7861083702,"atr":3.826505,"price":160.78,"sector":"Materials","shares":65,"position":10450.7},{"rank":27,"ticker":"IRM","momentum":57.254870286,"atr":1.55775,"price":53.01,"sector":"Real Estate","shares":160,"position":8481.6},{"rank":28,"ticker":"NOC","momentum":55.461045401,"atr":12.223945,"price":453.98,"sector":"Industrials","shares":20,"position":9079.6},{"rank":29,"ticker":"ABBV","momentum":55.2230741067,"atr":5.459855,"price":150.96,"sector":"Health Care","shares":45,"position":6793.2},{"rank":30,"ticker":"HSY","momentum":54.6443303156,"atr":4.88595,"price":223.2,"sector":"Consumer Staples","shares":51,"position":11383.2},{"rank":31,"ticker":"GD","momentum":54.3889965155,"atr":5.75665,"price":229.37,"sector":"Industrials","shares":43,"position":9862.91},{"rank":32,"ticker":"LLY","momentum":51.2587017348,"atr":8.03153,"price":289.23,"sector":"Health Care","shares":31,"position":8966.13},{"rank":33,"ticker":"KHC","momentum":51.2088966512,"atr":1.00342,"price":44.19,"sector":"Consumer Staples","shares":249,"position":11003.31},{"rank":34,"ticker":"CNP","momentum":48.7704672946,"atr":0.67905,"price":30.38,"sector":"Utilities","shares":368,"position":11179.84},{"rank":35,"ticker":"ED","momentum":48.2905985875,"atr":2.012795,"price":94.38,"sector":"Utilities","shares":124,"position":11703.12},{"rank":36,"ticker":"DTE","momentum":44.784348831,"atr":2.66699,"price":129.52,"sector":"Utilities","shares":93,"position":12045.36},{"rank":37,"ticker":"ANTM","momentum":44.1668989378,"atr":13.5817,"price":490.88,"sector":"Health Care","shares":18,"position":8835.84},{"rank":38,"ticker":"AEP","momentum":43.8488433226,"atr":2.212565,"price":99.69,"sector":"Utilities","shares":112,"position":11165.28},{"rank":39,"ticker":"VTR","momentum":42.6473357434,"atr":1.4455,"price":55.63,"sector":"Real Estate","shares":172,"position":9568.36},{"rank":40,"ticker":"ATO","momentum":41.5147527425,"atr":2.451775,"price":113.63,"sector":"Utilities","shares":101,"position":11476.63},{"rank":41,"ticker":"CINF","momentum":41.4145076221,"atr":3.59719,"price":125.02,"sector":"Financials","shares":69,"position":8626.38},{"rank":42,"ticker":"DOW","momentum":41.3838859508,"atr":1.9592,"price":66.63,"sector":"Materials","shares":127,"position":8462.01},{"rank":43,"ticker":"MO","momentum":40.2990695227,"atr":1.13758,"price":55.26,"sector":"Consumer Staples","shares":219,"position":12101.94},{"rank":44,"ticker":"HII","momentum":37.2013111454,"atr":6.721655,"price":209.98,"sector":"Industrials","shares":37,"position":7769.26},{"rank":45,"ticker":"HSIC","momentum":36.2329406079,"atr":2.380205,"price":85.0,"sector":"Health Care","shares":105,"position":8925.0},{"rank":46,"ticker":"LHX","momentum":35.450093546,"atr":7.1981,"price":239.25,"sector":"Industrials","shares":34,"position":8134.5},{"rank":47,"ticker":"HST","momentum":33.9237527577,"atr":0.893065,"price":19.11,"sector":"Real Estate","shares":279,"position":5331.69},{"rank":48,"ticker":"KMI","momentum":32.2462895044,"atr":0.53685,"price":18.6,"sector":"Energy","shares":465,"position":8649.0},{"rank":49,"ticker":"TAP","momentum":31.8780313242,"atr":1.5935,"price":53.67,"sector":"Consumer Staples","shares":156,"position":8372.52},{"rank":50,"ticker":"ALL","momentum":30.1357401006,"atr":3.45941,"price":128.96,"sector":"Financials","shares":72,"position":9285.12},{"rank":51,"ticker":"CMS","momentum":28.7627349221,"atr":1.479305,"price":69.18,"sector":"Utilities","shares":168,"position":11622.24},{"rank":52,"ticker":"LYB","momentum":26.7731340347,"atr":3.49953,"price":106.6,"sector":"Materials","shares":71,"position":7568.6},{"rank":53,"ticker":"NI","momentum":25.6592399646,"atr":0.639355,"price":29.44,"sector":"Utilities","shares":391,"position":11511.04},{"rank":54,"ticker":"EIX","momentum":24.8096127383,"atr":1.52875,"price":70.06,"sector":"Utilities","shares":163,"position":11419.78},{"rank":55,"ticker":"DUK","momentum":22.9924061217,"atr":2.290055,"price":110.8,"sector":"Utilities","shares":109,"position":12077.2},{"rank":56,"ticker":"L","momentum":22.7534253281,"atr":1.475115,"price":63.08,"sector":"Financials","shares":169,"position":10660.52},{"rank":57,"ticker":"SO","momentum":22.5583493464,"atr":1.641525,"price":74.23,"sector":"Utilities","shares":152,"position":11282.96},{"rank":58,"ticker":"HRL","momentum":22.1593462516,"atr":1.042555,"price":52.55,"sector":"Consumer Staples","shares":239,"position":12559.45},{"rank":59,"ticker":"ETR","momentum":21.4994929824,"atr":2.617125,"price":119.26,"sector":"Utilities","shares":95,"position":11329.7},{"rank":60,"ticker":"CI","momentum":21.4692790993,"atr":6.9246,"price":261.41,"sector":"Health Care","shares":36,"position":9410.76},{"rank":61,"ticker":"FANG","momentum":21.38009549,"atr":7.007475,"price":129.49,"sector":"Energy","shares":35,"position":4532.15},{"rank":62,"ticker":"TRV","momentum":19.9112110398,"atr":3.72365,"price":171.92,"sector":"Financials","shares":67,"position":11518.64},{"rank":63,"ticker":"WMT","momentum":19.592624019,"atr":3.28625,"price":151.31,"sector":"Consumer Staples","shares":76,"position":11499.56},{"rank":64,"ticker":"XEL","momentum":19.4795445524,"atr":1.48125,"price":73.65,"sector":"Utilities","shares":168,"position":12373.2},{"rank":65,"ticker":"AEE","momentum":19.428721818,"atr":1.71988,"price":92.68,"sector":"Utilities","shares":145,"position":13438.6},{"rank":66,"ticker":"D","momentum":19.2444026092,"atr":1.7007,"price":83.77,"sector":"Utilities","shares":146,"position":12230.42},{"rank":67,"ticker":"PNW","momentum":18.9896971332,"atr":1.71225,"price":74.25,"sector":"Utilities","shares":146,"position":10840.5},{"rank":68,"ticker":"PEG","momentum":18.3921066657,"atr":1.43775,"price":69.06,"sector":"Utilities","shares":173,"position":11947.38},{"rank":69,"ticker":"WRK","momentum":18.0358394414,"atr":1.47291,"price":51.31,"sector":"Materials","shares":169,"position":8671.39},{"rank":70,"ticker":"CB","momentum":17.4356507873,"atr":5.09155,"price":205.11,"sector":"Financials","shares":49,"position":10050.39},{"rank":71,"ticker":"MRK","momentum":17.0030422386,"atr":1.966965,"price":87.64,"sector":"Health Care","shares":127,"position":11130.28},{"rank":72,"ticker":"AMGN","momentum":15.3352565808,"atr":6.065945,"price":239.24,"sector":"Health Care","shares":41,"position":9808.84},{"rank":73,"ticker":"JNJ","momentum":13.5899907398,"atr":3.36696,"price":177.33,"sector":"Health Care","shares":74,"position":13122.42},{"rank":74,"ticker":"KO","momentum":13.273944675,"atr":1.3416,"price":64.61,"sector":"Consumer Staples","shares":186,"position":12017.46},{"rank":75,"ticker":"DG","momentum":10.5679168269,"atr":5.937945,"price":231.37,"sector":"Consumer Discretionary","shares":42,"position":9717.54},{"rank":76,"ticker":"WEC","momentum":10.3510499466,"atr":2.12475,"price":101.94,"sector":"Utilities","shares":117,"position":11926.98},{"rank":77,"ticker":"ROL","momentum":7.9884797314,"atr":0.93169,"price":33.61,"sector":"Industrials","shares":268,"position":9007.48},{"rank":78,"ticker":"PGR","momentum":6.3883118994,"atr":3.20181,"price":108.75,"sector":"Financials","shares":78,"position":8482.5},{"rank":79,"ticker":"EVRG","momentum":5.7868028818,"atr":1.413245,"price":67.9,"sector":"Utilities","shares":176,"position":11950.4},{"rank":80,"ticker":"CERN","momentum":4.3240143479,"atr":0.321905,"price":93.67,"sector":"Health Care","shares":776,"position":72687.92},{"rank":81,"ticker":"CPB","momentum":3.7368098477,"atr":1.0945,"price":51.39,"sector":"Consumer Staples","shares":228,"position":11716.92},{"rank":82,"ticker":"MKC","momentum":3.3678958782,"atr":2.352595,"price":98.52,"sector":"Consumer Staples","shares":106,"position":10443.12},{"rank":83,"ticker":"OGN","momentum":2.7924375097,"atr":1.09619,"price":34.72,"sector":"Health Care","shares":228,"position":7916.16},{"rank":84,"ticker":"WY","momentum":2.3909005177,"atr":1.293245,"price":39.22,"sector":"Real Estate","shares":193,"position":7569.46},{"rank":85,"ticker":"WM","momentum":2.3030540768,"atr":4.233785,"price":159.24,"sector":"Industrials","shares":59,"position":9395.16},{"rank":86,"ticker":"K","momentum":1.9602162615,"atr":1.549195,"price":74.53,"sector":"Consumer Staples","shares":161,"position":11999.33},{"rank":87,"ticker":"TGT","momentum":1.7471712166,"atr":6.751295,"price":224.2,"sector":"Consumer Discretionary","shares":37,"position":8295.4},{"rank":88,"ticker":"RSG","momentum":1.1437790992,"atr":3.151945,"price":130.95,"sector":"Industrials","shares":79,"position":10345.05},{"rank":89,"ticker":"ES","momentum":0.9724530204,"atr":2.00822,"price":90.54,"sector":"Utilities","shares":124,"position":11226.96},{"rank":90,"ticker":"GIS","momentum":0.8460175205,"atr":1.322755,"price":73.5,"sector":"Consumer Staples","shares":188,"position":13818.0},{"rank":91,"ticker":"PSX","momentum":0.7367608257,"atr":3.63875,"price":89.48,"sector":"Energy","shares":68,"position":6084.64},{"rank":92,"ticker":"HIG","momentum":0.3117778242,"atr":1.950845,"price":70.8,"sector":"Financials","shares":128,"position":9062.4},{"rank":93,"ticker":"CHRW","momentum":0.1000592317,"atr":3.154205,"price":107.95,"sector":"Industrials","shares":79,"position":8528.05},{"rank":94,"ticker":"TSN","momentum":0.0776561085,"atr":2.365065,"price":92.84,"sector":"Consumer Staples","shares":105,"position":9748.2},{"rank":95,"ticker":"SNA","momentum":0.0395405585,"atr":6.34618,"price":217.96,"sector":"Industrials","shares":39,"position":8500.44},{"rank":96,"ticker":"STZ","momentum":0.0095490202,"atr":5.22411,"price":246.24,"sector":"Consumer Staples","shares":47,"position":11573.28},{"rank":97,"ticker":"CAG","momentum":0.0020978921,"atr":0.80665,"price":36.29,"sector":"Consumer Staples","shares":309,"position":11213.61},{"rank":98,"ticker":"IBM","momentum":-0.0545281702,"atr":3.477315,"price":134.44,"sector":"Information Technology","shares":71,"position":9545.24},{"rank":99,"ticker":"T","momentum":-0.0675794606,"atr":0.5694985801,"price":19.55,"sector":"Communication Services","shares":438,"position":8562.9},{"rank":100,"ticker":"AMCR","momentum":-0.0787475938,"atr":0.363125,"price":12.61,"sector":"Materials","shares":688,"position":8675.68},{"rank":101,"ticker":"SJM","momentum":-0.0944439528,"atr":3.16225,"price":145.01,"sector":"Consumer Staples","shares":79,"position":11455.79},{"rank":102,"ticker":"PEP","momentum":-0.0997384143,"atr":3.56493,"price":171.7,"sector":"Consumer Staples","shares":70,"position":12019.0},{"rank":103,"ticker":"IP","momentum":-0.1496754509,"atr":1.2795,"price":47.81,"sector":"Materials","shares":195,"position":9322.95},{"rank":104,"ticker":"PM","momentum":-0.2196814946,"atr":2.31018,"price":99.87,"sector":"Consumer Staples","shares":108,"position":10785.96},{"rank":105,"ticker":"PPL","momentum":-0.5109039057,"atr":0.56706,"price":28.79,"sector":"Utilities","shares":440,"position":12667.6},{"rank":106,"ticker":"NWL","momentum":-0.5319718623,"atr":0.802,"price":24.26,"sector":"Consumer Discretionary","shares":311,"position":7544.86},{"rank":107,"ticker":"GPC","momentum":-0.6988887116,"atr":3.56378,"price":131.94,"sector":"Consumer Discretionary","shares":70,"position":9235.8},{"rank":108,"ticker":"KMB","momentum":-4.7185128744,"atr":3.58852,"price":140.34,"sector":"Consumer Staples","shares":69,"position":9683.46},{"rank":109,"ticker":"MDLZ","momentum":-4.9145896836,"atr":1.36399,"price":66.28,"sector":"Consumer Staples","shares":183,"position":12129.24},{"rank":110,"ticker":"NRG","momentum":-5.9779139959,"atr":1.2965,"price":41.43,"sector":"Utilities","shares":192,"position":7954.56},{"rank":111,"ticker":"WDC","momentum":-15.7395524677,"atr":2.30265,"price":56.53,"sector":"Information Technology","shares":108,"position":6105.24},{"rank":112,"ticker":"MHK","momentum":-35.6946459069,"atr":6.47139,"price":148.19,"sector":"Consumer Discretionary","shares":38,"position":5631.22}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

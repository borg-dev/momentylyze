<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MNST","momentum":69.3893520528,"atr":2.17783,"price":95.89,"sector":"Consumer Staples","shares":114,"position":10931.46},{"rank":2,"ticker":"VICI","momentum":27.6002715198,"atr":0.696925,"price":32.88,"sector":"Real Estate","shares":358,"position":11771.04},{"rank":3,"ticker":"LLY","momentum":26.9549235959,"atr":7.14387,"price":331.56,"sector":"Health Care","shares":34,"position":11273.04},{"rank":4,"ticker":"MRK","momentum":26.2364983886,"atr":1.786815,"price":91.29,"sector":"Health Care","shares":139,"position":12689.31},{"rank":5,"ticker":"K","momentum":22.3458481027,"atr":1.279535,"price":72.91,"sector":"Consumer Staples","shares":195,"position":14217.45},{"rank":6,"ticker":"CI","momentum":16.5969992875,"atr":7.013505,"price":274.83,"sector":"Health Care","shares":35,"position":9619.05},{"rank":7,"ticker":"GPC","momentum":13.5207766521,"atr":2.635305,"price":142.73,"sector":"Consumer Discretionary","shares":94,"position":13416.62},{"rank":8,"ticker":"AMCR","momentum":13.1549698669,"atr":0.288695,"price":12.9,"sector":"Materials","shares":865,"position":11158.5},{"rank":9,"ticker":"CPB","momentum":11.4004579355,"atr":0.862035,"price":49.0,"sector":"Consumer Staples","shares":290,"position":14210.0},{"rank":10,"ticker":"GIS","momentum":9.6076817462,"atr":1.496685,"price":74.41,"sector":"Consumer Staples","shares":167,"position":12426.47},{"rank":11,"ticker":"WAT","momentum":7.4394000246,"atr":9.13123,"price":349.14,"sector":"Health Care","shares":27,"position":9426.78},{"rank":12,"ticker":"VRTX","momentum":6.9232930523,"atr":7.49123,"price":288.22,"sector":"Health Care","shares":33,"position":9511.26},{"rank":13,"ticker":"BF.B","momentum":5.9480481527,"atr":1.211465,"price":71.87,"sector":"Consumer Staples","shares":206,"position":14805.22},{"rank":14,"ticker":"TMUS","momentum":5.207976744,"atr":3.41515,"price":133.91,"sector":"Communication Services","shares":73,"position":9775.43},{"rank":15,"ticker":"TAP","momentum":4.938910262,"atr":1.327165,"price":58.12,"sector":"Consumer Staples","shares":188,"position":10926.56},{"rank":16,"ticker":"MCK","momentum":4.3306597475,"atr":7.86727,"price":337.67,"sector":"Health Care","shares":31,"position":10467.77},{"rank":17,"ticker":"XOM","momentum":3.4965996965,"atr":3.19931,"price":89.63,"sector":"Energy","shares":78,"position":6991.14},{"rank":18,"ticker":"KMB","momentum":3.4121995228,"atr":2.225485,"price":133.97,"sector":"Consumer Staples","shares":112,"position":15004.64},{"rank":19,"ticker":"AZO","momentum":1.6980577269,"atr":52.87895,"price":2097.4,"sector":"Consumer Discretionary","shares":4,"position":8389.6},{"rank":20,"ticker":"DG","momentum":1.2869269236,"atr":5.4632,"price":241.39,"sector":"Consumer Discretionary","shares":45,"position":10862.55},{"rank":21,"ticker":"ROL","momentum":1.2296319083,"atr":0.78676,"price":36.22,"sector":"Industrials","shares":317,"position":11481.74},{"rank":22,"ticker":"EA","momentum":0.3450596634,"atr":2.592625,"price":130.75,"sector":"Communication Services","shares":96,"position":12552.0},{"rank":23,"ticker":"SYY","momentum":0.3011550074,"atr":1.767745,"price":86.18,"sector":"Consumer Staples","shares":141,"position":12151.38},{"rank":24,"ticker":"HII","momentum":0.286903059,"atr":5.45545,"price":210.54,"sector":"Industrials","shares":45,"position":9474.3},{"rank":25,"ticker":"MCD","momentum":0.2670964915,"atr":4.550345,"price":257.09,"sector":"Consumer Discretionary","shares":54,"position":13882.86},{"rank":26,"ticker":"CTLT","momentum":0.253081457,"atr":3.735325,"price":107.63,"sector":"Health Care","shares":66,"position":7103.58},{"rank":27,"ticker":"STZ","momentum":0.2405682688,"atr":5.629925,"price":241.5,"sector":"Consumer Staples","shares":44,"position":10626.0},{"rank":28,"ticker":"AMT","momentum":0.2401955655,"atr":6.520995,"price":258.98,"sector":"Real Estate","shares":38,"position":9841.24},{"rank":29,"ticker":"CBOE","momentum":0.2147981095,"atr":2.675,"price":125.08,"sector":"Financials","shares":93,"position":11632.44},{"rank":30,"ticker":"CL","momentum":0.1299494877,"atr":1.40898,"price":78.53,"sector":"Consumer Staples","shares":177,"position":13899.81},{"rank":31,"ticker":"AMGN","momentum":0.0651079578,"atr":4.050665,"price":251.14,"sector":"Health Care","shares":61,"position":15319.54},{"rank":32,"ticker":"DPZ","momentum":0.0447190849,"atr":10.78515,"price":386.75,"sector":"Consumer Discretionary","shares":23,"position":8895.25},{"rank":33,"ticker":"CTRA","momentum":0.0223976622,"atr":1.239345,"price":29.45,"sector":"Energy","shares":201,"position":5919.45},{"rank":34,"ticker":"SNPS","momentum":0.0104262436,"atr":9.27774,"price":339.41,"sector":"Information Technology","shares":26,"position":8824.66},{"rank":35,"ticker":"CNC","momentum":0.0103208991,"atr":2.37741,"price":93.15,"sector":"Health Care","shares":105,"position":9780.75},{"rank":36,"ticker":"MAS","momentum":0.0029044836,"atr":1.3893,"price":55.11,"sector":"Industrials","shares":179,"position":9864.69},{"rank":37,"ticker":"CDNS","momentum":-0.005211296,"atr":4.988,"price":170.75,"sector":"Information Technology","shares":50,"position":8537.5},{"rank":38,"ticker":"PWR","momentum":-0.0163356739,"atr":4.839695,"price":133.28,"sector":"Industrials","shares":51,"position":6797.28},{"rank":39,"ticker":"INCY","momentum":-0.0300741208,"atr":1.948245,"price":79.84,"sector":"Health Care","shares":128,"position":10219.52},{"rank":40,"ticker":"CAG","momentum":-0.0442839383,"atr":0.74859,"price":33.82,"sector":"Consumer Staples","shares":333,"position":11262.06},{"rank":41,"ticker":"HSY","momentum":-0.0584340745,"atr":3.313305,"price":218.01,"sector":"Consumer Staples","shares":75,"position":16350.75},{"rank":42,"ticker":"PEP","momentum":-0.0672945902,"atr":2.970005,"price":171.83,"sector":"Consumer Staples","shares":84,"position":14433.72},{"rank":43,"ticker":"KO","momentum":-0.1112411222,"atr":1.096415,"price":63.21,"sector":"Consumer Staples","shares":228,"position":14411.88},{"rank":44,"ticker":"O","momentum":-0.112040053,"atr":1.226575,"price":72.43,"sector":"Real Estate","shares":203,"position":14703.29},{"rank":45,"ticker":"PFE","momentum":-0.1236116203,"atr":1.147315,"price":52.3,"sector":"Health Care","shares":217,"position":11349.1},{"rank":46,"ticker":"ED","momentum":-0.1577396419,"atr":1.89298,"price":95.36,"sector":"Utilities","shares":132,"position":12587.52},{"rank":47,"ticker":"CMI","momentum":-0.1611666552,"atr":5.43475,"price":204.45,"sector":"Industrials","shares":46,"position":9404.7},{"rank":48,"ticker":"WEC","momentum":-0.190836153,"atr":2.0107,"price":100.65,"sector":"Utilities","shares":124,"position":12480.6},{"rank":49,"ticker":"DRE","momentum":-0.2802425546,"atr":1.5215,"price":60.15,"sector":"Real Estate","shares":164,"position":9864.6},{"rank":50,"ticker":"UNH","momentum":-0.2983630859,"atr":13.4845,"price":531.59,"sector":"Health Care","shares":18,"position":9568.62},{"rank":51,"ticker":"MHK","momentum":-0.3899368819,"atr":4.72659,"price":133.25,"sector":"Consumer Discretionary","shares":52,"position":6929.0},{"rank":52,"ticker":"SO","momentum":-0.4928853369,"atr":1.25525,"price":73.51,"sector":"Utilities","shares":199,"position":14628.49},{"rank":53,"ticker":"YUM","momentum":-0.9490338234,"atr":2.37442,"price":117.84,"sector":"Consumer Discretionary","shares":105,"position":12373.2},{"rank":54,"ticker":"NEE","momentum":-1.1907171739,"atr":1.923095,"price":79.91,"sector":"Utilities","shares":129,"position":10308.39},{"rank":55,"ticker":"MDLZ","momentum":-1.2106788697,"atr":1.1785,"price":62.94,"sector":"Consumer Staples","shares":212,"position":13343.28},{"rank":56,"ticker":"ON","momentum":-1.5230519158,"atr":2.59982,"price":58.25,"sector":"Information Technology","shares":96,"position":5592.0},{"rank":57,"ticker":"GL","momentum":-1.8650157663,"atr":2.11346,"price":100.65,"sector":"Financials","shares":118,"position":11876.7},{"rank":58,"ticker":"RSG","momentum":-2.1164932727,"atr":2.419515,"price":131.5,"sector":"Industrials","shares":103,"position":13544.5},{"rank":59,"ticker":"AVY","momentum":-2.1564700798,"atr":4.02297,"price":171.76,"sector":"Materials","shares":62,"position":10649.12},{"rank":60,"ticker":"JKHY","momentum":-2.2121364692,"atr":3.843145,"price":200.73,"sector":"Information Technology","shares":65,"position":13047.45},{"rank":61,"ticker":"BR","momentum":-2.2321410013,"atr":3.47443,"price":154.94,"sector":"Information Technology","shares":71,"position":11000.74},{"rank":62,"ticker":"SNA","momentum":-2.2879244808,"atr":4.44095,"price":215.99,"sector":"Industrials","shares":56,"position":12095.44},{"rank":63,"ticker":"SHW","momentum":-2.5720856751,"atr":6.8395,"price":254.29,"sector":"Materials","shares":36,"position":9154.44},{"rank":64,"ticker":"KLAC","momentum":-3.2704255299,"atr":13.12579,"price":345.91,"sector":"Information Technology","shares":19,"position":6572.29},{"rank":65,"ticker":"DHI","momentum":-3.3274265824,"atr":2.711325,"price":75.23,"sector":"Consumer Discretionary","shares":92,"position":6921.16},{"rank":66,"ticker":"PCAR","momentum":-3.4593739875,"atr":2.137575,"price":86.97,"sector":"Industrials","shares":116,"position":10088.52},{"rank":67,"ticker":"ORLY","momentum":-3.4599733915,"atr":13.623745,"price":675.35,"sector":"Consumer Discretionary","shares":18,"position":12156.3},{"rank":68,"ticker":"ADI","momentum":-3.6856146957,"atr":4.52825,"price":161.78,"sector":"Information Technology","shares":55,"position":8897.9},{"rank":69,"ticker":"MTB","momentum":-3.7357302109,"atr":5.12135,"price":169.8,"sector":"Financials","shares":48,"position":8150.4},{"rank":70,"ticker":"CNP","momentum":-3.826483262,"atr":0.651,"price":30.5,"sector":"Utilities","shares":384,"position":11712.0},{"rank":71,"ticker":"LEN","momentum":-4.1665788721,"atr":2.78094,"price":81.04,"sector":"Consumer Discretionary","shares":89,"position":7212.56},{"rank":72,"ticker":"SBUX","momentum":-4.2225830627,"atr":2.02501,"price":80.31,"sector":"Consumer Discretionary","shares":123,"position":9878.13},{"rank":73,"ticker":"ADP","momentum":-4.3794613395,"atr":4.821375,"price":217.91,"sector":"Information Technology","shares":51,"position":11113.41},{"rank":74,"ticker":"AJG","momentum":-4.7168222567,"atr":3.2765,"price":169.99,"sector":"Financials","shares":76,"position":12919.24},{"rank":75,"ticker":"V","momentum":-5.4384826615,"atr":5.22575,"price":212.49,"sector":"Information Technology","shares":47,"position":9987.03},{"rank":76,"ticker":"IQV","momentum":-5.8596841435,"atr":6.393925,"price":219.68,"sector":"Health Care","shares":39,"position":8567.52},{"rank":77,"ticker":"IEX","momentum":-5.9348350544,"atr":4.18225,"price":194.61,"sector":"Industrials","shares":59,"position":11481.99},{"rank":78,"ticker":"RMD","momentum":-6.5163201349,"atr":5.64053,"price":238.16,"sector":"Health Care","shares":44,"position":10479.04},{"rank":79,"ticker":"KDP","momentum":-6.7741815725,"atr":0.5785,"price":37.07,"sector":"Consumer Staples","shares":432,"position":16014.24},{"rank":80,"ticker":"KEYS","momentum":-6.8826108678,"atr":3.83483,"price":151.25,"sector":"Information Technology","shares":65,"position":9831.25},{"rank":81,"ticker":"FRC","momentum":-6.9722516495,"atr":4.138125,"price":155.09,"sector":"Financials","shares":60,"position":9305.4},{"rank":82,"ticker":"ATO","momentum":-7.3540737793,"atr":2.07097,"price":116.25,"sector":"Utilities","shares":120,"position":13950.0},{"rank":83,"ticker":"TMO","momentum":-7.440469164,"atr":15.9547,"price":573.27,"sector":"Health Care","shares":15,"position":8599.05},{"rank":84,"ticker":"FISV","momentum":-8.0770425812,"atr":2.710245,"price":102.22,"sector":"Information Technology","shares":92,"position":9404.24},{"rank":85,"ticker":"CPRT","momentum":-8.5725759462,"atr":2.9614,"price":119.65,"sector":"Industrials","shares":84,"position":10050.6},{"rank":86,"ticker":"HWM","momentum":-8.8235590966,"atr":1.006865,"price":34.83,"sector":"Industrials","shares":248,"position":8637.84},{"rank":87,"ticker":"DHR","momentum":-9.6843714289,"atr":7.943175,"price":276.5,"sector":"Health Care","shares":31,"position":8571.5},{"rank":88,"ticker":"FDS","momentum":-9.9264374342,"atr":9.71276,"price":405.24,"sector":"Financials","shares":25,"position":10131.0},{"rank":89,"ticker":"CTAS","momentum":-10.0790409226,"atr":8.6003,"price":397.83,"sector":"Industrials","shares":29,"position":11537.07},{"rank":90,"ticker":"NDAQ","momentum":-10.1791866546,"atr":4.007245,"price":173.01,"sector":"Financials","shares":62,"position":10726.62},{"rank":91,"ticker":"MSI","momentum":-10.6759982309,"atr":4.933,"price":224.27,"sector":"Information Technology","shares":50,"position":11213.5},{"rank":92,"ticker":"CDW","momentum":-11.2841483115,"atr":3.895,"price":170.1,"sector":"Information Technology","shares":64,"position":10886.4},{"rank":93,"ticker":"NXPI","momentum":-12.2535932741,"atr":6.00425,"price":174.46,"sector":"Information Technology","shares":41,"position":7152.86},{"rank":94,"ticker":"A","momentum":-12.4091463458,"atr":3.536495,"price":125.17,"sector":"Health Care","shares":70,"position":8761.9},{"rank":95,"ticker":"NDSN","momentum":-12.9636194691,"atr":5.23544,"price":217.32,"sector":"Industrials","shares":47,"position":10214.04},{"rank":96,"ticker":"GS","momentum":-13.0600585322,"atr":9.04583,"price":318.55,"sector":"Financials","shares":27,"position":8600.85},{"rank":97,"ticker":"XYL","momentum":-14.5635543507,"atr":2.062705,"price":84.92,"sector":"Industrials","shares":121,"position":10275.32},{"rank":98,"ticker":"SRE","momentum":-14.8361429137,"atr":3.358895,"price":159.68,"sector":"Utilities","shares":74,"position":11816.32},{"rank":99,"ticker":"GLW","momentum":-15.1351528659,"atr":0.96826,"price":34.94,"sector":"Information Technology","shares":258,"position":9014.52},{"rank":100,"ticker":"BIO","momentum":-15.9779625616,"atr":17.335885,"price":534.68,"sector":"Health Care","shares":14,"position":7485.52},{"rank":101,"ticker":"PPG","momentum":-17.6588288159,"atr":4.036095,"price":126.22,"sector":"Materials","shares":61,"position":7699.42},{"rank":102,"ticker":"PH","momentum":-20.3137506914,"atr":7.038335,"price":270.32,"sector":"Industrials","shares":35,"position":9461.2},{"rank":103,"ticker":"ABMD","momentum":-23.4591721926,"atr":9.503325,"price":278.51,"sector":"Health Care","shares":26,"position":7241.26},{"rank":104,"ticker":"BA","momentum":-25.8865989311,"atr":6.21801,"price":155.92,"sector":"Industrials","shares":40,"position":6236.8},{"rank":105,"ticker":"MOH","momentum":-29.0810704848,"atr":7.764,"price":308.68,"sector":"Health Care","shares":32,"position":9877.76}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"NDAQ","momentum":118.7259364825,"atr":1.196215,"price":60.73,"sector":"Financials","shares":208,"position":12631.84},{"rank":2,"ticker":"LW","momentum":99.8914323639,"atr":1.76102,"price":78.03,"sector":"Consumer Staples","shares":141,"position":11002.23},{"rank":3,"ticker":"BR","momentum":95.8120689977,"atr":3.2154,"price":165.07,"sector":"Information Technology","shares":77,"position":12710.39},{"rank":4,"ticker":"CAH","momentum":93.197375043,"atr":1.526,"price":68.2,"sector":"Health Care","shares":163,"position":11116.6},{"rank":5,"ticker":"KEYS","momentum":91.1400398058,"atr":3.89463,"price":165.96,"sector":"Information Technology","shares":64,"position":10621.44},{"rank":6,"ticker":"FDS","momentum":89.6639622091,"atr":8.55472,"price":446.46,"sector":"Financials","shares":29,"position":12947.34},{"rank":7,"ticker":"AES","momentum":85.9519881277,"atr":0.69188,"price":26.6,"sector":"Utilities","shares":361,"position":9602.6},{"rank":8,"ticker":"PWR","momentum":85.4124608066,"atr":4.159,"price":141.28,"sector":"Industrials","shares":60,"position":8476.8},{"rank":9,"ticker":"NEE","momentum":84.1098294368,"atr":1.92227,"price":86.84,"sector":"Utilities","shares":130,"position":11289.2},{"rank":10,"ticker":"GPC","momentum":76.4403928249,"atr":3.11041,"price":158.53,"sector":"Consumer Discretionary","shares":80,"position":12682.4},{"rank":11,"ticker":"SBUX","momentum":75.7354040815,"atr":2.41823,"price":92.14,"sector":"Consumer Discretionary","shares":103,"position":9490.42},{"rank":12,"ticker":"TT","momentum":68.9895658982,"atr":3.93475,"price":159.12,"sector":"Industrials","shares":63,"position":10024.56},{"rank":13,"ticker":"CDNS","momentum":67.7363110565,"atr":4.445,"price":167.19,"sector":"Information Technology","shares":56,"position":9362.64},{"rank":14,"ticker":"AJG","momentum":65.7221019232,"atr":3.36716,"price":181.39,"sector":"Financials","shares":74,"position":13422.86},{"rank":15,"ticker":"IT","momentum":62.6354049872,"atr":7.314,"price":302.9,"sector":"Information Technology","shares":34,"position":10298.6},{"rank":16,"ticker":"ON","momentum":61.8640502825,"atr":3.168855,"price":70.16,"sector":"Information Technology","shares":78,"position":5472.48},{"rank":17,"ticker":"MSI","momentum":60.1134956678,"atr":4.837,"price":240.57,"sector":"Information Technology","shares":51,"position":12269.07},{"rank":18,"ticker":"GWW","momentum":58.3397974783,"atr":11.632775,"price":535.1,"sector":"Industrials","shares":21,"position":11237.1},{"rank":19,"ticker":"ORLY","momentum":57.3210980769,"atr":13.93281,"price":695.28,"sector":"Consumer Discretionary","shares":17,"position":11819.76},{"rank":20,"ticker":"F","momentum":49.8545183477,"atr":0.513745,"price":14.93,"sector":"Consumer Discretionary","shares":486,"position":7255.98},{"rank":21,"ticker":"VICI","momentum":49.6952757764,"atr":0.622035,"price":33.54,"sector":"Real Estate","shares":401,"position":13449.54},{"rank":22,"ticker":"INTU","momentum":48.9631361732,"atr":15.38919,"price":423.69,"sector":"Information Technology","shares":16,"position":6779.04},{"rank":23,"ticker":"ADP","momentum":48.7495082959,"atr":4.925565,"price":235.72,"sector":"Information Technology","shares":50,"position":11786.0},{"rank":24,"ticker":"XYL","momentum":47.7622269508,"atr":2.4655,"price":96.47,"sector":"Industrials","shares":101,"position":9743.47},{"rank":25,"ticker":"MOH","momentum":47.3965524097,"atr":9.767295,"price":343.77,"sector":"Health Care","shares":25,"position":8594.25},{"rank":26,"ticker":"RMD","momentum":46.1158227808,"atr":5.271,"price":224.26,"sector":"Health Care","shares":47,"position":10540.22},{"rank":27,"ticker":"COST","momentum":45.4009605656,"atr":11.900445,"price":506.57,"sector":"Consumer Staples","shares":21,"position":10637.97},{"rank":28,"ticker":"BRO","momentum":44.4667625272,"atr":1.265,"price":61.75,"sector":"Financials","shares":197,"position":12164.75},{"rank":29,"ticker":"RJF","momentum":39.9960229528,"atr":2.41604,"price":109.47,"sector":"Financials","shares":103,"position":11275.41},{"rank":30,"ticker":"MSCI","momentum":39.6556933464,"atr":13.003185,"price":451.38,"sector":"Financials","shares":19,"position":8576.22},{"rank":31,"ticker":"HII","momentum":39.269270657,"atr":4.44806,"price":234.61,"sector":"Industrials","shares":56,"position":13138.16},{"rank":32,"ticker":"BF.B","momentum":38.3736021802,"atr":1.549895,"price":71.23,"sector":"Consumer Staples","shares":161,"position":11468.03},{"rank":33,"ticker":"DHR","momentum":37.5919809099,"atr":7.39195,"price":278.94,"sector":"Health Care","shares":33,"position":9205.02},{"rank":34,"ticker":"VRSK","momentum":35.772694027,"atr":3.865295,"price":184.25,"sector":"Industrials","shares":64,"position":11792.0},{"rank":35,"ticker":"TMUS","momentum":35.0885530793,"atr":3.541475,"price":140.71,"sector":"Communication Services","shares":70,"position":9849.7},{"rank":36,"ticker":"RSG","momentum":35.0387776018,"atr":2.340775,"price":145.98,"sector":"Industrials","shares":106,"position":15473.88},{"rank":37,"ticker":"IEX","momentum":34.5089077695,"atr":4.035665,"price":209.39,"sector":"Industrials","shares":61,"position":12772.79},{"rank":38,"ticker":"CI","momentum":34.316298922,"atr":5.502315,"price":289.32,"sector":"Health Care","shares":45,"position":13019.4},{"rank":39,"ticker":"MCK","momentum":33.8201224735,"atr":8.257555,"price":348.95,"sector":"Health Care","shares":30,"position":10468.5},{"rank":40,"ticker":"CBOE","momentum":33.782877826,"atr":2.8315,"price":120.64,"sector":"Financials","shares":88,"position":10616.32},{"rank":41,"ticker":"CTAS","momentum":33.1117101075,"atr":9.054485,"price":407.84,"sector":"Industrials","shares":27,"position":11011.68},{"rank":42,"ticker":"AAPL","momentum":33.0655029849,"atr":4.34832,"price":154.48,"sector":"Information Technology","shares":57,"position":8805.36},{"rank":43,"ticker":"CDAY","momentum":29.2745412127,"atr":2.20153,"price":59.17,"sector":"Information Technology","shares":113,"position":6686.21},{"rank":44,"ticker":"WM","momentum":28.9753307615,"atr":2.5204,"price":170.91,"sector":"Industrials","shares":99,"position":16920.09},{"rank":45,"ticker":"GIS","momentum":27.5530705313,"atr":1.33326,"price":75.83,"sector":"Consumer Staples","shares":187,"position":14180.21},{"rank":46,"ticker":"JKHY","momentum":25.3066881198,"atr":3.565635,"price":193.29,"sector":"Information Technology","shares":70,"position":13530.3},{"rank":47,"ticker":"AVY","momentum":24.4250361752,"atr":4.617365,"price":179.24,"sector":"Materials","shares":54,"position":9678.96},{"rank":48,"ticker":"NDSN","momentum":23.7657892937,"atr":5.435375,"price":224.03,"sector":"Industrials","shares":45,"position":10081.35},{"rank":49,"ticker":"KDP","momentum":23.7619191659,"atr":0.7095,"price":37.77,"sector":"Consumer Staples","shares":352,"position":13295.04},{"rank":50,"ticker":"FISV","momentum":23.6113465183,"atr":2.4167,"price":103.65,"sector":"Information Technology","shares":103,"position":10675.95},{"rank":51,"ticker":"TDG","momentum":23.5184794384,"atr":15.65425,"price":592.04,"sector":"Industrials","shares":15,"position":8880.6},{"rank":52,"ticker":"PGR","momentum":23.2338219136,"atr":2.359555,"price":127.29,"sector":"Financials","shares":105,"position":13365.45},{"rank":53,"ticker":"VRTX","momentum":23.1005844433,"atr":8.098275,"price":285.14,"sector":"Health Care","shares":30,"position":8554.2},{"rank":54,"ticker":"SCHW","momentum":22.8510945752,"atr":1.888615,"price":73.71,"sector":"Financials","shares":132,"position":9729.72},{"rank":55,"ticker":"UNH","momentum":21.995539051,"atr":10.67675,"price":523.55,"sector":"Health Care","shares":23,"position":12041.65},{"rank":56,"ticker":"TJX","momentum":20.5593662373,"atr":1.7173,"price":65.54,"sector":"Consumer Discretionary","shares":145,"position":9503.3},{"rank":57,"ticker":"APH","momentum":19.7093926286,"atr":1.47516,"price":73.17,"sector":"Information Technology","shares":169,"position":12365.73},{"rank":58,"ticker":"A","momentum":19.2850909023,"atr":3.27625,"price":130.72,"sector":"Health Care","shares":76,"position":9934.72},{"rank":59,"ticker":"GS","momentum":18.9562506313,"atr":7.999125,"price":328.66,"sector":"Financials","shares":31,"position":10188.46},{"rank":60,"ticker":"FTV","momentum":18.6969626502,"atr":1.433945,"price":63.91,"sector":"Industrials","shares":174,"position":11120.34},{"rank":61,"ticker":"DG","momentum":18.6567880492,"atr":5.3675,"price":245.61,"sector":"Consumer Discretionary","shares":46,"position":11298.06},{"rank":62,"ticker":"MCD","momentum":16.8061704672,"atr":3.879,"price":257.01,"sector":"Consumer Discretionary","shares":64,"position":16448.64},{"rank":63,"ticker":"MTB","momentum":16.2344561827,"atr":4.56745,"price":187.29,"sector":"Financials","shares":54,"position":10113.66},{"rank":64,"ticker":"CMI","momentum":16.2252137446,"atr":4.667745,"price":215.11,"sector":"Industrials","shares":53,"position":11400.83},{"rank":65,"ticker":"MS","momentum":15.6784078965,"atr":2.355995,"price":88.72,"sector":"Financials","shares":106,"position":9404.32},{"rank":66,"ticker":"IR","momentum":13.5335351286,"atr":1.54265,"price":48.46,"sector":"Industrials","shares":162,"position":7850.52},{"rank":67,"ticker":"DIS","momentum":12.9768211153,"atr":3.02647,"price":109.17,"sector":"Communication Services","shares":82,"position":8951.94},{"rank":68,"ticker":"SO","momentum":12.2042500612,"atr":1.40469,"price":78.27,"sector":"Utilities","shares":177,"position":13853.79},{"rank":69,"ticker":"HSY","momentum":11.731974955,"atr":3.828555,"price":222.87,"sector":"Consumer Staples","shares":65,"position":14486.55},{"rank":70,"ticker":"CVS","momentum":11.6389131772,"atr":1.94999,"price":102.11,"sector":"Health Care","shares":128,"position":13070.08},{"rank":71,"ticker":"PFG","momentum":11.6363142584,"atr":1.723945,"price":77.43,"sector":"Financials","shares":145,"position":11227.35},{"rank":72,"ticker":"SJM","momentum":11.3504705381,"atr":2.787495,"price":139.96,"sector":"Consumer Staples","shares":89,"position":12456.44},{"rank":73,"ticker":"AFL","momentum":10.8924848071,"atr":1.197,"price":60.37,"sector":"Financials","shares":208,"position":12556.96},{"rank":74,"ticker":"RF","momentum":10.1764141936,"atr":0.59943,"price":22.24,"sector":"Financials","shares":417,"position":9274.08},{"rank":75,"ticker":"GM","momentum":10.057608141,"atr":1.359495,"price":41.39,"sector":"Consumer Discretionary","shares":183,"position":7574.37},{"rank":76,"ticker":"URI","momentum":9.9607296373,"atr":10.47289,"price":295.42,"sector":"Industrials","shares":23,"position":6794.66},{"rank":77,"ticker":"JCI","momentum":9.7907837829,"atr":1.618,"price":54.31,"sector":"Industrials","shares":154,"position":8363.74},{"rank":78,"ticker":"GL","momentum":9.6961258163,"atr":1.92955,"price":103.4,"sector":"Financials","shares":129,"position":13338.6},{"rank":79,"ticker":"ULTA","momentum":9.496235648,"atr":11.945245,"price":421.47,"sector":"Consumer Discretionary","shares":20,"position":8429.4},{"rank":80,"ticker":"BSX","momentum":8.3948961681,"atr":0.906,"price":41.18,"sector":"Health Care","shares":275,"position":11324.5},{"rank":81,"ticker":"APD","momentum":8.2167900651,"atr":5.12891,"price":249.38,"sector":"Materials","shares":48,"position":11970.24},{"rank":82,"ticker":"LOW","momentum":8.1950926579,"atr":5.53519,"price":195.1,"sector":"Consumer Discretionary","shares":45,"position":8779.5},{"rank":83,"ticker":"CDW","momentum":7.9657414753,"atr":3.839175,"price":170.68,"sector":"Information Technology","shares":65,"position":11094.2},{"rank":84,"ticker":"DRI","momentum":7.9154857663,"atr":3.55875,"price":132.53,"sector":"Consumer Discretionary","shares":70,"position":9277.1},{"rank":85,"ticker":"SRE","momentum":7.9134750764,"atr":3.405105,"price":172.93,"sector":"Utilities","shares":73,"position":12623.89},{"rank":86,"ticker":"NOC","momentum":7.8786926219,"atr":9.975575,"price":488.07,"sector":"Industrials","shares":25,"position":12201.75},{"rank":87,"ticker":"CTXS","momentum":7.7761409721,"atr":0.46575,"price":103.72,"sector":"Information Technology","shares":536,"position":55593.92},{"rank":88,"ticker":"PCAR","momentum":7.476530333,"atr":2.06057,"price":87.29,"sector":"Industrials","shares":121,"position":10562.09},{"rank":89,"ticker":"LEN","momentum":6.9816276968,"atr":2.623745,"price":78.47,"sector":"Consumer Discretionary","shares":95,"position":7454.65},{"rank":90,"ticker":"GPN","momentum":6.907567979,"atr":3.48464,"price":126.97,"sector":"Information Technology","shares":71,"position":9014.87},{"rank":91,"ticker":"CF","momentum":6.2967260353,"atr":4.68126,"price":103.47,"sector":"Materials","shares":53,"position":5483.91},{"rank":92,"ticker":"AMP","momentum":5.7014257919,"atr":6.97436,"price":278.14,"sector":"Financials","shares":35,"position":9734.9},{"rank":93,"ticker":"CNP","momentum":5.5119462076,"atr":0.62166,"price":32.46,"sector":"Utilities","shares":402,"position":13048.92},{"rank":94,"ticker":"HBAN","momentum":5.405921059,"atr":0.407245,"price":14.03,"sector":"Financials","shares":613,"position":8600.39},{"rank":95,"ticker":"ZION","momentum":4.7504509613,"atr":1.465745,"price":58.38,"sector":"Financials","shares":170,"position":9924.6},{"rank":96,"ticker":"DHI","momentum":4.6576080747,"atr":2.3105,"price":73.09,"sector":"Consumer Discretionary","shares":108,"position":7893.72},{"rank":97,"ticker":"ETN","momentum":4.5957244234,"atr":3.66436,"price":140.22,"sector":"Industrials","shares":68,"position":9534.96},{"rank":98,"ticker":"AME","momentum":4.3033258262,"atr":2.64175,"price":120.53,"sector":"Industrials","shares":94,"position":11329.82},{"rank":99,"ticker":"VMC","momentum":4.2775122968,"atr":4.416635,"price":162.97,"sector":"Materials","shares":56,"position":9126.32},{"rank":100,"ticker":"WMT","momentum":3.9800037934,"atr":2.50545,"price":134.33,"sector":"Consumer Staples","shares":99,"position":13298.67},{"rank":101,"ticker":"LNT","momentum":3.9119854152,"atr":1.190905,"price":61.89,"sector":"Utilities","shares":209,"position":12935.01},{"rank":102,"ticker":"ROL","momentum":3.3093326012,"atr":0.74975,"price":36.23,"sector":"Industrials","shares":333,"position":12064.59},{"rank":103,"ticker":"STT","momentum":3.1651703248,"atr":1.932,"price":70.87,"sector":"Financials","shares":129,"position":9142.23},{"rank":104,"ticker":"ED","momentum":3.1443097924,"atr":1.879665,"price":98.47,"sector":"Utilities","shares":133,"position":13096.51},{"rank":105,"ticker":"CAG","momentum":3.0129969392,"atr":0.6345,"price":34.24,"sector":"Consumer Staples","shares":394,"position":13490.56},{"rank":106,"ticker":"GD","momentum":3.0061984719,"atr":4.66745,"price":229.03,"sector":"Industrials","shares":53,"position":12138.59},{"rank":107,"ticker":"SNA","momentum":2.7721922971,"atr":4.72975,"price":220.72,"sector":"Industrials","shares":52,"position":11477.44},{"rank":108,"ticker":"CTVA","momentum":2.7269434604,"atr":1.45905,"price":61.42,"sector":"Materials","shares":171,"position":10502.82},{"rank":109,"ticker":"WFC","momentum":2.7240569939,"atr":1.22325,"price":44.32,"sector":"Financials","shares":204,"position":9041.28},{"rank":110,"ticker":"WTW","momentum":2.7122941294,"atr":4.153635,"price":208.76,"sector":"Financials","shares":60,"position":12525.6},{"rank":111,"ticker":"ATO","momentum":2.5369589705,"atr":1.97325,"price":115.22,"sector":"Utilities","shares":126,"position":14517.72},{"rank":112,"ticker":"IRM","momentum":2.3047814327,"atr":1.4646,"price":56.18,"sector":"Real Estate","shares":170,"position":9550.6},{"rank":113,"ticker":"AEP","momentum":2.0585439612,"atr":2.054295,"price":101.11,"sector":"Utilities","shares":121,"position":12234.31},{"rank":114,"ticker":"EIX","momentum":2.0486312288,"atr":1.58535,"price":68.37,"sector":"Utilities","shares":157,"position":10734.09},{"rank":115,"ticker":"DTE","momentum":1.961654181,"atr":2.2715,"price":130.9,"sector":"Utilities","shares":110,"position":14399.0},{"rank":116,"ticker":"EVRG","momentum":1.7410647875,"atr":1.37133,"price":67.66,"sector":"Utilities","shares":182,"position":12314.12},{"rank":117,"ticker":"FOX","momentum":1.5872255789,"atr":0.824695,"price":31.95,"sector":"Communication Services","shares":303,"position":9680.85},{"rank":118,"ticker":"GILD","momentum":1.3303289102,"atr":1.37633,"price":65.82,"sector":"Health Care","shares":181,"position":11913.42},{"rank":119,"ticker":"BDX","momentum":1.3280907622,"atr":4.71475,"price":251.26,"sector":"Health Care","shares":53,"position":13316.78},{"rank":120,"ticker":"WEC","momentum":1.3045921294,"atr":1.967995,"price":102.28,"sector":"Utilities","shares":127,"position":12989.56},{"rank":121,"ticker":"XEL","momentum":1.235369569,"atr":1.4165,"price":74.53,"sector":"Utilities","shares":176,"position":13117.28},{"rank":122,"ticker":"FOXA","momentum":1.2018864264,"atr":0.910745,"price":34.36,"sector":"Communication Services","shares":274,"position":9414.64},{"rank":123,"ticker":"AEE","momentum":0.8811331296,"atr":1.7493,"price":92.3,"sector":"Utilities","shares":142,"position":13106.6},{"rank":124,"ticker":"MET","momentum":0.857696107,"atr":1.469755,"price":66.28,"sector":"Financials","shares":170,"position":11267.6},{"rank":125,"ticker":"PPL","momentum":0.8147533062,"atr":0.52771,"price":29.35,"sector":"Utilities","shares":473,"position":13882.55},{"rank":126,"ticker":"ES","momentum":0.7732185559,"atr":1.77075,"price":89.53,"sector":"Utilities","shares":141,"position":12623.73},{"rank":127,"ticker":"MGM","momentum":0.6589330514,"atr":1.354715,"price":34.36,"sector":"Consumer Discretionary","shares":184,"position":6322.24},{"rank":128,"ticker":"TXT","momentum":0.6153663345,"atr":1.75375,"price":64.09,"sector":"Industrials","shares":142,"position":9100.78},{"rank":129,"ticker":"PNW","momentum":0.4562869479,"atr":1.42791,"price":74.69,"sector":"Utilities","shares":175,"position":13070.75},{"rank":130,"ticker":"ETR","momentum":0.3986290097,"atr":2.3235,"price":115.88,"sector":"Utilities","shares":107,"position":12399.16},{"rank":131,"ticker":"ADM","momentum":0.2918918427,"atr":2.44075,"price":87.33,"sector":"Consumer Staples","shares":102,"position":8907.66},{"rank":132,"ticker":"MCHP","momentum":0.2914199867,"atr":2.352,"price":66.89,"sector":"Information Technology","shares":106,"position":7090.34},{"rank":133,"ticker":"YUM","momentum":0.2106504735,"atr":2.27036,"price":116.16,"sector":"Consumer Discretionary","shares":110,"position":12777.6},{"rank":134,"ticker":"XOM","momentum":0.1463000626,"atr":2.854925,"price":93.2,"sector":"Energy","shares":87,"position":8108.4},{"rank":135,"ticker":"PNC","momentum":0.1247416178,"atr":3.894685,"price":165.31,"sector":"Financials","shares":64,"position":10579.84},{"rank":136,"ticker":"HLT","momentum":0.0604380051,"atr":3.94075,"price":132.3,"sector":"Consumer Discretionary","shares":63,"position":8334.9},{"rank":137,"ticker":"BWA","momentum":0.0432257066,"atr":1.1745,"price":37.74,"sector":"Consumer Discretionary","shares":212,"position":8000.88},{"rank":138,"ticker":"COP","momentum":0.0195046503,"atr":3.73875,"price":112.87,"sector":"Energy","shares":66,"position":7449.42},{"rank":139,"ticker":"MPC","momentum":0.0052168126,"atr":2.999505,"price":96.3,"sector":"Energy","shares":83,"position":7992.9},{"rank":140,"ticker":"PEG","momentum":0.0015818248,"atr":1.413265,"price":66.62,"sector":"Utilities","shares":176,"position":11725.12},{"rank":141,"ticker":"BBWI","momentum":-0.0004425811,"atr":1.73135,"price":38.77,"sector":"Consumer Discretionary","shares":144,"position":5582.88},{"rank":142,"ticker":"BAC","momentum":-0.0046122461,"atr":0.97043,"price":34.69,"sector":"Financials","shares":257,"position":8915.33},{"rank":143,"ticker":"DVN","momentum":-0.0364325303,"atr":2.9983,"price":65.9,"sector":"Energy","shares":83,"position":5469.7},{"rank":144,"ticker":"FE","momentum":-0.0503355715,"atr":0.832945,"price":41.86,"sector":"Utilities","shares":300,"position":12558.0},{"rank":145,"ticker":"BK","momentum":-0.1158332806,"atr":1.048495,"price":44.21,"sector":"Financials","shares":238,"position":10521.98},{"rank":146,"ticker":"RE","momentum":-0.140294693,"atr":5.24667,"price":284.02,"sector":"Financials","shares":47,"position":13348.94},{"rank":147,"ticker":"NRG","momentum":-0.3075404545,"atr":0.95371,"price":44.02,"sector":"Utilities","shares":262,"position":11533.24},{"rank":148,"ticker":"SYK","momentum":-0.4327840018,"atr":5.92156,"price":220.88,"sector":"Health Care","shares":42,"position":9276.96},{"rank":149,"ticker":"ALL","momentum":-0.8062181547,"atr":2.872365,"price":132.08,"sector":"Financials","shares":87,"position":11490.96},{"rank":150,"ticker":"AIG","momentum":-1.4787021016,"atr":1.496,"price":54.59,"sector":"Financials","shares":167,"position":9116.53},{"rank":151,"ticker":"WRB","momentum":-2.345212242,"atr":1.299165,"price":67.56,"sector":"Financials","shares":192,"position":12971.52},{"rank":152,"ticker":"SLB","momentum":-6.5333184461,"atr":1.598365,"price":38.97,"sector":"Energy","shares":156,"position":6079.32}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

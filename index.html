<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":296.4719182259,"atr":10.673365,"price":488.41,"sector":"Information Technology","shares":23,"position":11233.43},{"rank":2,"ticker":"DXCM","momentum":258.8739128467,"atr":16.004745,"price":536.94,"sector":"Health Care","shares":15,"position":8054.1},{"rank":3,"ticker":"CMG","momentum":219.8457832804,"atr":35.653605,"price":1839.4,"sector":"Consumer Discretionary","shares":7,"position":12875.8},{"rank":4,"ticker":"FTNT","momentum":208.4359542567,"atr":9.034415,"price":287.88,"sector":"Information Technology","shares":27,"position":7772.76},{"rank":5,"ticker":"IT","momentum":195.3845798469,"atr":7.340075,"price":303.78,"sector":"Information Technology","shares":34,"position":10328.52},{"rank":6,"ticker":"MSCI","momentum":181.6773655819,"atr":15.142135,"price":597.8,"sector":"Financials","shares":16,"position":9564.8},{"rank":7,"ticker":"BIO","momentum":179.4136281035,"atr":19.808845,"price":753.03,"sector":"Health Care","shares":12,"position":9036.36},{"rank":8,"ticker":"WST","momentum":173.933472048,"atr":11.124895,"price":427.43,"sector":"Health Care","shares":22,"position":9403.46},{"rank":9,"ticker":"RMD","momentum":156.9160509128,"atr":6.179645,"price":264.82,"sector":"Health Care","shares":40,"position":10592.8},{"rank":10,"ticker":"NOW","momentum":154.5923772369,"atr":13.977995,"price":612.52,"sector":"Information Technology","shares":17,"position":10412.84},{"rank":11,"ticker":"AMD","momentum":150.9522968258,"atr":2.81111,"price":101.52,"sector":"Information Technology","shares":88,"position":8933.76},{"rank":12,"ticker":"DHR","momentum":149.7628885181,"atr":6.721525,"price":303.95,"sector":"Health Care","shares":37,"position":11246.15},{"rank":13,"ticker":"CTLT","momentum":145.5049883561,"atr":3.213285,"price":133.22,"sector":"Health Care","shares":77,"position":10257.94},{"rank":14,"ticker":"CRL","momentum":144.7403272728,"atr":10.35749,"price":417.71,"sector":"Health Care","shares":24,"position":10025.04},{"rank":15,"ticker":"CDNS","momentum":137.7614807299,"atr":3.22715,"price":152.47,"sector":"Information Technology","shares":77,"position":11740.19},{"rank":16,"ticker":"PKI","momentum":136.4559933951,"atr":4.62555,"price":173.81,"sector":"Health Care","shares":54,"position":9385.74},{"rank":17,"ticker":"SNPS","momentum":123.2401289137,"atr":6.39658,"price":301.93,"sector":"Information Technology","shares":39,"position":11775.27},{"rank":18,"ticker":"REGN","momentum":121.6881371468,"atr":15.176895,"price":605.0,"sector":"Health Care","shares":16,"position":9680.0},{"rank":19,"ticker":"HOLX","momentum":112.2898567407,"atr":1.54576,"price":72.87,"sector":"Health Care","shares":161,"position":11732.07},{"rank":20,"ticker":"INTU","momentum":109.6177890764,"atr":10.72066,"price":545.01,"sector":"Information Technology","shares":23,"position":12535.23},{"rank":21,"ticker":"TMO","momentum":109.6094486531,"atr":14.66255,"price":576.45,"sector":"Health Care","shares":17,"position":9799.65},{"rank":22,"ticker":"A","momentum":108.9527323323,"atr":3.45615,"price":159.9,"sector":"Health Care","shares":72,"position":11512.8},{"rank":23,"ticker":"NVDA","momentum":108.8053713489,"atr":6.08054,"price":206.99,"sector":"Information Technology","shares":41,"position":8486.59},{"rank":24,"ticker":"EW","momentum":102.0598265169,"atr":2.51291,"price":113.86,"sector":"Health Care","shares":99,"position":11272.14},{"rank":25,"ticker":"KEYS","momentum":100.8378794577,"atr":2.965245,"price":167.9,"sector":"Information Technology","shares":84,"position":14103.6},{"rank":26,"ticker":"ISRG","momentum":96.9451615894,"atr":23.10174,"price":992.49,"sector":"Health Care","shares":10,"position":9924.9},{"rank":27,"ticker":"COST","momentum":91.3563662529,"atr":7.565495,"price":447.35,"sector":"Consumer Staples","shares":33,"position":14762.55},{"rank":28,"ticker":"TECH","momentum":90.0392503677,"atr":14.211995,"price":488.87,"sector":"Health Care","shares":17,"position":8310.79},{"rank":29,"ticker":"GRMN","momentum":90.0173318423,"atr":3.43551,"price":158.05,"sector":"Consumer Discretionary","shares":72,"position":11379.6},{"rank":30,"ticker":"DGX","momentum":84.6428850377,"atr":2.777315,"price":146.05,"sector":"Health Care","shares":90,"position":13144.5},{"rank":31,"ticker":"CARR","momentum":84.3313406711,"atr":1.21243,"price":51.96,"sector":"Industrials","shares":206,"position":10703.76},{"rank":32,"ticker":"GOOGL","momentum":84.2780441641,"atr":45.8625,"price":2716.6,"sector":"Communication Services","shares":5,"position":13583.0},{"rank":33,"ticker":"ACN","momentum":81.8814037646,"atr":5.392995,"price":324.21,"sector":"Information Technology","shares":46,"position":14913.66},{"rank":34,"ticker":"VRSK","momentum":81.177151532,"atr":3.169205,"price":201.74,"sector":"Industrials","shares":78,"position":15735.72},{"rank":35,"ticker":"ABMD","momentum":78.3365139777,"atr":9.062245,"price":331.27,"sector":"Health Care","shares":27,"position":8944.29},{"rank":36,"ticker":"GNRC","momentum":73.3933951576,"atr":14.44135,"price":425.34,"sector":"Industrials","shares":17,"position":7230.78},{"rank":37,"ticker":"MSFT","momentum":71.5002146337,"atr":4.810315,"price":283.52,"sector":"Information Technology","shares":51,"position":14459.52},{"rank":38,"ticker":"CDW","momentum":67.7159810206,"atr":3.58793,"price":186.14,"sector":"Information Technology","shares":69,"position":12843.66},{"rank":39,"ticker":"GOOG","momentum":66.8462327159,"atr":46.956465,"price":2723.68,"sector":"Communication Services","shares":5,"position":13618.4},{"rank":40,"ticker":"MSI","momentum":64.8317852517,"atr":3.57807,"price":233.67,"sector":"Information Technology","shares":69,"position":16123.23},{"rank":41,"ticker":"TRMB","momentum":63.6741127291,"atr":1.89735,"price":84.36,"sector":"Information Technology","shares":131,"position":11051.16},{"rank":42,"ticker":"SPGI","momentum":63.460448287,"atr":8.031,"price":426.11,"sector":"Financials","shares":31,"position":13209.41},{"rank":43,"ticker":"PWR","momentum":62.9467013565,"atr":3.34077,"price":115.83,"sector":"Industrials","shares":74,"position":8571.42},{"rank":44,"ticker":"AWK","momentum":62.5093491552,"atr":3.38425,"price":168.19,"sector":"Utilities","shares":73,"position":12277.87},{"rank":45,"ticker":"EXR","momentum":61.6376840833,"atr":3.843665,"price":171.34,"sector":"Real Estate","shares":65,"position":11137.1},{"rank":46,"ticker":"AON","momentum":60.564935966,"atr":4.837995,"price":289.25,"sector":"Financials","shares":51,"position":14751.75},{"rank":47,"ticker":"NDAQ","momentum":60.4627094101,"atr":3.086085,"price":190.96,"sector":"Financials","shares":81,"position":15467.76},{"rank":48,"ticker":"MMC","momentum":60.3485563239,"atr":2.39773,"price":153.27,"sector":"Financials","shares":104,"position":15940.08},{"rank":49,"ticker":"RSG","momentum":59.5068853214,"atr":1.63192,"price":120.87,"sector":"Industrials","shares":153,"position":18493.11},{"rank":50,"ticker":"EFX","momentum":58.3706448156,"atr":5.33829,"price":256.5,"sector":"Industrials","shares":46,"position":11799.0},{"rank":51,"ticker":"XYL","momentum":57.3308729964,"atr":2.410915,"price":128.92,"sector":"Industrials","shares":103,"position":13278.76},{"rank":52,"ticker":"MAA","momentum":56.4256116985,"atr":3.3795,"price":186.59,"sector":"Real Estate","shares":73,"position":13621.07},{"rank":53,"ticker":"SBAC","momentum":55.9445148128,"atr":7.1775,"price":331.6,"sector":"Real Estate","shares":34,"position":11274.4},{"rank":54,"ticker":"PFE","momentum":55.4817607485,"atr":0.89809,"price":43.04,"sector":"Health Care","shares":278,"position":11965.12},{"rank":55,"ticker":"COO","momentum":53.7472509296,"atr":9.165,"price":424.0,"sector":"Health Care","shares":27,"position":11448.0},{"rank":56,"ticker":"ROK","momentum":53.5038668325,"atr":5.149015,"price":296.74,"sector":"Industrials","shares":48,"position":14243.52},{"rank":57,"ticker":"INFO","momentum":53.300990312,"atr":2.42052,"price":116.47,"sector":"Industrials","shares":103,"position":11996.41},{"rank":58,"ticker":"AAPL","momentum":53.0853904576,"atr":2.915705,"price":141.91,"sector":"Information Technology","shares":85,"position":12062.35},{"rank":59,"ticker":"MS","momentum":52.3675627991,"atr":2.258135,"price":102.04,"sector":"Financials","shares":110,"position":11224.4},{"rank":60,"ticker":"APH","momentum":50.7870281018,"atr":1.146,"price":75.64,"sector":"Information Technology","shares":218,"position":16489.52},{"rank":61,"ticker":"ODFL","momentum":50.3706626475,"atr":6.401745,"price":293.51,"sector":"Industrials","shares":39,"position":11446.89},{"rank":62,"ticker":"ULTA","momentum":48.2362462377,"atr":8.65705,"price":378.14,"sector":"Consumer Discretionary","shares":28,"position":10587.92},{"rank":63,"ticker":"EBAY","momentum":47.2999488206,"atr":1.690735,"price":71.26,"sector":"Consumer Discretionary","shares":147,"position":10475.22},{"rank":64,"ticker":"PNR","momentum":45.1285337293,"atr":1.5528,"price":74.38,"sector":"Industrials","shares":160,"position":11900.8},{"rank":65,"ticker":"JCI","momentum":44.478553607,"atr":1.5585,"price":70.44,"sector":"Industrials","shares":160,"position":11270.4},{"rank":66,"ticker":"CPRT","momentum":41.8147953165,"atr":3.65325,"price":141.14,"sector":"Industrials","shares":68,"position":9597.52},{"rank":67,"ticker":"IPG","momentum":40.8099840555,"atr":0.87425,"price":37.54,"sector":"Communication Services","shares":285,"position":10698.9},{"rank":68,"ticker":"TSCO","momentum":40.7345356797,"atr":4.07015,"price":207.03,"sector":"Consumer Discretionary","shares":61,"position":12628.83},{"rank":69,"ticker":"BLL","momentum":40.197810968,"atr":1.33127,"price":89.71,"sector":"Materials","shares":187,"position":16775.77},{"rank":70,"ticker":"WM","momentum":38.3179730858,"atr":1.840275,"price":149.92,"sector":"Industrials","shares":135,"position":20239.2},{"rank":71,"ticker":"AZO","momentum":38.0110845438,"atr":31.95751,"price":1688.57,"sector":"Consumer Discretionary","shares":7,"position":11819.99},{"rank":72,"ticker":"CRM","momentum":37.5305193325,"atr":5.946595,"price":272.28,"sector":"Information Technology","shares":42,"position":11435.76},{"rank":73,"ticker":"BRO","momentum":37.150996614,"atr":1.090845,"price":55.79,"sector":"Financials","shares":229,"position":12775.91},{"rank":74,"ticker":"KR","momentum":36.3877983586,"atr":1.165065,"price":40.51,"sector":"Consumer Staples","shares":214,"position":8669.14},{"rank":75,"ticker":"ORLY","momentum":35.5124961785,"atr":10.42618,"price":613.06,"sector":"Consumer Discretionary","shares":23,"position":14100.38},{"rank":76,"ticker":"CTAS","momentum":35.1896953646,"atr":6.66725,"price":386.07,"sector":"Industrials","shares":37,"position":14284.59},{"rank":77,"ticker":"KMX","momentum":34.9809402173,"atr":3.30271,"price":143.03,"sector":"Consumer Discretionary","shares":75,"position":10727.25},{"rank":78,"ticker":"CBOE","momentum":33.1168529376,"atr":2.76084,"price":122.7,"sector":"Financials","shares":90,"position":11043.0},{"rank":79,"ticker":"ORCL","momentum":30.7171803067,"atr":1.801965,"price":90.49,"sector":"Information Technology","shares":138,"position":12487.62},{"rank":80,"ticker":"KLAC","momentum":30.6619086188,"atr":9.691265,"price":347.03,"sector":"Information Technology","shares":25,"position":8675.75},{"rank":81,"ticker":"EXC","momentum":30.6610818001,"atr":0.845185,"price":48.2,"sector":"Utilities","shares":295,"position":14219.0},{"rank":82,"ticker":"STE","momentum":29.7855845144,"atr":4.040645,"price":210.53,"sector":"Health Care","shares":61,"position":12842.33},{"rank":83,"ticker":"WAB","momentum":28.8337277022,"atr":1.82555,"price":88.49,"sector":"Industrials","shares":136,"position":12034.64},{"rank":84,"ticker":"IR","momentum":27.8680971727,"atr":1.36825,"price":51.56,"sector":"Industrials","shares":182,"position":9383.92},{"rank":85,"ticker":"FFIV","momentum":27.1053866695,"atr":4.213915,"price":201.75,"sector":"Information Technology","shares":59,"position":11903.25},{"rank":86,"ticker":"UDR","momentum":27.0692399999,"atr":1.07325,"price":52.69,"sector":"Real Estate","shares":232,"position":12224.08},{"rank":87,"ticker":"CB","momentum":23.6544257664,"atr":3.06574,"price":175.47,"sector":"Financials","shares":81,"position":14213.07},{"rank":88,"ticker":"CSCO","momentum":23.5321310523,"atr":0.94596,"price":55.52,"sector":"Information Technology","shares":264,"position":14657.28},{"rank":89,"ticker":"CTSH","momentum":23.1123033578,"atr":1.155195,"price":76.36,"sector":"Information Technology","shares":216,"position":16493.76},{"rank":90,"ticker":"AVGO","momentum":20.825868517,"atr":9.3443,"price":491.02,"sector":"Information Technology","shares":26,"position":12766.52},{"rank":91,"ticker":"PG","momentum":20.7605573118,"atr":1.686,"price":140.59,"sector":"Consumer Staples","shares":148,"position":20807.32},{"rank":92,"ticker":"OGN","momentum":20.4319566891,"atr":0.875105,"price":33.04,"sector":"Health Care","shares":285,"position":9416.4},{"rank":93,"ticker":"GILD","momentum":19.7447897909,"atr":1.1445,"price":69.97,"sector":"Health Care","shares":218,"position":15253.46},{"rank":94,"ticker":"AVB","momentum":19.3392479773,"atr":4.220345,"price":222.15,"sector":"Real Estate","shares":59,"position":13106.85},{"rank":95,"ticker":"TEL","momentum":19.3178623571,"atr":2.51484,"price":140.93,"sector":"Information Technology","shares":99,"position":13952.07},{"rank":96,"ticker":"SYK","momentum":18.9100639379,"atr":4.686585,"price":267.83,"sector":"Health Care","shares":53,"position":14194.99},{"rank":97,"ticker":"HD","momentum":18.29165275,"atr":5.10026,"price":333.8,"sector":"Consumer Discretionary","shares":49,"position":16356.2},{"rank":98,"ticker":"TJX","momentum":17.3869014474,"atr":1.294895,"price":70.08,"sector":"Consumer Discretionary","shares":193,"position":13525.44},{"rank":99,"ticker":"ESS","momentum":15.9591906895,"atr":6.8245,"price":319.67,"sector":"Real Estate","shares":36,"position":11508.12},{"rank":100,"ticker":"GS","momentum":15.7653354299,"atr":8.58542,"price":389.5,"sector":"Financials","shares":29,"position":11295.5},{"rank":101,"ticker":"BR","momentum":12.8198542284,"atr":2.442485,"price":166.84,"sector":"Information Technology","shares":102,"position":17017.68},{"rank":102,"ticker":"MCK","momentum":12.6571331703,"atr":3.67431,"price":202.59,"sector":"Health Care","shares":68,"position":13776.12},{"rank":103,"ticker":"BDX","momentum":12.5167299778,"atr":3.6647,"price":249.73,"sector":"Health Care","shares":68,"position":16981.64},{"rank":104,"ticker":"GD","momentum":10.6180538524,"atr":3.22355,"price":197.1,"sector":"Industrials","shares":77,"position":15176.7},{"rank":105,"ticker":"BSX","momentum":10.1793935216,"atr":0.909065,"price":43.67,"sector":"Health Care","shares":275,"position":12009.25},{"rank":106,"ticker":"ABC","momentum":10.056755575,"atr":2.088135,"price":121.29,"sector":"Health Care","shares":119,"position":14433.51},{"rank":107,"ticker":"AMP","momentum":8.8259501677,"atr":6.11471,"price":271.15,"sector":"Financials","shares":40,"position":10846.0},{"rank":108,"ticker":"TXT","momentum":8.7647810006,"atr":1.653295,"price":72.3,"sector":"Industrials","shares":151,"position":10917.3},{"rank":109,"ticker":"AIG","momentum":7.9498057141,"atr":1.13925,"price":55.99,"sector":"Financials","shares":219,"position":12261.81},{"rank":110,"ticker":"DFS","momentum":7.8353348128,"atr":3.47337,"price":129.0,"sector":"Financials","shares":71,"position":9159.0},{"rank":111,"ticker":"AAP","momentum":7.3781796927,"atr":3.90226,"price":214.78,"sector":"Consumer Discretionary","shares":64,"position":13745.92},{"rank":112,"ticker":"MCD","momentum":7.2245952644,"atr":3.26575,"price":243.77,"sector":"Consumer Discretionary","shares":76,"position":18526.52},{"rank":113,"ticker":"NXPI","momentum":7.0093177196,"atr":5.80777,"price":206.19,"sector":"Information Technology","shares":43,"position":8866.17},{"rank":114,"ticker":"JBHT","momentum":6.7052336972,"atr":3.962875,"price":171.63,"sector":"Industrials","shares":63,"position":10812.69},{"rank":115,"ticker":"JNPR","momentum":5.6301607612,"atr":0.510845,"price":28.26,"sector":"Information Technology","shares":489,"position":13819.14},{"rank":116,"ticker":"LKQ","momentum":4.5970791208,"atr":1.11302,"price":51.64,"sector":"Consumer Discretionary","shares":224,"position":11567.36},{"rank":117,"ticker":"COG","momentum":3.2567083155,"atr":0.80525,"price":21.82,"sector":"Energy","shares":310,"position":6764.2},{"rank":118,"ticker":"STT","momentum":3.0906648165,"atr":2.37594,"price":86.81,"sector":"Financials","shares":105,"position":9115.05},{"rank":119,"ticker":"ADI","momentum":2.9705157717,"atr":3.38325,"price":171.29,"sector":"Information Technology","shares":73,"position":12504.17},{"rank":120,"ticker":"BK","momentum":2.8180328871,"atr":1.22075,"price":52.91,"sector":"Financials","shares":204,"position":10793.64},{"rank":121,"ticker":"SIVB","momentum":2.4748344235,"atr":18.634,"price":654.0,"sector":"Financials","shares":13,"position":8502.0},{"rank":122,"ticker":"TXN","momentum":2.0519205224,"atr":3.32025,"price":194.89,"sector":"Information Technology","shares":75,"position":14616.75},{"rank":123,"ticker":"MCHP","momentum":1.5604112354,"atr":3.732365,"price":158.34,"sector":"Information Technology","shares":66,"position":10450.44},{"rank":124,"ticker":"HLT","momentum":1.2685297871,"atr":3.07075,"price":136.55,"sector":"Consumer Discretionary","shares":81,"position":11060.55},{"rank":125,"ticker":"AJG","momentum":1.0424129451,"atr":2.579945,"price":149.8,"sector":"Financials","shares":96,"position":14380.8},{"rank":126,"ticker":"COF","momentum":0.6610485883,"atr":4.223905,"price":167.38,"sector":"Financials","shares":59,"position":9875.42},{"rank":127,"ticker":"DISH","momentum":0.4923381982,"atr":1.24475,"price":43.79,"sector":"Communication Services","shares":200,"position":8758.0},{"rank":128,"ticker":"SYF","momentum":0.1750078336,"atr":1.450445,"price":50.67,"sector":"Financials","shares":172,"position":8715.24},{"rank":129,"ticker":"HSIC","momentum":0.048150277,"atr":1.59069,"price":78.13,"sector":"Health Care","shares":157,"position":12266.41},{"rank":130,"ticker":"TSN","momentum":0.00155309,"atr":1.28034,"price":77.8,"sector":"Consumer Staples","shares":195,"position":15171.0},{"rank":131,"ticker":"PNC","momentum":0.0000465049,"atr":4.18471,"price":197.72,"sector":"Financials","shares":59,"position":11665.48},{"rank":132,"ticker":"FOXA","momentum":-0.0000423689,"atr":0.9945,"price":39.83,"sector":"Communication Services","shares":251,"position":9997.33},{"rank":133,"ticker":"JPM","momentum":-0.0002960501,"atr":3.17929,"price":166.08,"sector":"Financials","shares":78,"position":12954.24},{"rank":134,"ticker":"APTV","momentum":-0.0004263854,"atr":4.0775,"price":154.21,"sector":"Consumer Discretionary","shares":61,"position":9406.81},{"rank":135,"ticker":"WY","momentum":-0.0052273618,"atr":0.7524,"price":36.55,"sector":"Real Estate","shares":332,"position":12134.6},{"rank":136,"ticker":"SCHW","momentum":-0.017028365,"atr":1.972005,"price":76.18,"sector":"Financials","shares":126,"position":9598.68},{"rank":137,"ticker":"CVS","momentum":-0.0206450935,"atr":1.621245,"price":85.66,"sector":"Health Care","shares":154,"position":13191.64},{"rank":138,"ticker":"MAR","momentum":-0.0865512683,"atr":3.486595,"price":153.59,"sector":"Consumer Discretionary","shares":71,"position":10904.89},{"rank":139,"ticker":"MET","momentum":-0.8725510381,"atr":1.453915,"price":62.79,"sector":"Financials","shares":171,"position":10737.09},{"rank":140,"ticker":"BAX","momentum":-1.5312804939,"atr":1.62917,"price":80.73,"sector":"Health Care","shares":153,"position":12351.69},{"rank":141,"ticker":"BKR","momentum":-1.8158791552,"atr":0.798,"price":24.92,"sector":"Energy","shares":313,"position":7799.96},{"rank":142,"ticker":"J","momentum":-2.4193560595,"atr":3.00095,"price":136.07,"sector":"Industrials","shares":83,"position":11293.81},{"rank":143,"ticker":"FOX","momentum":-2.8619084153,"atr":0.870995,"price":36.86,"sector":"Communication Services","shares":287,"position":10578.82},{"rank":144,"ticker":"RTX","momentum":-3.6617072823,"atr":1.52125,"price":86.84,"sector":"Industrials","shares":164,"position":14241.76},{"rank":145,"ticker":"ANTM","momentum":-4.5964531896,"atr":8.82091,"price":385.7,"sector":"Health Care","shares":28,"position":10799.6},{"rank":146,"ticker":"GE","momentum":-6.4906750847,"atr":2.795425,"price":105.73,"sector":"Industrials","shares":89,"position":9409.97},{"rank":147,"ticker":"TDG","momentum":-9.6081815943,"atr":13.44969,"price":638.29,"sector":"Industrials","shares":18,"position":11489.22},{"rank":148,"ticker":"CF","momentum":-9.9628369455,"atr":1.7121,"price":56.64,"sector":"Materials","shares":146,"position":8269.44},{"rank":149,"ticker":"WMB","momentum":-15.8070964337,"atr":0.52413,"price":26.08,"sector":"Energy","shares":476,"position":12414.08},{"rank":150,"ticker":"CVX","momentum":-17.113541413,"atr":2.216305,"price":103.36,"sector":"Energy","shares":112,"position":11576.32},{"rank":151,"ticker":"F","momentum":-17.9459982248,"atr":0.38125,"price":14.31,"sector":"Consumer Discretionary","shares":655,"position":9373.05},{"rank":152,"ticker":"XOM","momentum":-18.7223978994,"atr":1.485195,"price":59.92,"sector":"Energy","shares":168,"position":10066.56},{"rank":153,"ticker":"NWS","momentum":-25.0474198363,"atr":0.5515,"price":23.76,"sector":"Communication Services","shares":453,"position":10763.28}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"CF","momentum":269.1870304038,"atr":5.92147,"price":103.86,"sector":"Materials","shares":42,"position":4362.12},{"rank":2,"ticker":"CTRA","momentum":215.3229438242,"atr":1.611015,"price":29.78,"sector":"Energy","shares":155,"position":4615.9},{"rank":3,"ticker":"VLO","momentum":188.074524312,"atr":5.60114,"price":124.7,"sector":"Energy","shares":44,"position":5486.8},{"rank":4,"ticker":"CEG","momentum":143.3926352646,"atr":2.921065,"price":54.61,"sector":"Utilities","shares":85,"position":4641.85},{"rank":5,"ticker":"MCK","momentum":133.8055768817,"atr":9.8153,"price":324.24,"sector":"Health Care","shares":25,"position":8106.0},{"rank":6,"ticker":"CVX","momentum":120.4737233992,"atr":5.72659,"price":167.87,"sector":"Energy","shares":43,"position":7218.41},{"rank":7,"ticker":"ADM","momentum":119.9289051173,"atr":3.24229,"price":85.39,"sector":"Consumer Staples","shares":77,"position":6575.03},{"rank":8,"ticker":"HAL","momentum":112.1810502741,"atr":1.97077,"price":36.1,"sector":"Energy","shares":126,"position":4548.6},{"rank":9,"ticker":"DVN","momentum":104.0610248218,"atr":3.76695,"price":68.7,"sector":"Energy","shares":66,"position":4534.2},{"rank":10,"ticker":"MPC","momentum":100.2962888625,"atr":3.728,"price":95.88,"sector":"Energy","shares":67,"position":6423.96},{"rank":11,"ticker":"SRE","momentum":93.3808514038,"atr":3.801155,"price":161.06,"sector":"Utilities","shares":65,"position":10468.9},{"rank":12,"ticker":"WMB","momentum":90.402817484,"atr":1.154,"price":34.79,"sector":"Energy","shares":216,"position":7514.64},{"rank":13,"ticker":"AIZ","momentum":88.4637107115,"atr":4.57345,"price":181.62,"sector":"Financials","shares":54,"position":9807.48},{"rank":14,"ticker":"WRB","momentum":87.371928562,"atr":1.81416,"price":67.33,"sector":"Financials","shares":137,"position":9224.21},{"rank":15,"ticker":"BMY","momentum":85.4246792861,"atr":1.6235,"price":75.8,"sector":"Health Care","shares":153,"position":11597.4},{"rank":16,"ticker":"CTVA","momentum":76.516610418,"atr":1.859555,"price":55.47,"sector":"Materials","shares":134,"position":7432.98},{"rank":17,"ticker":"IRM","momentum":75.2888540128,"atr":1.6845,"price":52.33,"sector":"Real Estate","shares":148,"position":7744.84},{"rank":18,"ticker":"BALL","momentum":72.6958420869,"atr":0.1,"price":69.75,"sector":"Materials","shares":2500,"position":174375.0},{"rank":19,"ticker":"ABC","momentum":71.2354474668,"atr":4.65665,"price":152.89,"sector":"Health Care","shares":53,"position":8103.17},{"rank":20,"ticker":"LLY","momentum":70.8613609057,"atr":8.61028,"price":291.63,"sector":"Health Care","shares":29,"position":8457.27},{"rank":21,"ticker":"BKR","momentum":70.7241196957,"atr":1.81323,"price":34.11,"sector":"Energy","shares":137,"position":4673.07},{"rank":22,"ticker":"EXC","momentum":69.9959905067,"atr":1.215135,"price":46.73,"sector":"Utilities","shares":205,"position":9579.65},{"rank":23,"ticker":"KR","momentum":68.4878205057,"atr":1.479,"price":53.39,"sector":"Consumer Staples","shares":169,"position":9022.91},{"rank":24,"ticker":"LMT","momentum":66.8402688812,"atr":11.407895,"price":435.17,"sector":"Industrials","shares":21,"position":9138.57},{"rank":25,"ticker":"XOM","momentum":64.557304617,"atr":3.241,"price":88.86,"sector":"Energy","shares":77,"position":6842.22},{"rank":26,"ticker":"PXD","momentum":59.4680358836,"atr":11.15079,"price":261.89,"sector":"Energy","shares":22,"position":5761.58},{"rank":27,"ticker":"KHC","momentum":57.3555431784,"atr":1.109815,"price":44.29,"sector":"Consumer Staples","shares":225,"position":9965.25},{"rank":28,"ticker":"PKG","momentum":54.574560005,"atr":4.05588,"price":155.4,"sector":"Materials","shares":61,"position":9479.4},{"rank":29,"ticker":"HSY","momentum":53.0403715392,"atr":4.99445,"price":225.91,"sector":"Consumer Staples","shares":50,"position":11295.5},{"rank":30,"ticker":"COP","momentum":51.5001428759,"atr":4.81886,"price":102.91,"sector":"Energy","shares":51,"position":5248.41},{"rank":31,"ticker":"NOC","momentum":50.3809818004,"atr":12.452695,"price":452.83,"sector":"Industrials","shares":20,"position":9056.6},{"rank":32,"ticker":"LDOS","momentum":50.0678508418,"atr":2.40495,"price":101.64,"sector":"Industrials","shares":103,"position":10468.92},{"rank":33,"ticker":"ED","momentum":49.8539557337,"atr":2.253045,"price":95.4,"sector":"Utilities","shares":110,"position":10494.0},{"rank":34,"ticker":"CNP","momentum":48.9816186707,"atr":0.74375,"price":31.03,"sector":"Utilities","shares":336,"position":10426.08},{"rank":35,"ticker":"ANTM","momentum":47.0357964688,"atr":14.23195,"price":486.45,"sector":"Health Care","shares":17,"position":8269.65},{"rank":36,"ticker":"ABBV","momentum":43.914878912,"atr":4.78736,"price":153.5,"sector":"Health Care","shares":52,"position":7982.0},{"rank":37,"ticker":"AEP","momentum":42.6941671619,"atr":2.418995,"price":99.69,"sector":"Utilities","shares":103,"position":10268.07},{"rank":38,"ticker":"DTE","momentum":40.8637328479,"atr":2.83549,"price":129.81,"sector":"Utilities","shares":88,"position":11423.28},{"rank":39,"ticker":"TMUS","momentum":40.73438478,"atr":4.468715,"price":126.33,"sector":"Communication Services","shares":55,"position":6948.15},{"rank":40,"ticker":"DOW","momentum":40.6478893642,"atr":2.06645,"price":67.56,"sector":"Materials","shares":120,"position":8107.2},{"rank":41,"ticker":"VRTX","momentum":40.6079923028,"atr":8.93984,"price":246.72,"sector":"Health Care","shares":27,"position":6661.44},{"rank":42,"ticker":"GD","momentum":38.7409303903,"atr":6.2718,"price":226.31,"sector":"Industrials","shares":39,"position":8826.09},{"rank":43,"ticker":"HST","momentum":33.9359074064,"atr":0.904815,"price":19.9,"sector":"Real Estate","shares":276,"position":5492.4},{"rank":44,"ticker":"ATO","momentum":32.7343716679,"atr":2.62575,"price":112.96,"sector":"Utilities","shares":95,"position":10731.2},{"rank":45,"ticker":"TAP","momentum":31.3190632369,"atr":1.605745,"price":55.93,"sector":"Consumer Staples","shares":155,"position":8669.15},{"rank":46,"ticker":"HII","momentum":30.7661114686,"atr":6.62395,"price":203.78,"sector":"Industrials","shares":37,"position":7539.86},{"rank":47,"ticker":"CMS","momentum":29.6313169389,"atr":1.583655,"price":69.45,"sector":"Utilities","shares":157,"position":10903.65},{"rank":48,"ticker":"HSIC","momentum":29.5385099276,"atr":2.594,"price":83.51,"sector":"Health Care","shares":96,"position":8016.96},{"rank":49,"ticker":"MO","momentum":27.9465856842,"atr":1.40611,"price":53.04,"sector":"Consumer Staples","shares":177,"position":9388.08},{"rank":50,"ticker":"CINF","momentum":26.9975424029,"atr":3.565535,"price":126.23,"sector":"Financials","shares":70,"position":8836.1},{"rank":51,"ticker":"SO","momentum":26.630607957,"atr":1.689025,"price":73.65,"sector":"Utilities","shares":148,"position":10900.2},{"rank":52,"ticker":"CI","momentum":26.2331882444,"atr":7.07985,"price":259.19,"sector":"Health Care","shares":35,"position":9071.65},{"rank":53,"ticker":"HRL","momentum":24.7797205704,"atr":1.120605,"price":53.21,"sector":"Consumer Staples","shares":223,"position":11865.83},{"rank":54,"ticker":"ETR","momentum":24.3631568895,"atr":2.891875,"price":117.17,"sector":"Utilities","shares":86,"position":10076.62},{"rank":55,"ticker":"KMI","momentum":23.737043117,"atr":0.576595,"price":18.74,"sector":"Energy","shares":433,"position":8114.42},{"rank":56,"ticker":"DUK","momentum":23.3580149986,"atr":2.5041,"price":109.3,"sector":"Utilities","shares":99,"position":10820.7},{"rank":57,"ticker":"LYB","momentum":23.0424107724,"atr":3.69428,"price":106.72,"sector":"Materials","shares":67,"position":7150.24},{"rank":58,"ticker":"LHX","momentum":22.6251351639,"atr":7.2433,"price":236.18,"sector":"Industrials","shares":34,"position":8030.12},{"rank":59,"ticker":"AEE","momentum":22.3164672341,"atr":1.95613,"price":93.11,"sector":"Utilities","shares":127,"position":11824.97},{"rank":60,"ticker":"XEL","momentum":21.6055267709,"atr":1.63625,"price":74.49,"sector":"Utilities","shares":152,"position":11322.48},{"rank":61,"ticker":"WMT","momentum":21.4146306754,"atr":3.26425,"price":148.05,"sector":"Consumer Staples","shares":76,"position":11251.8},{"rank":62,"ticker":"MRK","momentum":20.7448773183,"atr":2.04027,"price":90.41,"sector":"Health Care","shares":122,"position":11030.02},{"rank":63,"ticker":"ALL","momentum":20.5624479657,"atr":3.56825,"price":128.19,"sector":"Financials","shares":70,"position":8973.3},{"rank":64,"ticker":"DG","momentum":19.8735663477,"atr":6.094445,"price":232.33,"sector":"Consumer Discretionary","shares":41,"position":9525.53},{"rank":65,"ticker":"NI","momentum":18.068919701,"atr":0.70175,"price":30.32,"sector":"Utilities","shares":356,"position":10793.92},{"rank":66,"ticker":"PEG","momentum":17.3739231569,"atr":1.52115,"price":68.58,"sector":"Utilities","shares":164,"position":11247.12},{"rank":67,"ticker":"L","momentum":15.8491080015,"atr":1.645115,"price":63.15,"sector":"Financials","shares":151,"position":9535.65},{"rank":68,"ticker":"D","momentum":15.8013459067,"atr":1.9575,"price":83.61,"sector":"Utilities","shares":127,"position":10618.47},{"rank":69,"ticker":"AMGN","momentum":15.1688917377,"atr":5.890695,"price":243.4,"sector":"Health Care","shares":42,"position":10222.8},{"rank":70,"ticker":"JNJ","momentum":15.0256063104,"atr":3.41532,"price":176.85,"sector":"Health Care","shares":73,"position":12910.05},{"rank":71,"ticker":"PNW","momentum":14.9785411557,"atr":1.855155,"price":73.24,"sector":"Utilities","shares":134,"position":9814.16},{"rank":72,"ticker":"WEC","momentum":14.169867255,"atr":2.370545,"price":102.09,"sector":"Utilities","shares":105,"position":10719.45},{"rank":73,"ticker":"ULTA","momentum":13.8173996209,"atr":15.56439,"price":395.89,"sector":"Consumer Discretionary","shares":16,"position":6334.24},{"rank":74,"ticker":"KO","momentum":13.4027002014,"atr":1.47035,"price":65.72,"sector":"Consumer Staples","shares":170,"position":11172.4},{"rank":75,"ticker":"SLB","momentum":13.3040320802,"atr":2.35475,"price":40.74,"sector":"Energy","shares":106,"position":4318.44},{"rank":76,"ticker":"SYY","momentum":11.5953855098,"atr":2.834085,"price":84.73,"sector":"Consumer Staples","shares":88,"position":7456.24},{"rank":77,"ticker":"ROL","momentum":11.2348091378,"atr":1.044055,"price":34.05,"sector":"Industrials","shares":239,"position":8137.95},{"rank":78,"ticker":"CB","momentum":11.1822025698,"atr":5.15005,"price":206.54,"sector":"Financials","shares":48,"position":9913.92},{"rank":79,"ticker":"TRV","momentum":10.9109675232,"atr":3.7889,"price":172.78,"sector":"Financials","shares":65,"position":11230.7},{"rank":80,"ticker":"EVRG","momentum":9.4936287161,"atr":1.580305,"price":67.61,"sector":"Utilities","shares":158,"position":10682.38},{"rank":81,"ticker":"HOLX","momentum":8.354582657,"atr":2.23875,"price":76.28,"sector":"Health Care","shares":111,"position":8467.08},{"rank":82,"ticker":"FANG","momentum":8.2851810397,"atr":7.539975,"price":133.43,"sector":"Energy","shares":33,"position":4403.19},{"rank":83,"ticker":"INCY","momentum":8.1792544626,"atr":2.43274,"price":74.9,"sector":"Health Care","shares":102,"position":7639.8},{"rank":84,"ticker":"CPB","momentum":6.7832988953,"atr":1.2085,"price":50.55,"sector":"Consumer Staples","shares":206,"position":10413.3},{"rank":85,"ticker":"WM","momentum":6.7515601913,"atr":4.512285,"price":157.9,"sector":"Industrials","shares":55,"position":8684.5},{"rank":86,"ticker":"CERN","momentum":5.9275271174,"atr":0.353655,"price":94.21,"sector":"Health Care","shares":706,"position":66512.26},{"rank":87,"ticker":"K","momentum":5.1948330321,"atr":1.694625,"price":73.01,"sector":"Consumer Staples","shares":147,"position":10732.47},{"rank":88,"ticker":"RSG","momentum":3.5348625731,"atr":3.453745,"price":130.89,"sector":"Industrials","shares":72,"position":9424.08},{"rank":89,"ticker":"ES","momentum":2.6769723641,"atr":2.200445,"price":89.34,"sector":"Utilities","shares":113,"position":10095.42},{"rank":90,"ticker":"AZO","momentum":2.4456493858,"atr":68.64575,"price":2001.11,"sector":"Consumer Discretionary","shares":3,"position":6003.33},{"rank":91,"ticker":"MKC","momentum":2.0754361465,"atr":2.53609,"price":100.27,"sector":"Consumer Staples","shares":98,"position":9826.46},{"rank":92,"ticker":"GIS","momentum":1.8189571381,"atr":1.45907,"price":73.1,"sector":"Consumer Staples","shares":171,"position":12500.1},{"rank":93,"ticker":"CHRW","momentum":1.0603192312,"atr":3.331705,"price":105.79,"sector":"Industrials","shares":75,"position":7934.25},{"rank":94,"ticker":"OGN","momentum":0.9958044941,"atr":1.19618,"price":34.94,"sector":"Health Care","shares":208,"position":7267.52},{"rank":95,"ticker":"STZ","momentum":0.5718565531,"atr":5.47562,"price":248.92,"sector":"Consumer Staples","shares":45,"position":11201.4},{"rank":96,"ticker":"PSX","momentum":0.2890369445,"atr":3.9685,"price":94.6,"sector":"Energy","shares":62,"position":5865.2},{"rank":97,"ticker":"SNA","momentum":0.1616641558,"atr":6.859785,"price":216.49,"sector":"Industrials","shares":36,"position":7793.64},{"rank":98,"ticker":"CAG","momentum":0.0249797848,"atr":0.83125,"price":35.89,"sector":"Consumer Staples","shares":300,"position":10767.0},{"rank":99,"ticker":"AMCR","momentum":0.00912852,"atr":0.393665,"price":12.77,"sector":"Materials","shares":635,"position":8108.95},{"rank":100,"ticker":"T","momentum":-0.0003204569,"atr":0.49913,"price":19.84,"sector":"Communication Services","shares":500,"position":9920.0},{"rank":101,"ticker":"IBM","momentum":-0.0013597823,"atr":3.81824,"price":133.6,"sector":"Information Technology","shares":65,"position":8684.0},{"rank":102,"ticker":"SJM","momentum":-0.002491587,"atr":3.42068,"price":144.23,"sector":"Consumer Staples","shares":73,"position":10528.79},{"rank":103,"ticker":"PEP","momentum":-0.005813348,"atr":3.84093,"price":173.72,"sector":"Consumer Staples","shares":65,"position":11291.8},{"rank":104,"ticker":"IP","momentum":-0.0165777899,"atr":1.36725,"price":47.79,"sector":"Materials","shares":182,"position":8697.78},{"rank":105,"ticker":"GPC","momentum":-0.0525480898,"atr":3.80153,"price":134.78,"sector":"Consumer Discretionary","shares":65,"position":8760.7},{"rank":106,"ticker":"PPL","momentum":-0.1307724012,"atr":0.63521,"price":28.77,"sector":"Utilities","shares":393,"position":11306.61},{"rank":107,"ticker":"PM","momentum":-0.4052241736,"atr":2.68768,"price":104.43,"sector":"Consumer Staples","shares":93,"position":9711.99},{"rank":108,"ticker":"NRG","momentum":-0.4977536866,"atr":1.4325,"price":42.29,"sector":"Utilities","shares":174,"position":7358.46},{"rank":109,"ticker":"KMB","momentum":-1.2705236063,"atr":3.828275,"price":139.16,"sector":"Consumer Staples","shares":65,"position":9045.4},{"rank":110,"ticker":"MNST","momentum":-1.5361534603,"atr":2.82,"price":88.89,"sector":"Consumer Staples","shares":88,"position":7822.32},{"rank":111,"ticker":"MDLZ","momentum":-3.2163078298,"atr":1.47725,"price":66.38,"sector":"Consumer Staples","shares":169,"position":11218.22},{"rank":112,"ticker":"WDC","momentum":-6.0393084329,"atr":2.61041,"price":58.45,"sector":"Information Technology","shares":95,"position":5552.75},{"rank":113,"ticker":"IFF","momentum":-16.3452089104,"atr":3.987,"price":132.16,"sector":"Materials","shares":62,"position":8193.92},{"rank":114,"ticker":"EXPD","momentum":-19.133157236,"atr":3.3495,"price":111.59,"sector":"Industrials","shares":74,"position":8257.66}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"F","momentum":279.4534476683,"atr":1.26138,"price":19.55,"sector":"Consumer Discretionary","shares":198,"position":3870.9},{"rank":2,"ticker":"HPQ","momentum":170.3370749137,"atr":1.00827,"price":35.21,"sector":"Information Technology","shares":247,"position":8696.87},{"rank":3,"ticker":"QCOM","momentum":168.9871599989,"atr":7.797955,"price":161.2,"sector":"Information Technology","shares":32,"position":5158.4},{"rank":4,"ticker":"PFE","momentum":137.299615595,"atr":1.645065,"price":53.37,"sector":"Health Care","shares":151,"position":8058.87},{"rank":5,"ticker":"ABBV","momentum":115.2910084443,"atr":2.62632,"price":135.97,"sector":"Health Care","shares":95,"position":12917.15},{"rank":6,"ticker":"STX","momentum":110.7530201317,"atr":4.74463,"price":103.68,"sector":"Information Technology","shares":52,"position":5391.36},{"rank":7,"ticker":"VRTX","momentum":110.5292063843,"atr":4.964,"price":228.22,"sector":"Health Care","shares":50,"position":11411.0},{"rank":8,"ticker":"CERN","momentum":109.3406929401,"atr":0.5275,"price":91.38,"sector":"Health Care","shares":473,"position":43222.74},{"rank":9,"ticker":"CHD","momentum":108.2571983228,"atr":2.237955,"price":98.66,"sector":"Consumer Staples","shares":111,"position":10951.26},{"rank":10,"ticker":"MCK","momentum":106.8330036925,"atr":6.067495,"price":255.1,"sector":"Health Care","shares":41,"position":10459.1},{"rank":11,"ticker":"DVN","momentum":100.9258696476,"atr":2.5337,"price":51.74,"sector":"Energy","shares":98,"position":5070.52},{"rank":12,"ticker":"CVS","momentum":99.0344922721,"atr":2.1942,"price":106.79,"sector":"Health Care","shares":113,"position":12067.27},{"rank":13,"ticker":"CNC","momentum":92.9051281492,"atr":2.26297,"price":76.27,"sector":"Health Care","shares":110,"position":8389.7},{"rank":14,"ticker":"AOS","momentum":91.7182456474,"atr":2.47285,"price":75.85,"sector":"Industrials","shares":101,"position":7660.85},{"rank":15,"ticker":"GWW","momentum":83.3628973628,"atr":13.214,"price":481.58,"sector":"Industrials","shares":18,"position":8668.44},{"rank":16,"ticker":"JNPR","momentum":76.4022895841,"atr":0.90125,"price":31.45,"sector":"Information Technology","shares":277,"position":8711.65},{"rank":17,"ticker":"CVX","momentum":72.2664489329,"atr":2.74458,"price":135.37,"sector":"Energy","shares":91,"position":12318.67},{"rank":18,"ticker":"AAPL","momentum":71.39227612,"atr":4.41822,"price":159.22,"sector":"Information Technology","shares":56,"position":8916.32},{"rank":19,"ticker":"MKC","momentum":68.5349765854,"atr":2.12047,"price":98.2,"sector":"Consumer Staples","shares":117,"position":11489.4},{"rank":20,"ticker":"PLD","momentum":67.5764074864,"atr":3.98425,"price":148.61,"sector":"Real Estate","shares":62,"position":9213.82},{"rank":21,"ticker":"FMC","momentum":67.227613769,"atr":2.80238,"price":108.09,"sector":"Materials","shares":89,"position":9620.01},{"rank":22,"ticker":"APA","momentum":66.9904829349,"atr":1.739255,"price":32.95,"sector":"Energy","shares":143,"position":4711.85},{"rank":23,"ticker":"PGR","momentum":66.9537877204,"atr":2.469455,"price":107.64,"sector":"Financials","shares":101,"position":10871.64},{"rank":24,"ticker":"AZO","momentum":66.9293282732,"atr":53.62393,"price":1907.73,"sector":"Consumer Discretionary","shares":4,"position":7630.92},{"rank":25,"ticker":"CHRW","momentum":66.6612356089,"atr":2.738325,"price":102.82,"sector":"Industrials","shares":91,"position":9356.62},{"rank":26,"ticker":"HRL","momentum":66.4519234614,"atr":0.877875,"price":46.76,"sector":"Consumer Staples","shares":284,"position":13279.84},{"rank":27,"ticker":"SJM","momentum":65.925311767,"atr":2.992035,"price":138.99,"sector":"Consumer Staples","shares":83,"position":11536.17},{"rank":28,"ticker":"KR","momentum":65.7876351382,"atr":1.4265,"price":45.4,"sector":"Consumer Staples","shares":175,"position":7945.0},{"rank":29,"ticker":"PSA","momentum":65.74419071,"atr":8.03475,"price":346.26,"sector":"Real Estate","shares":31,"position":10734.06},{"rank":30,"ticker":"SEE","momentum":64.9597844484,"atr":1.66202,"price":66.57,"sector":"Materials","shares":150,"position":9985.5},{"rank":31,"ticker":"EMN","momentum":61.7141648045,"atr":3.258995,"price":118.54,"sector":"Materials","shares":76,"position":9009.04},{"rank":32,"ticker":"ATO","momentum":60.1632568197,"atr":2.082425,"price":104.83,"sector":"Utilities","shares":120,"position":12579.6},{"rank":33,"ticker":"STZ","momentum":55.3146120104,"atr":5.52694,"price":234.77,"sector":"Consumer Staples","shares":45,"position":10564.65},{"rank":34,"ticker":"TSN","momentum":54.7675375905,"atr":1.86674,"price":90.02,"sector":"Consumer Staples","shares":133,"position":11972.66},{"rank":35,"ticker":"CF","momentum":54.7182632712,"atr":3.10864,"price":68.38,"sector":"Materials","shares":80,"position":5470.4},{"rank":36,"ticker":"PG","momentum":54.1908472603,"atr":3.096405,"price":159.13,"sector":"Consumer Staples","shares":80,"position":12730.4},{"rank":37,"ticker":"ED","momentum":53.7479110726,"atr":1.584,"price":82.76,"sector":"Utilities","shares":157,"position":12993.32},{"rank":38,"ticker":"SCHW","momentum":52.0002778015,"atr":2.77919,"price":89.7,"sector":"Financials","shares":89,"position":7983.3},{"rank":39,"ticker":"NI","momentum":51.9264396113,"atr":0.4925,"price":27.97,"sector":"Utilities","shares":507,"position":14180.79},{"rank":40,"ticker":"FE","momentum":49.5271437358,"atr":0.731,"price":41.26,"sector":"Utilities","shares":341,"position":14069.66},{"rank":41,"ticker":"UNP","momentum":48.2301409208,"atr":5.55874,"price":244.59,"sector":"Industrials","shares":44,"position":10761.96},{"rank":42,"ticker":"EXC","momentum":47.80436361,"atr":1.135985,"price":56.13,"sector":"Utilities","shares":220,"position":12348.6},{"rank":43,"ticker":"GIS","momentum":46.0475966354,"atr":1.271085,"price":68.35,"sector":"Consumer Staples","shares":196,"position":13396.6},{"rank":44,"ticker":"UNH","momentum":45.5780225694,"atr":11.362135,"price":461.6,"sector":"Health Care","shares":22,"position":10155.2},{"rank":45,"ticker":"AFL","momentum":44.4932327357,"atr":1.348125,"price":61.89,"sector":"Financials","shares":185,"position":11449.65},{"rank":46,"ticker":"PEP","momentum":43.9118890533,"atr":2.88393,"price":169.37,"sector":"Consumer Staples","shares":86,"position":14565.82},{"rank":47,"ticker":"ANTM","momentum":43.3698298233,"atr":12.06275,"price":435.83,"sector":"Health Care","shares":20,"position":8716.6},{"rank":48,"ticker":"CME","momentum":43.0276707435,"atr":4.657995,"price":223.24,"sector":"Financials","shares":53,"position":11831.72},{"rank":49,"ticker":"CTSH","momentum":42.7399963901,"atr":2.064,"price":81.79,"sector":"Information Technology","shares":121,"position":9896.59},{"rank":50,"ticker":"DD","momentum":41.1281919537,"atr":2.121905,"price":76.49,"sector":"Materials","shares":117,"position":8949.33},{"rank":51,"ticker":"HSY","momentum":40.8873200365,"atr":3.39952,"price":194.37,"sector":"Consumer Staples","shares":73,"position":14189.01},{"rank":52,"ticker":"MDLZ","momentum":39.9093414521,"atr":1.20505,"price":67.47,"sector":"Consumer Staples","shares":207,"position":13966.29},{"rank":53,"ticker":"EOG","momentum":37.5009631358,"atr":3.93701,"price":109.75,"sector":"Energy","shares":63,"position":6914.25},{"rank":54,"ticker":"CI","momentum":36.0473712645,"atr":6.352995,"price":227.43,"sector":"Health Care","shares":39,"position":8869.77},{"rank":55,"ticker":"PFG","momentum":35.7546543426,"atr":2.06069,"price":72.41,"sector":"Financials","shares":121,"position":8761.61},{"rank":56,"ticker":"KO","momentum":33.7400957707,"atr":0.91459,"price":59.65,"sector":"Consumer Staples","shares":273,"position":16284.45},{"rank":57,"ticker":"CL","momentum":33.1275911873,"atr":1.442745,"price":82.7,"sector":"Consumer Staples","shares":173,"position":14307.1},{"rank":58,"ticker":"HPE","momentum":32.0975480312,"atr":0.502365,"price":15.81,"sector":"Information Technology","shares":497,"position":7857.57},{"rank":59,"ticker":"ADM","momentum":30.3763552338,"atr":1.58517,"price":74.2,"sector":"Consumer Staples","shares":157,"position":11649.4},{"rank":60,"ticker":"PCAR","momentum":30.3085788185,"atr":2.63051,"price":93.22,"sector":"Industrials","shares":95,"position":8855.9},{"rank":61,"ticker":"NEM","momentum":29.2169276933,"atr":1.605285,"price":60.66,"sector":"Materials","shares":155,"position":9402.3},{"rank":62,"ticker":"BRK.B","momentum":28.6808767921,"atr":6.29576,"price":307.67,"sector":"Financials","shares":39,"position":11999.13},{"rank":63,"ticker":"WY","momentum":27.4414237589,"atr":1.06355,"price":37.89,"sector":"Real Estate","shares":235,"position":8904.15},{"rank":64,"ticker":"PXD","momentum":27.2385655793,"atr":6.822005,"price":213.85,"sector":"Energy","shares":36,"position":7698.6},{"rank":65,"ticker":"COP","momentum":26.3090565047,"atr":2.830165,"price":89.66,"sector":"Energy","shares":88,"position":7890.08},{"rank":66,"ticker":"KIM","momentum":25.8979155595,"atr":0.6995,"price":23.4,"sector":"Real Estate","shares":357,"position":8353.8},{"rank":67,"ticker":"CTVA","momentum":25.1849459433,"atr":1.292,"price":46.84,"sector":"Materials","shares":193,"position":9040.12},{"rank":68,"ticker":"AMP","momentum":25.178404423,"atr":9.666,"price":303.71,"sector":"Financials","shares":25,"position":7592.75},{"rank":69,"ticker":"XEL","momentum":24.5641397469,"atr":1.45743,"price":68.94,"sector":"Utilities","shares":171,"position":11788.74},{"rank":70,"ticker":"SO","momentum":24.1765216962,"atr":1.21653,"price":68.03,"sector":"Utilities","shares":205,"position":13946.15},{"rank":71,"ticker":"EQR","momentum":23.8042872377,"atr":1.82742,"price":86.67,"sector":"Real Estate","shares":136,"position":11787.12},{"rank":72,"ticker":"CMA","momentum":23.8033675879,"atr":3.273625,"price":92.06,"sector":"Financials","shares":76,"position":6996.56},{"rank":73,"ticker":"CNP","momentum":23.0284379116,"atr":0.528745,"price":27.37,"sector":"Utilities","shares":472,"position":12918.64},{"rank":74,"ticker":"WRB","momentum":23.0268271185,"atr":2.02498,"price":81.34,"sector":"Financials","shares":123,"position":10004.82},{"rank":75,"ticker":"XOM","momentum":22.2842153512,"atr":1.936,"price":75.12,"sector":"Energy","shares":129,"position":9690.48},{"rank":76,"ticker":"WEC","momentum":21.513309868,"atr":1.926205,"price":95.11,"sector":"Utilities","shares":129,"position":12269.19},{"rank":77,"ticker":"CAT","momentum":21.4362534274,"atr":5.77276,"price":212.17,"sector":"Industrials","shares":43,"position":9123.31},{"rank":78,"ticker":"ETR","momentum":21.1089005973,"atr":2.329335,"price":109.59,"sector":"Utilities","shares":107,"position":11726.13},{"rank":79,"ticker":"PEG","momentum":20.3136647461,"atr":1.2947,"price":65.4,"sector":"Utilities","shares":193,"position":12622.2},{"rank":80,"ticker":"KEY","momentum":20.2523288031,"atr":0.7958,"price":24.94,"sector":"Financials","shares":314,"position":7831.16},{"rank":81,"ticker":"ABC","momentum":19.9060139307,"atr":3.066425,"price":134.69,"sector":"Health Care","shares":81,"position":10909.89},{"rank":82,"ticker":"AEP","momentum":19.1958266498,"atr":1.611835,"price":89.4,"sector":"Utilities","shares":155,"position":13857.0},{"rank":83,"ticker":"KMB","momentum":19.1258253259,"atr":3.018945,"price":137.48,"sector":"Consumer Staples","shares":82,"position":11273.36},{"rank":84,"ticker":"INCY","momentum":17.6780143556,"atr":2.062,"price":71.59,"sector":"Health Care","shares":121,"position":8662.39},{"rank":85,"ticker":"CB","momentum":17.4471520795,"atr":4.752145,"price":192.77,"sector":"Financials","shares":52,"position":10024.04},{"rank":86,"ticker":"WFC","momentum":17.2638253592,"atr":1.700615,"price":53.76,"sector":"Financials","shares":147,"position":7902.72},{"rank":87,"ticker":"AEE","momentum":17.0914642103,"atr":1.6042,"price":86.32,"sector":"Utilities","shares":155,"position":13379.6},{"rank":88,"ticker":"LNT","momentum":16.1081948977,"atr":1.202465,"price":58.91,"sector":"Utilities","shares":207,"position":12194.37},{"rank":89,"ticker":"PH","momentum":15.5826694896,"atr":9.33505,"price":308.68,"sector":"Industrials","shares":26,"position":8025.68},{"rank":90,"ticker":"MTB","momentum":15.5229809984,"atr":6.02862,"price":168.86,"sector":"Financials","shares":41,"position":6923.26},{"rank":91,"ticker":"CMS","momentum":15.45679921,"atr":1.2075,"price":63.19,"sector":"Utilities","shares":207,"position":13080.33},{"rank":92,"ticker":"WBA","momentum":15.1342759797,"atr":1.37725,"price":50.0,"sector":"Consumer Staples","shares":181,"position":9050.0},{"rank":93,"ticker":"BK","momentum":15.0071884995,"atr":1.93699,"price":58.37,"sector":"Financials","shares":129,"position":7529.73},{"rank":94,"ticker":"AMGN","momentum":14.5195925273,"atr":4.64689,"price":224.0,"sector":"Health Care","shares":53,"position":11872.0},{"rank":95,"ticker":"DE","momentum":13.3752500616,"atr":11.46233,"price":375.96,"sector":"Industrials","shares":21,"position":7895.16},{"rank":96,"ticker":"D","momentum":13.1381731945,"atr":1.493875,"price":78.21,"sector":"Utilities","shares":167,"position":13061.07},{"rank":97,"ticker":"CPB","momentum":12.3932852176,"atr":0.96973,"price":44.21,"sector":"Consumer Staples","shares":257,"position":11361.97},{"rank":98,"ticker":"L","momentum":11.3947259289,"atr":1.292725,"price":58.27,"sector":"Financials","shares":193,"position":11246.11},{"rank":99,"ticker":"HAL","momentum":11.2447367741,"atr":1.173035,"price":30.83,"sector":"Energy","shares":213,"position":6566.79},{"rank":100,"ticker":"GL","momentum":10.7079393672,"atr":2.666965,"price":101.1,"sector":"Financials","shares":93,"position":9402.3},{"rank":101,"ticker":"BAX","momentum":10.6585312625,"atr":1.52225,"price":84.63,"sector":"Health Care","shares":164,"position":13879.32},{"rank":102,"ticker":"RJF","momentum":10.3919565672,"atr":3.33682,"price":100.91,"sector":"Financials","shares":74,"position":7467.34},{"rank":103,"ticker":"PBCT","momentum":9.926584659,"atr":0.7055,"price":19.27,"sector":"Financials","shares":354,"position":6821.58},{"rank":104,"ticker":"PPL","momentum":9.7145870575,"atr":0.45734,"price":29.35,"sector":"Utilities","shares":546,"position":16025.1},{"rank":105,"ticker":"BMY","momentum":9.6904762648,"atr":1.3791,"price":63.86,"sector":"Health Care","shares":181,"position":11558.66},{"rank":106,"ticker":"MPC","momentum":8.3849235773,"atr":2.106755,"price":71.9,"sector":"Energy","shares":118,"position":8484.2},{"rank":107,"ticker":"CFG","momentum":8.2426691764,"atr":1.782295,"price":51.8,"sector":"Financials","shares":140,"position":7252.0},{"rank":108,"ticker":"RE","momentum":7.7292586385,"atr":7.248105,"price":277.94,"sector":"Financials","shares":34,"position":9449.96},{"rank":109,"ticker":"FITB","momentum":7.6149616361,"atr":1.48325,"price":44.23,"sector":"Financials","shares":168,"position":7430.64},{"rank":110,"ticker":"JNJ","momentum":6.9140502903,"atr":2.8313,"price":170.59,"sector":"Health Care","shares":88,"position":15011.92},{"rank":111,"ticker":"BDX","momentum":6.1654895451,"atr":5.28375,"price":251.19,"sector":"Health Care","shares":47,"position":11805.93},{"rank":112,"ticker":"K","momentum":5.5861453061,"atr":1.163445,"price":65.17,"sector":"Consumer Staples","shares":214,"position":13946.38},{"rank":113,"ticker":"SLB","momentum":5.2851402812,"atr":1.52129,"price":38.86,"sector":"Energy","shares":164,"position":6373.04},{"rank":114,"ticker":"SRE","momentum":4.7780277424,"atr":2.66838,"price":135.96,"sector":"Utilities","shares":93,"position":12644.28},{"rank":115,"ticker":"ZION","momentum":4.6091107499,"atr":2.309445,"price":66.99,"sector":"Financials","shares":108,"position":7234.92},{"rank":116,"ticker":"DUK","momentum":4.5406853745,"atr":1.811615,"price":103.25,"sector":"Utilities","shares":137,"position":14145.25},{"rank":117,"ticker":"GD","momentum":4.2671155307,"atr":4.302375,"price":208.8,"sector":"Industrials","shares":58,"position":12110.4},{"rank":118,"ticker":"NOC","momentum":4.0453145389,"atr":8.95184,"price":373.99,"sector":"Industrials","shares":27,"position":10097.73},{"rank":119,"ticker":"TAP","momentum":3.36946953,"atr":1.4924,"price":48.16,"sector":"Consumer Staples","shares":167,"position":8042.72},{"rank":120,"ticker":"TRV","momentum":2.4358086791,"atr":4.166995,"price":165.66,"sector":"Financials","shares":59,"position":9773.94},{"rank":121,"ticker":"RF","momentum":2.0432797278,"atr":0.94195,"price":22.91,"sector":"Financials","shares":265,"position":6071.15},{"rank":122,"ticker":"BAC","momentum":2.0169011291,"atr":1.404635,"price":45.47,"sector":"Financials","shares":177,"position":8048.19},{"rank":123,"ticker":"LMT","momentum":1.9180026107,"atr":7.54882,"price":389.08,"sector":"Industrials","shares":33,"position":12839.64},{"rank":124,"ticker":"PNC","momentum":1.856471208,"atr":6.414175,"price":204.96,"sector":"Financials","shares":38,"position":7788.48},{"rank":125,"ticker":"PSX","momentum":1.6534179167,"atr":2.75895,"price":85.82,"sector":"Energy","shares":90,"position":7723.8},{"rank":126,"ticker":"RHI","momentum":1.4961480589,"atr":2.964175,"price":111.0,"sector":"Industrials","shares":84,"position":9324.0},{"rank":127,"ticker":"VTRS","momentum":1.4217306136,"atr":0.3625,"price":14.59,"sector":"Health Care","shares":689,"position":10052.51},{"rank":128,"ticker":"VLO","momentum":1.3561451781,"atr":2.64546,"price":81.98,"sector":"Energy","shares":94,"position":7706.12},{"rank":129,"ticker":"PRU","momentum":1.1225955493,"atr":3.03666,"price":110.61,"sector":"Financials","shares":82,"position":9070.02},{"rank":130,"ticker":"MO","momentum":1.0630413102,"atr":1.04215,"price":50.34,"sector":"Consumer Staples","shares":239,"position":12031.26},{"rank":131,"ticker":"BKR","momentum":0.7542074187,"atr":1.088245,"price":27.3,"sector":"Energy","shares":229,"position":6251.7},{"rank":132,"ticker":"CAG","momentum":0.7230994028,"atr":0.864495,"price":35.37,"sector":"Consumer Staples","shares":289,"position":10221.93},{"rank":133,"ticker":"OMC","momentum":0.5184640946,"atr":1.89169,"price":73.29,"sector":"Communication Services","shares":132,"position":9674.28},{"rank":134,"ticker":"MA","momentum":0.4582598875,"atr":12.385105,"price":350.53,"sector":"Information Technology","shares":20,"position":7010.6},{"rank":135,"ticker":"TFC","momentum":0.4547709921,"atr":1.966165,"price":61.91,"sector":"Financials","shares":127,"position":7862.57},{"rank":136,"ticker":"MOS","momentum":0.295456803,"atr":1.70483,"price":39.49,"sector":"Materials","shares":146,"position":5765.54},{"rank":137,"ticker":"MET","momentum":0.1839993091,"atr":1.778465,"price":65.31,"sector":"Financials","shares":140,"position":9143.4},{"rank":138,"ticker":"WMB","momentum":0.0366058361,"atr":0.73897,"price":29.37,"sector":"Energy","shares":338,"position":9927.06},{"rank":139,"ticker":"HES","momentum":0.016175685,"atr":3.944735,"price":89.68,"sector":"Energy","shares":63,"position":5649.84},{"rank":140,"ticker":"IBM","momentum":0.0126715058,"atr":3.46791,"price":132.52,"sector":"Information Technology","shares":72,"position":9541.44},{"rank":141,"ticker":"PNW","momentum":0.0037298765,"atr":1.529415,"price":69.91,"sector":"Utilities","shares":163,"position":11395.33},{"rank":142,"ticker":"PM","momentum":0.0034302389,"atr":1.937235,"price":102.25,"sector":"Consumer Staples","shares":129,"position":13190.25},{"rank":143,"ticker":"GLW","momentum":-0.0034472588,"atr":1.2704,"price":40.56,"sector":"Information Technology","shares":196,"position":7949.76},{"rank":144,"ticker":"BLL","momentum":-0.0080171462,"atr":2.573105,"price":93.99,"sector":"Materials","shares":97,"position":9117.03},{"rank":145,"ticker":"MRK","momentum":-0.0083968068,"atr":1.79738,"price":80.58,"sector":"Health Care","shares":139,"position":11200.62},{"rank":146,"ticker":"MS","momentum":-0.0316848974,"atr":3.547,"price":101.15,"sector":"Financials","shares":70,"position":7080.5},{"rank":147,"ticker":"RTX","momentum":-0.0444017591,"atr":2.156045,"price":89.28,"sector":"Industrials","shares":115,"position":10267.2},{"rank":148,"ticker":"LYB","momentum":-0.0582571641,"atr":2.88789,"price":95.85,"sector":"Materials","shares":86,"position":8243.1},{"rank":149,"ticker":"NWL","momentum":-0.1038939494,"atr":0.564175,"price":23.15,"sector":"Consumer Discretionary","shares":443,"position":10255.45},{"rank":150,"ticker":"DOW","momentum":-0.1877784854,"atr":1.6272,"price":60.18,"sector":"Materials","shares":153,"position":9207.54},{"rank":151,"ticker":"BSX","momentum":-0.2926222527,"atr":1.09625,"price":43.23,"sector":"Health Care","shares":228,"position":9856.44},{"rank":152,"ticker":"KMI","momentum":-0.3149543805,"atr":0.451105,"price":17.48,"sector":"Energy","shares":554,"position":9683.92},{"rank":153,"ticker":"CTRA","momentum":-0.6397606468,"atr":0.984,"price":20.99,"sector":"Energy","shares":254,"position":5331.46},{"rank":154,"ticker":"PKG","momentum":-1.8379394942,"atr":3.990375,"price":143.49,"sector":"Materials","shares":62,"position":8896.38},{"rank":155,"ticker":"AXP","momentum":-2.8655606993,"atr":5.267355,"price":171.9,"sector":"Financials","shares":47,"position":8079.3},{"rank":156,"ticker":"WTW","momentum":-39.4475121458,"atr":0.1,"price":222.99,"sector":"Financials","shares":2500,"position":557475.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"F","momentum":310.2083472581,"atr":1.21538,"price":19.91,"sector":"Consumer Discretionary","shares":205,"position":4081.55},{"rank":2,"ticker":"QCOM","momentum":182.8387663523,"atr":7.397455,"price":167.0,"sector":"Information Technology","shares":33,"position":5511.0},{"rank":3,"ticker":"HPQ","momentum":179.4952844883,"atr":0.96496,"price":35.23,"sector":"Information Technology","shares":259,"position":9124.57},{"rank":4,"ticker":"PFE","momentum":140.308959418,"atr":1.614065,"price":53.01,"sector":"Health Care","shares":154,"position":8163.54},{"rank":5,"ticker":"MU","momentum":123.9574627075,"atr":3.55271,"price":81.97,"sector":"Information Technology","shares":70,"position":5737.9},{"rank":6,"ticker":"ABBV","momentum":114.9845190757,"atr":2.51232,"price":134.23,"sector":"Health Care","shares":99,"position":13288.77},{"rank":7,"ticker":"CHD","momentum":109.6938341955,"atr":2.181455,"price":98.95,"sector":"Consumer Staples","shares":114,"position":11280.3},{"rank":8,"ticker":"VRTX","momentum":106.6405829605,"atr":4.74475,"price":226.58,"sector":"Health Care","shares":52,"position":11782.16},{"rank":9,"ticker":"MCK","momentum":105.235783827,"atr":5.829995,"price":246.97,"sector":"Health Care","shares":42,"position":10372.74},{"rank":10,"ticker":"DVN","momentum":104.6386637697,"atr":2.408695,"price":51.79,"sector":"Energy","shares":103,"position":5334.37},{"rank":11,"ticker":"CERN","momentum":104.1176583359,"atr":0.5275,"price":91.12,"sector":"Health Care","shares":473,"position":43099.76},{"rank":12,"ticker":"CVS","momentum":97.7770998051,"atr":2.110215,"price":104.86,"sector":"Health Care","shares":118,"position":12373.48},{"rank":13,"ticker":"CNC","momentum":97.5560126041,"atr":2.21647,"price":75.34,"sector":"Health Care","shares":112,"position":8438.08},{"rank":14,"ticker":"GWW","momentum":89.7303958554,"atr":12.972,"price":481.02,"sector":"Industrials","shares":19,"position":9139.38},{"rank":15,"ticker":"JNPR","momentum":83.327119721,"atr":0.8708,"price":31.43,"sector":"Information Technology","shares":287,"position":9020.41},{"rank":16,"ticker":"AAPL","momentum":76.8297979167,"atr":4.26472,"price":159.69,"sector":"Information Technology","shares":58,"position":9262.02},{"rank":17,"ticker":"AVGO","momentum":75.5765060883,"atr":19.20006,"price":557.12,"sector":"Information Technology","shares":13,"position":7242.56},{"rank":18,"ticker":"PLD","momentum":73.9886781091,"atr":3.80625,"price":151.72,"sector":"Real Estate","shares":65,"position":9861.8},{"rank":19,"ticker":"AZO","momentum":72.8647540062,"atr":53.91979,"price":1881.7,"sector":"Consumer Discretionary","shares":4,"position":7526.8},{"rank":20,"ticker":"CVX","momentum":72.5964582817,"atr":2.596885,"price":132.69,"sector":"Energy","shares":96,"position":12738.24},{"rank":21,"ticker":"APA","momentum":70.3137351328,"atr":1.673835,"price":33.11,"sector":"Energy","shares":149,"position":4933.39},{"rank":22,"ticker":"CHRW","momentum":69.8735592181,"atr":2.709325,"price":102.65,"sector":"Industrials","shares":92,"position":9443.8},{"rank":23,"ticker":"FCX","momentum":68.4423482306,"atr":1.75428,"price":38.43,"sector":"Materials","shares":142,"position":5457.06},{"rank":24,"ticker":"PSA","momentum":67.8125951785,"atr":7.7385,"price":348.18,"sector":"Real Estate","shares":32,"position":11141.76},{"rank":25,"ticker":"FMC","momentum":67.5505925333,"atr":2.66188,"price":107.35,"sector":"Materials","shares":93,"position":9983.55},{"rank":26,"ticker":"HRL","momentum":67.190289617,"atr":0.845875,"price":46.56,"sector":"Consumer Staples","shares":295,"position":13735.2},{"rank":27,"ticker":"SEE","momentum":66.5882372431,"atr":1.58452,"price":65.7,"sector":"Materials","shares":157,"position":10314.9},{"rank":28,"ticker":"KR","momentum":65.7236317571,"atr":1.396745,"price":44.38,"sector":"Consumer Staples","shares":178,"position":7899.64},{"rank":29,"ticker":"SJM","momentum":65.1940907841,"atr":2.878535,"price":137.38,"sector":"Consumer Staples","shares":86,"position":11814.68},{"rank":30,"ticker":"PGR","momentum":64.6484759761,"atr":2.377455,"price":107.63,"sector":"Financials","shares":105,"position":11301.15},{"rank":31,"ticker":"EMN","momentum":64.2679300954,"atr":3.085,"price":119.11,"sector":"Materials","shares":81,"position":9647.91},{"rank":32,"ticker":"MKC","momentum":63.3620049884,"atr":1.81472,"price":91.94,"sector":"Consumer Staples","shares":137,"position":12595.78},{"rank":33,"ticker":"ATO","momentum":59.6083192202,"atr":2.035925,"price":103.65,"sector":"Utilities","shares":122,"position":12645.3},{"rank":34,"ticker":"CF","momentum":59.0621742225,"atr":3.00064,"price":67.8,"sector":"Materials","shares":83,"position":5627.4},{"rank":35,"ticker":"STZ","momentum":58.3078928569,"atr":5.36444,"price":234.33,"sector":"Consumer Staples","shares":46,"position":10779.18},{"rank":36,"ticker":"TSN","momentum":55.3725472141,"atr":1.72774,"price":90.58,"sector":"Consumer Staples","shares":144,"position":13043.52},{"rank":37,"ticker":"ED","momentum":54.8228945811,"atr":1.527,"price":81.38,"sector":"Utilities","shares":163,"position":13264.94},{"rank":38,"ticker":"SCHW","momentum":54.1023890441,"atr":2.65969,"price":90.01,"sector":"Financials","shares":93,"position":8370.93},{"rank":39,"ticker":"PG","momentum":53.7531672733,"atr":3.043655,"price":158.15,"sector":"Consumer Staples","shares":82,"position":12968.3},{"rank":40,"ticker":"UNP","momentum":52.3625011335,"atr":5.38824,"price":244.88,"sector":"Industrials","shares":46,"position":11264.48},{"rank":41,"ticker":"NI","momentum":51.532215154,"atr":0.473,"price":27.33,"sector":"Utilities","shares":528,"position":14430.24},{"rank":42,"ticker":"FE","momentum":49.6061369915,"atr":0.6975,"price":41.16,"sector":"Utilities","shares":358,"position":14735.28},{"rank":43,"ticker":"EXC","momentum":48.1724492268,"atr":1.122985,"price":55.7,"sector":"Utilities","shares":222,"position":12365.4},{"rank":44,"ticker":"UNH","momentum":48.138290082,"atr":11.039855,"price":458.43,"sector":"Health Care","shares":22,"position":10085.46},{"rank":45,"ticker":"GIS","momentum":46.7120631387,"atr":1.232585,"price":67.8,"sector":"Consumer Staples","shares":202,"position":13695.6},{"rank":46,"ticker":"CME","momentum":46.5402646322,"atr":4.376745,"price":220.13,"sector":"Financials","shares":57,"position":12547.41},{"rank":47,"ticker":"ANTM","momentum":46.1655521139,"atr":11.57175,"price":428.44,"sector":"Health Care","shares":21,"position":8997.24},{"rank":48,"ticker":"CTSH","momentum":45.7837440125,"atr":2.0105,"price":81.83,"sector":"Information Technology","shares":124,"position":10146.92},{"rank":49,"ticker":"PEP","momentum":45.368185783,"atr":2.73543,"price":169.53,"sector":"Consumer Staples","shares":91,"position":15427.23},{"rank":50,"ticker":"DD","momentum":45.2121074891,"atr":2.007405,"price":76.74,"sector":"Materials","shares":124,"position":9515.76},{"rank":51,"ticker":"AFL","momentum":44.4933595564,"atr":1.27113,"price":62.16,"sector":"Financials","shares":196,"position":12183.36},{"rank":52,"ticker":"HSY","momentum":40.6542553535,"atr":3.23624,"price":194.13,"sector":"Consumer Staples","shares":77,"position":14948.01},{"rank":53,"ticker":"ITW","momentum":40.6249385149,"atr":4.58412,"price":233.02,"sector":"Industrials","shares":54,"position":12583.08},{"rank":54,"ticker":"MDLZ","momentum":38.3868036682,"atr":1.1358,"price":66.62,"sector":"Consumer Staples","shares":220,"position":14656.4},{"rank":55,"ticker":"PFG","momentum":38.2715907503,"atr":1.945355,"price":73.06,"sector":"Financials","shares":128,"position":9351.68},{"rank":56,"ticker":"EOG","momentum":38.1080706467,"atr":3.84051,"price":107.53,"sector":"Energy","shares":65,"position":6989.45},{"rank":57,"ticker":"JBHT","momentum":38.0736971198,"atr":5.660635,"price":195.5,"sector":"Industrials","shares":44,"position":8602.0},{"rank":58,"ticker":"CI","momentum":36.4532883316,"atr":5.963495,"price":234.02,"sector":"Health Care","shares":41,"position":9594.82},{"rank":59,"ticker":"HPE","momentum":34.8719197453,"atr":0.481115,"price":15.84,"sector":"Information Technology","shares":519,"position":8220.96},{"rank":60,"ticker":"KO","momentum":33.1813114724,"atr":0.86509,"price":59.6,"sector":"Consumer Staples","shares":288,"position":17164.8},{"rank":61,"ticker":"CL","momentum":32.6837107303,"atr":1.373745,"price":81.39,"sector":"Consumer Staples","shares":181,"position":14731.59},{"rank":62,"ticker":"AVB","momentum":31.5623811084,"atr":5.004005,"price":240.5,"sector":"Real Estate","shares":49,"position":11784.5},{"rank":63,"ticker":"PCAR","momentum":30.7255662525,"atr":2.52801,"price":93.88,"sector":"Industrials","shares":98,"position":9200.24},{"rank":64,"ticker":"WY","momentum":30.5148811909,"atr":1.03805,"price":38.08,"sector":"Real Estate","shares":240,"position":9139.2},{"rank":65,"ticker":"ADM","momentum":29.4313612396,"atr":1.46667,"price":72.27,"sector":"Consumer Staples","shares":170,"position":12285.9},{"rank":66,"ticker":"NEM","momentum":29.2958763093,"atr":1.562535,"price":61.69,"sector":"Materials","shares":159,"position":9808.71},{"rank":67,"ticker":"BRK.B","momentum":28.6643653301,"atr":5.883315,"price":309.26,"sector":"Financials","shares":42,"position":12988.92},{"rank":68,"ticker":"PXD","momentum":28.355113464,"atr":6.571505,"price":212.45,"sector":"Energy","shares":38,"position":8073.1},{"rank":69,"ticker":"KIM","momentum":28.3350228425,"atr":0.66475,"price":24.03,"sector":"Real Estate","shares":376,"position":9035.28},{"rank":70,"ticker":"AMP","momentum":28.0010707762,"atr":8.9445,"price":298.79,"sector":"Financials","shares":27,"position":8067.33},{"rank":71,"ticker":"CTVA","momentum":27.0154876676,"atr":1.24,"price":46.01,"sector":"Materials","shares":201,"position":9248.01},{"rank":72,"ticker":"COP","momentum":26.9532037801,"atr":2.763165,"price":87.06,"sector":"Energy","shares":90,"position":7835.4},{"rank":73,"ticker":"CMA","momentum":26.101137422,"atr":3.153375,"price":92.52,"sector":"Financials","shares":79,"position":7309.08},{"rank":74,"ticker":"EQR","momentum":25.9126862164,"atr":1.77167,"price":87.39,"sector":"Real Estate","shares":141,"position":12321.99},{"rank":75,"ticker":"WRB","momentum":25.2477401543,"atr":1.90798,"price":82.36,"sector":"Financials","shares":131,"position":10789.16},{"rank":76,"ticker":"CNP","momentum":24.3568362375,"atr":0.510995,"price":27.3,"sector":"Utilities","shares":489,"position":13349.7},{"rank":77,"ticker":"XEL","momentum":24.0386662428,"atr":1.36118,"price":67.62,"sector":"Utilities","shares":183,"position":12374.46},{"rank":78,"ticker":"SO","momentum":22.5639647317,"atr":1.15603,"price":67.02,"sector":"Utilities","shares":216,"position":14476.32},{"rank":79,"ticker":"XOM","momentum":22.2735253001,"atr":1.8735,"price":74.17,"sector":"Energy","shares":133,"position":9864.61},{"rank":80,"ticker":"CAT","momentum":22.2054785151,"atr":5.50876,"price":214.29,"sector":"Industrials","shares":45,"position":9643.05},{"rank":81,"ticker":"KEY","momentum":21.9337180042,"atr":0.7615,"price":25.24,"sector":"Financials","shares":328,"position":8278.72},{"rank":82,"ticker":"WEC","momentum":20.7676841978,"atr":1.850705,"price":94.11,"sector":"Utilities","shares":135,"position":12704.85},{"rank":83,"ticker":"GPC","momentum":20.3577493768,"atr":3.253915,"price":132.03,"sector":"Consumer Discretionary","shares":76,"position":10034.28},{"rank":84,"ticker":"PEG","momentum":20.0819497719,"atr":1.2392,"price":64.69,"sector":"Utilities","shares":201,"position":13002.69},{"rank":85,"ticker":"ABC","momentum":18.5061741375,"atr":2.912675,"price":130.55,"sector":"Health Care","shares":85,"position":11096.75},{"rank":86,"ticker":"AEP","momentum":18.4091629911,"atr":1.556335,"price":88.83,"sector":"Utilities","shares":160,"position":14212.8},{"rank":87,"ticker":"CB","momentum":18.3012935223,"atr":4.438395,"price":194.1,"sector":"Financials","shares":56,"position":10869.6},{"rank":88,"ticker":"ETR","momentum":18.0750728618,"atr":2.220035,"price":107.28,"sector":"Utilities","shares":112,"position":12015.36},{"rank":89,"ticker":"PH","momentum":17.6182284923,"atr":8.55455,"price":313.89,"sector":"Industrials","shares":29,"position":9102.81},{"rank":90,"ticker":"WFC","momentum":17.5371104836,"atr":1.611115,"price":54.14,"sector":"Financials","shares":155,"position":8391.7},{"rank":91,"ticker":"BK","momentum":17.4927636133,"atr":1.81049,"price":58.92,"sector":"Financials","shares":138,"position":8130.96},{"rank":92,"ticker":"AEE","momentum":17.4010745319,"atr":1.57595,"price":85.58,"sector":"Utilities","shares":158,"position":13521.64},{"rank":93,"ticker":"MTB","momentum":16.6534272123,"atr":5.82012,"price":167.76,"sector":"Financials","shares":42,"position":7045.92},{"rank":94,"ticker":"LNT","momentum":15.2999494573,"atr":1.173715,"price":58.1,"sector":"Utilities","shares":212,"position":12317.2},{"rank":95,"ticker":"WBA","momentum":15.187745987,"atr":1.37875,"price":49.76,"sector":"Consumer Staples","shares":181,"position":9006.56},{"rank":96,"ticker":"CMS","momentum":14.6192282747,"atr":1.18,"price":62.35,"sector":"Utilities","shares":211,"position":13155.85},{"rank":97,"ticker":"INCY","momentum":13.4022824712,"atr":2.006245,"price":73.52,"sector":"Health Care","shares":124,"position":9116.48},{"rank":98,"ticker":"AMGN","momentum":13.3135795286,"atr":4.52114,"price":222.54,"sector":"Health Care","shares":55,"position":12239.7},{"rank":99,"ticker":"DE","momentum":12.7996639943,"atr":11.05408,"price":372.24,"sector":"Industrials","shares":22,"position":8189.28},{"rank":100,"ticker":"D","momentum":12.7257358443,"atr":1.437875,"price":77.46,"sector":"Utilities","shares":173,"position":13400.58},{"rank":101,"ticker":"L","momentum":12.5534593645,"atr":1.208225,"price":58.65,"sector":"Financials","shares":206,"position":12081.9},{"rank":102,"ticker":"RJF","momentum":12.1123838665,"atr":3.09232,"price":98.46,"sector":"Financials","shares":80,"position":7876.8},{"rank":103,"ticker":"CPB","momentum":11.1418388749,"atr":0.94423,"price":43.53,"sector":"Consumer Staples","shares":264,"position":11491.92},{"rank":104,"ticker":"PBCT","momentum":11.0254592332,"atr":0.6785,"price":19.16,"sector":"Financials","shares":368,"position":7050.88},{"rank":105,"ticker":"HAL","momentum":10.8438586527,"atr":1.110535,"price":30.8,"sector":"Energy","shares":225,"position":6930.0},{"rank":106,"ticker":"GL","momentum":10.5623378219,"atr":2.494965,"price":102.66,"sector":"Financials","shares":100,"position":10266.0},{"rank":107,"ticker":"PPL","momentum":9.7508693324,"atr":0.43884,"price":29.29,"sector":"Utilities","shares":569,"position":16666.01},{"rank":108,"ticker":"BAX","momentum":9.6331054839,"atr":1.4565,"price":84.27,"sector":"Health Care","shares":171,"position":14410.17},{"rank":109,"ticker":"FITB","momentum":9.5161424491,"atr":1.41525,"price":44.8,"sector":"Financials","shares":176,"position":7884.8},{"rank":110,"ticker":"HLT","momentum":9.2791096739,"atr":4.431595,"price":144.82,"sector":"Consumer Discretionary","shares":56,"position":8109.92},{"rank":111,"ticker":"CFG","momentum":9.2174706608,"atr":1.704295,"price":52.13,"sector":"Financials","shares":146,"position":7610.98},{"rank":112,"ticker":"MPC","momentum":8.766917149,"atr":2.015505,"price":70.98,"sector":"Energy","shares":124,"position":8801.52},{"rank":113,"ticker":"RE","momentum":8.3934218595,"atr":6.743355,"price":281.76,"sector":"Financials","shares":37,"position":10425.12},{"rank":114,"ticker":"BMY","momentum":8.1794076593,"atr":1.2881,"price":62.24,"sector":"Health Care","shares":194,"position":12074.56},{"rank":115,"ticker":"STT","momentum":6.7417812243,"atr":3.376175,"price":94.32,"sector":"Financials","shares":74,"position":6979.68},{"rank":116,"ticker":"JNJ","momentum":6.3202650076,"atr":2.7588,"price":168.38,"sector":"Health Care","shares":90,"position":15154.2},{"rank":117,"ticker":"ZION","momentum":5.4916617109,"atr":2.22682,"price":67.2,"sector":"Financials","shares":112,"position":7526.4},{"rank":118,"ticker":"K","momentum":5.1702513615,"atr":1.134195,"price":64.8,"sector":"Consumer Staples","shares":220,"position":14256.0},{"rank":119,"ticker":"SLB","momentum":5.0700046653,"atr":1.41054,"price":39.8,"sector":"Energy","shares":177,"position":7044.6},{"rank":120,"ticker":"BDX","momentum":4.9592478601,"atr":5.060995,"price":253.89,"sector":"Health Care","shares":49,"position":12440.61},{"rank":121,"ticker":"NOC","momentum":4.8880448231,"atr":7.484725,"price":403.23,"sector":"Industrials","shares":33,"position":13306.59},{"rank":122,"ticker":"DUK","momentum":4.5340075326,"atr":1.729865,"price":101.95,"sector":"Utilities","shares":144,"position":14680.8},{"rank":123,"ticker":"GD","momentum":4.5006446003,"atr":4.088375,"price":204.92,"sector":"Industrials","shares":61,"position":12500.12},{"rank":124,"ticker":"SRE","momentum":3.7420666014,"atr":2.59788,"price":134.64,"sector":"Utilities","shares":96,"position":12925.44},{"rank":125,"ticker":"TAP","momentum":3.3782879747,"atr":1.4224,"price":48.38,"sector":"Consumer Staples","shares":175,"position":8466.5},{"rank":126,"ticker":"RF","momentum":3.0733221739,"atr":0.89945,"price":23.43,"sector":"Financials","shares":277,"position":6490.11},{"rank":127,"ticker":"MAR","momentum":3.0567509722,"atr":5.090095,"price":158.73,"sector":"Consumer Discretionary","shares":49,"position":7777.77},{"rank":128,"ticker":"BAC","momentum":3.0190334908,"atr":1.347635,"price":45.9,"sector":"Financials","shares":185,"position":8491.5},{"rank":129,"ticker":"PNC","momentum":2.5596622869,"atr":6.127675,"price":206.01,"sector":"Financials","shares":40,"position":8240.4},{"rank":130,"ticker":"TRV","momentum":2.2578424733,"atr":3.86781,"price":167.86,"sector":"Financials","shares":64,"position":10743.04},{"rank":131,"ticker":"RHI","momentum":2.0101817799,"atr":2.835175,"price":111.12,"sector":"Industrials","shares":88,"position":9778.56},{"rank":132,"ticker":"PSX","momentum":1.8703741514,"atr":2.62345,"price":85.05,"sector":"Energy","shares":95,"position":8079.75},{"rank":133,"ticker":"VLO","momentum":1.687643449,"atr":2.49221,"price":81.3,"sector":"Energy","shares":100,"position":8130.0},{"rank":134,"ticker":"PRU","momentum":1.5527832576,"atr":2.822495,"price":111.78,"sector":"Financials","shares":88,"position":9836.64},{"rank":135,"ticker":"LMT","momentum":1.5162240843,"atr":7.14607,"price":391.24,"sector":"Industrials","shares":34,"position":13302.16},{"rank":136,"ticker":"VTRS","momentum":1.2048685121,"atr":0.3525,"price":14.62,"sector":"Health Care","shares":709,"position":10365.58},{"rank":137,"ticker":"HST","momentum":0.8663419459,"atr":0.5885,"price":17.05,"sector":"Real Estate","shares":424,"position":7229.2},{"rank":138,"ticker":"HWM","momentum":0.7991633881,"atr":1.04952,"price":31.62,"sector":"Industrials","shares":238,"position":7525.56},{"rank":139,"ticker":"TFC","momentum":0.7984181419,"atr":1.84425,"price":62.87,"sector":"Financials","shares":135,"position":8487.45},{"rank":140,"ticker":"BKR","momentum":0.7531284408,"atr":1.021995,"price":27.52,"sector":"Energy","shares":244,"position":6714.88},{"rank":141,"ticker":"MO","momentum":0.6593612911,"atr":0.97115,"price":49.47,"sector":"Consumer Staples","shares":257,"position":12713.79},{"rank":142,"ticker":"MOS","momentum":0.5550492635,"atr":1.62758,"price":39.87,"sector":"Materials","shares":153,"position":6100.11},{"rank":143,"ticker":"OMC","momentum":0.5157185822,"atr":1.74019,"price":75.61,"sector":"Communication Services","shares":143,"position":10812.23},{"rank":144,"ticker":"CAG","momentum":0.4923252877,"atr":0.824245,"price":34.84,"sector":"Consumer Staples","shares":303,"position":10556.52},{"rank":145,"ticker":"MET","momentum":0.2380571563,"atr":1.657465,"price":66.06,"sector":"Financials","shares":150,"position":9909.0},{"rank":146,"ticker":"AIG","momentum":0.2304462048,"atr":1.722995,"price":57.63,"sector":"Financials","shares":145,"position":8356.35},{"rank":147,"ticker":"WMB","momentum":0.0553101263,"atr":0.70947,"price":29.21,"sector":"Energy","shares":352,"position":10281.92},{"rank":148,"ticker":"HES","momentum":0.0419660013,"atr":3.80652,"price":87.74,"sector":"Energy","shares":65,"position":5703.1},{"rank":149,"ticker":"IBM","momentum":0.0050319943,"atr":3.42991,"price":134.26,"sector":"Information Technology","shares":72,"position":9666.72},{"rank":150,"ticker":"PNW","momentum":-0.0000012798,"atr":1.482665,"price":69.79,"sector":"Utilities","shares":168,"position":11724.72},{"rank":151,"ticker":"PM","momentum":-0.0001045837,"atr":1.888235,"price":101.38,"sector":"Consumer Staples","shares":132,"position":13382.16},{"rank":152,"ticker":"MRK","momentum":-0.0010844618,"atr":1.67388,"price":79.14,"sector":"Health Care","shares":149,"position":11791.86},{"rank":153,"ticker":"RTX","momentum":-0.028249712,"atr":2.044595,"price":88.98,"sector":"Industrials","shares":122,"position":10855.56},{"rank":154,"ticker":"GLW","momentum":-0.0483472903,"atr":1.1754,"price":39.24,"sector":"Information Technology","shares":212,"position":8318.88},{"rank":155,"ticker":"NWL","momentum":-0.1894404738,"atr":0.531925,"price":23.31,"sector":"Consumer Discretionary","shares":469,"position":10932.39},{"rank":156,"ticker":"KMI","momentum":-0.2709785049,"atr":0.428355,"price":17.52,"sector":"Energy","shares":583,"position":10214.16},{"rank":157,"ticker":"BSX","momentum":-0.4038264128,"atr":1.0615,"price":43.04,"sector":"Health Care","shares":235,"position":10114.4},{"rank":158,"ticker":"AXP","momentum":-2.4352186347,"atr":4.972355,"price":175.32,"sector":"Financials","shares":50,"position":8766.0},{"rank":159,"ticker":"LHX","momentum":-3.6201962115,"atr":5.02115,"price":222.63,"sector":"Industrials","shares":49,"position":10908.87},{"rank":160,"ticker":"LDOS","momentum":-9.8054331767,"atr":2.118235,"price":93.79,"sector":"Industrials","shares":118,"position":11067.22},{"rank":161,"ticker":"WTW","momentum":-33.0447574342,"atr":0.1,"price":225.55,"sector":"Financials","shares":2500,"position":563875.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

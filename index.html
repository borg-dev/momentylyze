<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"CAH","momentum":145.8445565824,"atr":1.6338,"price":69.44,"sector":"Health Care","shares":153,"position":10624.32},{"rank":2,"ticker":"MOH","momentum":100.1796635807,"atr":8.074125,"price":354.07,"sector":"Health Care","shares":30,"position":10622.1},{"rank":3,"ticker":"AES","momentum":63.2209455094,"atr":0.88213,"price":25.4,"sector":"Utilities","shares":283,"position":7188.2},{"rank":4,"ticker":"PCG","momentum":59.2410282292,"atr":0.544705,"price":14.63,"sector":"Utilities","shares":458,"position":6700.54},{"rank":5,"ticker":"KEYS","momentum":55.2910075817,"atr":3.8988,"price":168.51,"sector":"Information Technology","shares":64,"position":10784.64},{"rank":6,"ticker":"IT","momentum":54.4380603613,"atr":8.80559,"price":300.76,"sector":"Information Technology","shares":28,"position":8421.28},{"rank":7,"ticker":"GPC","momentum":54.2370340226,"atr":3.58546,"price":156.83,"sector":"Consumer Discretionary","shares":69,"position":10821.27},{"rank":8,"ticker":"TT","momentum":53.1977416164,"atr":4.27475,"price":151.57,"sector":"Industrials","shares":58,"position":8791.06},{"rank":9,"ticker":"NDAQ","momentum":52.6870808627,"atr":1.369745,"price":59.51,"sector":"Financials","shares":182,"position":10830.82},{"rank":10,"ticker":"SBUX","momentum":47.1669465722,"atr":2.52975,"price":89.35,"sector":"Consumer Discretionary","shares":98,"position":8756.3},{"rank":11,"ticker":"ON","momentum":47.0114672752,"atr":3.07876,"price":70.25,"sector":"Information Technology","shares":81,"position":5690.25},{"rank":12,"ticker":"LW","momentum":43.9092229429,"atr":2.19275,"price":82.73,"sector":"Consumer Staples","shares":114,"position":9431.22},{"rank":13,"ticker":"RJF","momentum":42.9431614382,"atr":3.016615,"price":108.22,"sector":"Financials","shares":82,"position":8874.04},{"rank":14,"ticker":"ORLY","momentum":41.2978248054,"atr":15.814635,"price":732.41,"sector":"Consumer Discretionary","shares":15,"position":10986.15},{"rank":15,"ticker":"XYL","momentum":39.2889658075,"atr":2.645365,"price":91.66,"sector":"Industrials","shares":94,"position":8616.04},{"rank":16,"ticker":"SCHW","momentum":38.6355741659,"atr":2.00168,"price":75.99,"sector":"Financials","shares":124,"position":9422.76},{"rank":17,"ticker":"SJM","momentum":38.3453912744,"atr":2.80857,"price":138.08,"sector":"Consumer Staples","shares":89,"position":12289.12},{"rank":18,"ticker":"CDAY","momentum":33.1104450672,"atr":2.165875,"price":62.29,"sector":"Information Technology","shares":115,"position":7163.35},{"rank":19,"ticker":"AJG","momentum":32.7238578093,"atr":3.83216,"price":179.1,"sector":"Financials","shares":65,"position":11641.5},{"rank":20,"ticker":"CI","momentum":32.1868528756,"atr":6.1032,"price":293.08,"sector":"Health Care","shares":40,"position":11723.2},{"rank":21,"ticker":"MCK","momentum":31.5044615091,"atr":8.26125,"price":350.89,"sector":"Health Care","shares":30,"position":10526.7},{"rank":22,"ticker":"CF","momentum":31.0276802387,"atr":5.13388,"price":105.73,"sector":"Materials","shares":48,"position":5075.04},{"rank":23,"ticker":"FDS","momentum":30.9379088473,"atr":11.57625,"price":419.25,"sector":"Financials","shares":21,"position":8804.25},{"rank":24,"ticker":"GIS","momentum":29.5285130636,"atr":1.82276,"price":74.97,"sector":"Consumer Staples","shares":137,"position":10270.89},{"rank":25,"ticker":"HII","momentum":27.8491813337,"atr":5.646625,"price":231.82,"sector":"Industrials","shares":44,"position":10200.08},{"rank":26,"ticker":"PFG","momentum":27.7419614778,"atr":2.09994,"price":78.32,"sector":"Financials","shares":119,"position":9320.08},{"rank":27,"ticker":"MSI","momentum":26.8753952741,"atr":5.34,"price":234.2,"sector":"Information Technology","shares":46,"position":10773.2},{"rank":28,"ticker":"IEX","momentum":25.3337025767,"atr":4.35254,"price":207.39,"sector":"Industrials","shares":57,"position":11821.23},{"rank":29,"ticker":"WMT","momentum":22.5289214087,"atr":2.765025,"price":131.68,"sector":"Consumer Staples","shares":90,"position":11851.2},{"rank":30,"ticker":"ADP","momentum":21.433714751,"atr":5.40605,"price":234.89,"sector":"Information Technology","shares":46,"position":10804.94},{"rank":31,"ticker":"GWW","momentum":19.4622053352,"atr":13.57144,"price":509.59,"sector":"Industrials","shares":18,"position":9172.62},{"rank":32,"ticker":"MTB","momentum":18.7881869135,"atr":5.23459,"price":184.11,"sector":"Financials","shares":47,"position":8653.17},{"rank":33,"ticker":"PWR","momentum":15.3304138018,"atr":4.660765,"price":132.22,"sector":"Industrials","shares":53,"position":7007.66},{"rank":34,"ticker":"DRI","momentum":15.3100075132,"atr":4.090895,"price":129.51,"sector":"Consumer Discretionary","shares":61,"position":7900.11},{"rank":35,"ticker":"CDNS","momentum":14.6852260637,"atr":4.4935,"price":168.41,"sector":"Information Technology","shares":55,"position":9262.55},{"rank":36,"ticker":"CVS","momentum":14.034263559,"atr":2.12733,"price":98.58,"sector":"Health Care","shares":117,"position":11533.86},{"rank":37,"ticker":"BRO","momentum":12.6700097179,"atr":1.442725,"price":62.65,"sector":"Financials","shares":173,"position":10838.45},{"rank":38,"ticker":"TJX","momentum":12.6011394649,"atr":1.818775,"price":65.09,"sector":"Consumer Discretionary","shares":137,"position":8917.33},{"rank":39,"ticker":"HSY","momentum":11.5463062515,"atr":4.3001,"price":220.65,"sector":"Consumer Staples","shares":58,"position":12797.7},{"rank":40,"ticker":"PGR","momentum":11.0929848735,"atr":2.67925,"price":121.92,"sector":"Financials","shares":93,"position":11338.56},{"rank":41,"ticker":"BSX","momentum":10.8711248704,"atr":0.9825,"price":40.65,"sector":"Health Care","shares":254,"position":10325.1},{"rank":42,"ticker":"GL","momentum":10.5947762995,"atr":2.249985,"price":106.66,"sector":"Financials","shares":111,"position":11839.26},{"rank":43,"ticker":"HBAN","momentum":10.0900529662,"atr":0.43286,"price":13.6,"sector":"Financials","shares":577,"position":7847.2},{"rank":44,"ticker":"CTAS","momentum":9.5498641516,"atr":10.191985,"price":410.61,"sector":"Industrials","shares":24,"position":9854.64},{"rank":45,"ticker":"FTV","momentum":9.5278560334,"atr":1.706075,"price":61.44,"sector":"Industrials","shares":146,"position":8970.24},{"rank":46,"ticker":"DHR","momentum":9.4780640389,"atr":7.60265,"price":278.05,"sector":"Health Care","shares":32,"position":8897.6},{"rank":47,"ticker":"KDP","momentum":9.1974097501,"atr":0.772615,"price":37.14,"sector":"Consumer Staples","shares":323,"position":11996.22},{"rank":48,"ticker":"VRTX","momentum":9.0782069672,"atr":8.03421,"price":298.63,"sector":"Health Care","shares":31,"position":9257.53},{"rank":49,"ticker":"AMP","momentum":8.8032200768,"atr":8.21475,"price":275.03,"sector":"Financials","shares":30,"position":8250.9},{"rank":50,"ticker":"APH","momentum":8.6226465803,"atr":1.7415,"price":72.4,"sector":"Information Technology","shares":143,"position":10353.2},{"rank":51,"ticker":"NDSN","momentum":8.4004592615,"atr":5.1949,"price":221.31,"sector":"Industrials","shares":48,"position":10622.88},{"rank":52,"ticker":"A","momentum":8.2664041631,"atr":3.55136,"price":132.18,"sector":"Health Care","shares":70,"position":9252.6},{"rank":53,"ticker":"CBOE","momentum":7.9461942236,"atr":2.597965,"price":121.68,"sector":"Financials","shares":96,"position":11681.28},{"rank":54,"ticker":"RMD","momentum":7.4354950796,"atr":5.46779,"price":229.85,"sector":"Health Care","shares":45,"position":10343.25},{"rank":55,"ticker":"CMI","momentum":7.1948530357,"atr":5.874635,"price":220.78,"sector":"Industrials","shares":42,"position":9272.76},{"rank":56,"ticker":"UNH","momentum":6.925422432,"atr":12.169995,"price":519.13,"sector":"Health Care","shares":20,"position":10382.6},{"rank":57,"ticker":"CTVA","momentum":6.6486559104,"atr":1.78608,"price":60.89,"sector":"Materials","shares":139,"position":8463.71},{"rank":58,"ticker":"AFL","momentum":6.5790135103,"atr":1.32314,"price":59.14,"sector":"Financials","shares":188,"position":11118.32},{"rank":59,"ticker":"LOW","momentum":6.5470282342,"atr":5.55971,"price":199.98,"sector":"Consumer Discretionary","shares":44,"position":8799.12},{"rank":60,"ticker":"AON","momentum":6.0804193698,"atr":5.807745,"price":280.72,"sector":"Financials","shares":43,"position":12070.96},{"rank":61,"ticker":"NOC","momentum":5.6037153715,"atr":13.811945,"price":485.23,"sector":"Industrials","shares":18,"position":8734.14},{"rank":62,"ticker":"TMUS","momentum":5.540185928,"atr":3.59275,"price":139.42,"sector":"Communication Services","shares":69,"position":9619.98},{"rank":63,"ticker":"VMC","momentum":5.4936449942,"atr":4.776085,"price":162.2,"sector":"Materials","shares":52,"position":8434.4},{"rank":64,"ticker":"EQT","momentum":5.2361567193,"atr":2.6038,"price":43.94,"sector":"Energy","shares":96,"position":4218.24},{"rank":65,"ticker":"TYL","momentum":5.1055349728,"atr":9.107555,"price":366.0,"sector":"Information Technology","shares":27,"position":9882.0},{"rank":66,"ticker":"GILD","momentum":4.7021927129,"atr":1.64321,"price":64.95,"sector":"Health Care","shares":152,"position":9872.4},{"rank":67,"ticker":"URI","momentum":4.4159951313,"atr":11.79933,"price":293.58,"sector":"Industrials","shares":21,"position":6165.18},{"rank":68,"ticker":"JCI","momentum":4.3535153817,"atr":1.6965,"price":52.45,"sector":"Industrials","shares":147,"position":7710.15},{"rank":69,"ticker":"ADM","momentum":4.220082115,"atr":2.58425,"price":85.75,"sector":"Consumer Staples","shares":96,"position":8232.0},{"rank":70,"ticker":"ADSK","momentum":3.9757877441,"atr":6.53997,"price":205.87,"sector":"Information Technology","shares":38,"position":7823.06},{"rank":71,"ticker":"COP","momentum":3.8823740417,"atr":4.53443,"price":117.65,"sector":"Energy","shares":55,"position":6470.75},{"rank":72,"ticker":"ETN","momentum":3.1364109899,"atr":3.8185,"price":142.45,"sector":"Industrials","shares":65,"position":9259.25},{"rank":73,"ticker":"AZO","momentum":2.8131471784,"atr":58.131105,"price":2215.88,"sector":"Consumer Discretionary","shares":4,"position":8863.52},{"rank":74,"ticker":"WTW","momentum":2.5988123873,"atr":5.2814,"price":210.62,"sector":"Financials","shares":47,"position":9899.14},{"rank":75,"ticker":"AME","momentum":2.5615934072,"atr":2.874425,"price":119.71,"sector":"Industrials","shares":86,"position":10295.06},{"rank":76,"ticker":"IR","momentum":2.4453126916,"atr":1.66615,"price":47.01,"sector":"Industrials","shares":150,"position":7051.5},{"rank":77,"ticker":"MGM","momentum":2.2061113779,"atr":1.51075,"price":33.32,"sector":"Consumer Discretionary","shares":165,"position":5497.8},{"rank":78,"ticker":"LEN","momentum":1.1909879138,"atr":2.931,"price":80.16,"sector":"Consumer Discretionary","shares":85,"position":6813.6},{"rank":79,"ticker":"MPC","momentum":1.0942777794,"atr":3.63896,"price":107.86,"sector":"Energy","shares":68,"position":7334.48},{"rank":80,"ticker":"PCAR","momentum":1.0833931281,"atr":2.313,"price":89.7,"sector":"Industrials","shares":108,"position":9687.6},{"rank":81,"ticker":"ROL","momentum":1.0194522051,"atr":0.7907,"price":37.13,"sector":"Industrials","shares":316,"position":11733.08},{"rank":82,"ticker":"DG","momentum":0.9982469592,"atr":4.859245,"price":241.67,"sector":"Consumer Discretionary","shares":51,"position":12325.17},{"rank":83,"ticker":"TXN","momentum":0.9457570147,"atr":4.47435,"price":166.54,"sector":"Information Technology","shares":55,"position":9159.7},{"rank":84,"ticker":"MCHP","momentum":0.5295732999,"atr":2.4365,"price":67.12,"sector":"Information Technology","shares":102,"position":6846.24},{"rank":85,"ticker":"NRG","momentum":0.3515460444,"atr":1.22864,"price":41.1,"sector":"Utilities","shares":203,"position":8343.3},{"rank":86,"ticker":"ABMD","momentum":0.2933543967,"atr":8.596865,"price":267.21,"sector":"Health Care","shares":29,"position":7749.09},{"rank":87,"ticker":"MET","momentum":0.2109549219,"atr":1.721,"price":64.55,"sector":"Financials","shares":145,"position":9359.75},{"rank":88,"ticker":"DVN","momentum":0.1616564781,"atr":3.25865,"price":72.24,"sector":"Energy","shares":76,"position":5490.24},{"rank":89,"ticker":"LLY","momentum":0.1239349766,"atr":9.43352,"price":332.95,"sector":"Health Care","shares":26,"position":8656.7},{"rank":90,"ticker":"DHI","momentum":0.1003615233,"atr":2.49775,"price":73.8,"sector":"Consumer Discretionary","shares":100,"position":7380.0},{"rank":91,"ticker":"XOM","momentum":0.0107572363,"atr":3.132155,"price":102.06,"sector":"Energy","shares":79,"position":8062.74},{"rank":92,"ticker":"ALL","momentum":0.0000902153,"atr":3.42325,"price":130.54,"sector":"Financials","shares":73,"position":9529.42},{"rank":93,"ticker":"NVR","momentum":-0.0528133395,"atr":126.50605,"price":4311.13,"sector":"Consumer Discretionary","shares":1,"position":4311.13},{"rank":94,"ticker":"FMC","momentum":-0.2021859772,"atr":3.11275,"price":111.97,"sector":"Materials","shares":80,"position":8957.6},{"rank":95,"ticker":"CVX","momentum":-0.2183897742,"atr":4.769805,"price":161.42,"sector":"Energy","shares":52,"position":8393.84},{"rank":96,"ticker":"TSCO","momentum":-0.4199470678,"atr":5.60574,"price":200.08,"sector":"Consumer Discretionary","shares":44,"position":8803.52},{"rank":97,"ticker":"MNST","momentum":-0.7756097961,"atr":2.088995,"price":91.74,"sector":"Consumer Staples","shares":119,"position":10917.06},{"rank":98,"ticker":"SLB","momentum":-1.0905554471,"atr":1.780965,"price":42.49,"sector":"Energy","shares":140,"position":5948.6},{"rank":99,"ticker":"WRB","momentum":-1.4602032875,"atr":1.482265,"price":67.79,"sector":"Financials","shares":168,"position":11388.72},{"rank":100,"ticker":"VLO","momentum":-4.8970497894,"atr":4.741955,"price":119.22,"sector":"Energy","shares":52,"position":6199.44},{"rank":101,"ticker":"PSX","momentum":-9.0185754803,"atr":3.623215,"price":93.36,"sector":"Energy","shares":68,"position":6348.48}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":294.5869020543,"atr":11.023615,"price":495.0,"sector":"Information Technology","shares":22,"position":10890.0},{"rank":2,"ticker":"DXCM","momentum":248.3865778808,"atr":16.237245,"price":545.58,"sector":"Health Care","shares":15,"position":8183.7},{"rank":3,"ticker":"CMG","momentum":209.3255699775,"atr":35.584215,"price":1846.54,"sector":"Consumer Discretionary","shares":7,"position":12925.78},{"rank":4,"ticker":"FTNT","momentum":195.571603334,"atr":8.973915,"price":288.83,"sector":"Information Technology","shares":27,"position":7798.41},{"rank":5,"ticker":"IT","momentum":193.3142671448,"atr":7.455075,"price":307.85,"sector":"Information Technology","shares":33,"position":10159.05},{"rank":6,"ticker":"BIO","momentum":171.8186968529,"atr":19.984595,"price":749.27,"sector":"Health Care","shares":12,"position":8991.24},{"rank":7,"ticker":"MSCI","momentum":170.9993188087,"atr":15.529135,"price":610.7,"sector":"Financials","shares":16,"position":9771.2},{"rank":8,"ticker":"WST","momentum":167.9098731572,"atr":11.158395,"price":432.41,"sector":"Health Care","shares":22,"position":9513.02},{"rank":9,"ticker":"NOW","momentum":147.4000045053,"atr":14.403995,"price":618.02,"sector":"Information Technology","shares":17,"position":10506.34},{"rank":10,"ticker":"DHR","momentum":144.1594745814,"atr":6.616525,"price":306.61,"sector":"Health Care","shares":37,"position":11344.57},{"rank":11,"ticker":"CTLT","momentum":143.9349106868,"atr":3.238285,"price":134.24,"sector":"Health Care","shares":77,"position":10336.48},{"rank":12,"ticker":"RMD","momentum":143.6817096298,"atr":6.194645,"price":265.36,"sector":"Health Care","shares":40,"position":10614.4},{"rank":13,"ticker":"AMD","momentum":140.3449441385,"atr":2.839325,"price":100.35,"sector":"Information Technology","shares":88,"position":8830.8},{"rank":14,"ticker":"CRL","momentum":138.2382117367,"atr":10.45024,"price":423.09,"sector":"Health Care","shares":23,"position":9731.07},{"rank":15,"ticker":"CDNS","momentum":130.7751877596,"atr":3.2609,"price":152.25,"sector":"Information Technology","shares":76,"position":11571.0},{"rank":16,"ticker":"PKI","momentum":130.4417256016,"atr":4.54305,"price":175.05,"sector":"Health Care","shares":55,"position":9627.75},{"rank":17,"ticker":"SNPS","momentum":115.5534075773,"atr":6.40833,"price":302.62,"sector":"Information Technology","shares":39,"position":11802.18},{"rank":18,"ticker":"REGN","momentum":114.1443585246,"atr":14.895145,"price":606.7,"sector":"Health Care","shares":16,"position":9707.2},{"rank":19,"ticker":"TMO","momentum":108.5691695334,"atr":14.57155,"price":579.6,"sector":"Health Care","shares":17,"position":9853.2},{"rank":20,"ticker":"HOLX","momentum":106.7162743264,"atr":1.566335,"price":73.99,"sector":"Health Care","shares":159,"position":11764.41},{"rank":21,"ticker":"INTU","momentum":104.3299123232,"atr":10.93466,"price":546.93,"sector":"Information Technology","shares":22,"position":12032.46},{"rank":22,"ticker":"A","momentum":101.7528448243,"atr":3.4369,"price":160.0,"sector":"Health Care","shares":72,"position":11520.0},{"rank":23,"ticker":"NVDA","momentum":98.6167911648,"atr":6.06804,"price":205.17,"sector":"Information Technology","shares":41,"position":8411.97},{"rank":24,"ticker":"EW","momentum":96.2208182057,"atr":2.50091,"price":113.52,"sector":"Health Care","shares":99,"position":11238.48},{"rank":25,"ticker":"KEYS","momentum":94.9658107595,"atr":3.008995,"price":166.89,"sector":"Information Technology","shares":83,"position":13851.87},{"rank":26,"ticker":"ISRG","momentum":90.628468101,"atr":22.95299,"price":992.35,"sector":"Health Care","shares":10,"position":9923.5},{"rank":27,"ticker":"COST","momentum":89.6056642172,"atr":7.775995,"price":451.79,"sector":"Consumer Staples","shares":32,"position":14457.28},{"rank":28,"ticker":"TECH","momentum":85.6926876012,"atr":14.046995,"price":490.53,"sector":"Health Care","shares":17,"position":8339.01},{"rank":29,"ticker":"GRMN","momentum":84.2131154634,"atr":3.27501,"price":158.01,"sector":"Consumer Discretionary","shares":76,"position":12008.76},{"rank":30,"ticker":"DGX","momentum":83.3643496551,"atr":2.760315,"price":147.68,"sector":"Health Care","shares":90,"position":13291.2},{"rank":31,"ticker":"VRSK","momentum":81.5220800366,"atr":3.215705,"price":202.37,"sector":"Industrials","shares":77,"position":15582.49},{"rank":32,"ticker":"GOOGL","momentum":78.8879896925,"atr":48.25825,"price":2687.07,"sector":"Communication Services","shares":5,"position":13435.35},{"rank":33,"ticker":"ACN","momentum":78.4755672419,"atr":5.444495,"price":323.53,"sector":"Information Technology","shares":45,"position":14558.85},{"rank":34,"ticker":"CARR","momentum":78.1505407037,"atr":1.213435,"price":52.85,"sector":"Industrials","shares":206,"position":10887.1},{"rank":35,"ticker":"ABMD","momentum":71.5353435644,"atr":9.21814,"price":329.51,"sector":"Health Care","shares":27,"position":8896.77},{"rank":36,"ticker":"PWR","momentum":68.2081214029,"atr":3.33872,"price":115.85,"sector":"Industrials","shares":74,"position":8572.9},{"rank":37,"ticker":"MSFT","momentum":65.9478074175,"atr":4.848315,"price":284.0,"sector":"Information Technology","shares":51,"position":14484.0},{"rank":38,"ticker":"AON","momentum":64.4112561828,"atr":4.775495,"price":291.25,"sector":"Financials","shares":52,"position":15145.0},{"rank":39,"ticker":"CDW","momentum":64.2117701127,"atr":3.72293,"price":185.39,"sector":"Information Technology","shares":67,"position":12421.13},{"rank":40,"ticker":"GNRC","momentum":63.3374706762,"atr":15.73927,"price":406.53,"sector":"Industrials","shares":15,"position":6097.95},{"rank":41,"ticker":"MSI","momentum":62.3860829035,"atr":3.627495,"price":235.66,"sector":"Information Technology","shares":68,"position":16024.88},{"rank":42,"ticker":"GOOG","momentum":61.3521206682,"atr":48.992965,"price":2690.42,"sector":"Communication Services","shares":5,"position":13452.1},{"rank":43,"ticker":"SPGI","momentum":59.2283255985,"atr":8.1795,"price":426.62,"sector":"Financials","shares":30,"position":12798.6},{"rank":44,"ticker":"RSG","momentum":59.2112150918,"atr":1.66092,"price":122.49,"sector":"Industrials","shares":150,"position":18373.5},{"rank":45,"ticker":"MMC","momentum":59.1451177908,"atr":2.42048,"price":154.48,"sector":"Financials","shares":103,"position":15911.44},{"rank":46,"ticker":"NDAQ","momentum":58.5056795317,"atr":3.149585,"price":193.99,"sector":"Financials","shares":79,"position":15325.21},{"rank":47,"ticker":"AWK","momentum":58.4199813648,"atr":3.4954,"price":170.3,"sector":"Utilities","shares":71,"position":12091.3},{"rank":48,"ticker":"TRMB","momentum":57.9742864993,"atr":1.85835,"price":84.31,"sector":"Information Technology","shares":134,"position":11297.54},{"rank":49,"ticker":"EFX","momentum":56.2409672102,"atr":5.211135,"price":256.55,"sector":"Industrials","shares":47,"position":12057.85},{"rank":50,"ticker":"EXR","momentum":55.7104215132,"atr":3.787165,"price":172.01,"sector":"Real Estate","shares":66,"position":11352.66},{"rank":51,"ticker":"XYL","momentum":54.4772812501,"atr":2.457415,"price":127.78,"sector":"Industrials","shares":101,"position":12905.78},{"rank":52,"ticker":"PFE","momentum":53.3973365028,"atr":0.87018,"price":43.53,"sector":"Health Care","shares":287,"position":12493.11},{"rank":53,"ticker":"MAA","momentum":53.3461812056,"atr":3.4915,"price":189.95,"sector":"Real Estate","shares":71,"position":13486.45},{"rank":54,"ticker":"ODFL","momentum":52.7627502521,"atr":6.380225,"price":293.17,"sector":"Industrials","shares":39,"position":11433.63},{"rank":55,"ticker":"COO","momentum":51.6354658914,"atr":9.12225,"price":422.3,"sector":"Health Care","shares":27,"position":11402.1},{"rank":56,"ticker":"MS","momentum":50.2443044773,"atr":2.33767,"price":99.55,"sector":"Financials","shares":106,"position":10552.3},{"rank":57,"ticker":"INFO","momentum":50.01292195,"atr":2.45702,"price":117.03,"sector":"Industrials","shares":101,"position":11820.03},{"rank":58,"ticker":"SBAC","momentum":49.8202247887,"atr":7.11625,"price":332.78,"sector":"Real Estate","shares":35,"position":11647.3},{"rank":59,"ticker":"NEE","momentum":49.7139722292,"atr":1.474215,"price":78.35,"sector":"Utilities","shares":169,"position":13241.15},{"rank":60,"ticker":"APH","momentum":49.307150658,"atr":1.187,"price":74.54,"sector":"Information Technology","shares":210,"position":15653.4},{"rank":61,"ticker":"AAPL","momentum":48.5117784703,"atr":2.951205,"price":142.83,"sector":"Information Technology","shares":84,"position":11997.72},{"rank":62,"ticker":"ROK","momentum":48.2560698084,"atr":5.090515,"price":297.86,"sector":"Industrials","shares":49,"position":14595.14},{"rank":63,"ticker":"ULTA","momentum":47.0503605398,"atr":8.42655,"price":378.35,"sector":"Consumer Discretionary","shares":29,"position":10972.15},{"rank":64,"ticker":"PNR","momentum":43.926568267,"atr":1.5613,"price":74.84,"sector":"Industrials","shares":160,"position":11974.4},{"rank":65,"ticker":"TSCO","momentum":42.9020036452,"atr":4.00665,"price":208.14,"sector":"Consumer Discretionary","shares":62,"position":12904.68},{"rank":66,"ticker":"EBAY","momentum":42.7081673576,"atr":1.738235,"price":69.97,"sector":"Consumer Discretionary","shares":143,"position":10005.71},{"rank":67,"ticker":"BLL","momentum":42.1309198333,"atr":1.30977,"price":89.74,"sector":"Materials","shares":190,"position":17050.6},{"rank":68,"ticker":"IPG","momentum":41.6872541928,"atr":0.86025,"price":37.49,"sector":"Communication Services","shares":290,"position":10872.1},{"rank":69,"ticker":"JCI","momentum":40.687851419,"atr":1.57,"price":70.49,"sector":"Industrials","shares":159,"position":11207.91},{"rank":70,"ticker":"ZTS","momentum":40.0359039452,"atr":3.906965,"price":194.99,"sector":"Health Care","shares":63,"position":12284.37},{"rank":71,"ticker":"LH","momentum":39.9963958481,"atr":5.73608,"price":286.91,"sector":"Health Care","shares":43,"position":12337.13},{"rank":72,"ticker":"AZO","momentum":39.9262615012,"atr":33.491015,"price":1737.0,"sector":"Consumer Discretionary","shares":7,"position":12159.0},{"rank":73,"ticker":"ABT","momentum":39.7377303797,"atr":1.96895,"price":119.46,"sector":"Health Care","shares":126,"position":15051.96},{"rank":74,"ticker":"CPRT","momentum":39.4854444808,"atr":3.63225,"price":141.42,"sector":"Industrials","shares":68,"position":9616.56},{"rank":75,"ticker":"WM","momentum":38.1167825772,"atr":1.878025,"price":151.6,"sector":"Industrials","shares":133,"position":20162.8},{"rank":76,"ticker":"CRM","momentum":36.9952696669,"atr":6.015205,"price":270.5,"sector":"Information Technology","shares":41,"position":11090.5},{"rank":77,"ticker":"BRO","momentum":36.2857558232,"atr":1.104345,"price":56.23,"sector":"Financials","shares":226,"position":12707.98},{"rank":78,"ticker":"KMX","momentum":35.9966722244,"atr":3.40921,"price":146.45,"sector":"Consumer Discretionary","shares":73,"position":10690.85},{"rank":79,"ticker":"ORLY","momentum":35.829151333,"atr":10.85618,"price":626.0,"sector":"Consumer Discretionary","shares":23,"position":14398.0},{"rank":80,"ticker":"KR","momentum":33.295875186,"atr":1.184815,"price":41.34,"sector":"Consumer Staples","shares":211,"position":8722.74},{"rank":81,"ticker":"CTAS","momentum":32.8477880436,"atr":7.13725,"price":389.26,"sector":"Industrials","shares":35,"position":13624.1},{"rank":82,"ticker":"CBOE","momentum":32.2555731339,"atr":2.71284,"price":125.18,"sector":"Financials","shares":92,"position":11516.56},{"rank":83,"ticker":"EXC","momentum":30.8655904441,"atr":0.863935,"price":48.63,"sector":"Utilities","shares":289,"position":14054.07},{"rank":84,"ticker":"ORCL","momentum":30.2475665056,"atr":1.830965,"price":91.25,"sector":"Information Technology","shares":136,"position":12410.0},{"rank":85,"ticker":"KLAC","momentum":29.48432282,"atr":9.940515,"price":335.3,"sector":"Information Technology","shares":25,"position":8382.5},{"rank":86,"ticker":"WAB","momentum":28.3240094709,"atr":1.83155,"price":88.14,"sector":"Industrials","shares":136,"position":11987.04},{"rank":87,"ticker":"IR","momentum":28.01743439,"atr":1.36773,"price":51.41,"sector":"Industrials","shares":182,"position":9356.62},{"rank":88,"ticker":"STE","momentum":26.7837675963,"atr":4.151145,"price":209.11,"sector":"Health Care","shares":60,"position":12546.6},{"rank":89,"ticker":"FFIV","momentum":26.1808873543,"atr":4.172915,"price":202.45,"sector":"Information Technology","shares":59,"position":11944.55},{"rank":90,"ticker":"PLD","momentum":25.431604533,"atr":2.335485,"price":126.44,"sector":"Real Estate","shares":107,"position":13529.08},{"rank":91,"ticker":"UDR","momentum":24.9414864944,"atr":1.08525,"price":53.53,"sector":"Real Estate","shares":230,"position":12311.9},{"rank":92,"ticker":"CTSH","momentum":23.7435551083,"atr":1.167945,"price":75.58,"sector":"Information Technology","shares":214,"position":16174.12},{"rank":93,"ticker":"ARE","momentum":23.6566022211,"atr":3.15725,"price":192.84,"sector":"Real Estate","shares":79,"position":15234.36},{"rank":94,"ticker":"CB","momentum":23.443932846,"atr":3.08224,"price":176.39,"sector":"Financials","shares":81,"position":14287.59},{"rank":95,"ticker":"CSCO","momentum":21.8456082552,"atr":0.94821,"price":55.48,"sector":"Information Technology","shares":263,"position":14591.24},{"rank":96,"ticker":"PG","momentum":21.0004010985,"atr":1.737,"price":142.02,"sector":"Consumer Staples","shares":143,"position":20308.86},{"rank":97,"ticker":"OGN","momentum":20.9133942932,"atr":0.8907,"price":33.98,"sector":"Health Care","shares":280,"position":9514.4},{"rank":98,"ticker":"GILD","momentum":20.3371187637,"atr":1.1675,"price":70.94,"sector":"Health Care","shares":214,"position":15181.16},{"rank":99,"ticker":"AVGO","momentum":19.683401092,"atr":9.2458,"price":489.48,"sector":"Information Technology","shares":27,"position":13215.96},{"rank":100,"ticker":"HD","momentum":18.8573856472,"atr":5.143655,"price":336.93,"sector":"Consumer Discretionary","shares":48,"position":16172.64},{"rank":101,"ticker":"SYK","momentum":18.3290983628,"atr":4.619585,"price":267.89,"sector":"Health Care","shares":54,"position":14466.06},{"rank":102,"ticker":"AVB","momentum":17.7774054689,"atr":4.331345,"price":225.0,"sector":"Real Estate","shares":57,"position":12825.0},{"rank":103,"ticker":"TJX","momentum":17.1986016464,"atr":1.310395,"price":69.9,"sector":"Consumer Discretionary","shares":190,"position":13281.0},{"rank":104,"ticker":"MCK","momentum":14.8466404884,"atr":3.67834,"price":205.45,"sector":"Health Care","shares":67,"position":13765.15},{"rank":105,"ticker":"GS","momentum":14.4763445699,"atr":8.68492,"price":384.89,"sector":"Financials","shares":28,"position":10776.92},{"rank":106,"ticker":"ESS","momentum":14.4244693207,"atr":6.89,"price":323.93,"sector":"Real Estate","shares":36,"position":11661.48},{"rank":107,"ticker":"BDX","momentum":12.450845459,"atr":3.6577,"price":251.79,"sector":"Health Care","shares":68,"position":17121.72},{"rank":108,"ticker":"PEP","momentum":12.1681738771,"atr":2.01125,"price":152.3,"sector":"Consumer Staples","shares":124,"position":18885.2},{"rank":109,"ticker":"BR","momentum":11.8089184555,"atr":2.512715,"price":168.4,"sector":"Information Technology","shares":99,"position":16671.6},{"rank":110,"ticker":"ABC","momentum":11.1287460632,"atr":1.99969,"price":122.5,"sector":"Health Care","shares":125,"position":15312.5},{"rank":111,"ticker":"GD","momentum":10.6714632473,"atr":3.26605,"price":198.39,"sector":"Industrials","shares":76,"position":15077.64},{"rank":112,"ticker":"AMP","momentum":9.328512979,"atr":6.14196,"price":270.71,"sector":"Financials","shares":40,"position":10828.4},{"rank":113,"ticker":"AIG","momentum":9.3106887796,"atr":1.12475,"price":55.84,"sector":"Financials","shares":222,"position":12396.48},{"rank":114,"ticker":"BSX","momentum":9.2580161586,"atr":0.906065,"price":43.89,"sector":"Health Care","shares":275,"position":12069.75},{"rank":115,"ticker":"TXT","momentum":8.5758923118,"atr":1.641795,"price":71.6,"sector":"Industrials","shares":152,"position":10883.2},{"rank":116,"ticker":"KMB","momentum":7.8115468227,"atr":1.995165,"price":135.78,"sector":"Consumer Staples","shares":125,"position":16972.5},{"rank":117,"ticker":"AAP","momentum":7.5280023578,"atr":3.89976,"price":216.77,"sector":"Consumer Discretionary","shares":64,"position":13873.28},{"rank":118,"ticker":"FRC","momentum":7.3545595751,"atr":3.935,"price":194.83,"sector":"Financials","shares":63,"position":12274.29},{"rank":119,"ticker":"MCD","momentum":7.3462842322,"atr":3.24075,"price":244.28,"sector":"Consumer Discretionary","shares":77,"position":18809.56},{"rank":120,"ticker":"JBHT","momentum":7.1122849746,"atr":3.870375,"price":170.08,"sector":"Industrials","shares":64,"position":10885.12},{"rank":121,"ticker":"DFS","momentum":7.0624301365,"atr":3.50337,"price":126.98,"sector":"Financials","shares":71,"position":9015.58},{"rank":122,"ticker":"ICE","momentum":6.9260180104,"atr":1.75608,"price":116.9,"sector":"Financials","shares":142,"position":16599.8},{"rank":123,"ticker":"COG","momentum":5.7376037756,"atr":0.86225,"price":22.55,"sector":"Energy","shares":289,"position":6516.95},{"rank":124,"ticker":"JNPR","momentum":5.1621741814,"atr":0.503545,"price":28.36,"sector":"Information Technology","shares":496,"position":14066.56},{"rank":125,"ticker":"LKQ","momentum":4.991513712,"atr":1.12277,"price":51.4,"sector":"Consumer Discretionary","shares":222,"position":11410.8},{"rank":126,"ticker":"AIZ","momentum":3.6336181412,"atr":2.6395,"price":160.61,"sector":"Financials","shares":94,"position":15097.34},{"rank":127,"ticker":"SIVB","momentum":3.4050174242,"atr":18.583295,"price":655.99,"sector":"Financials","shares":13,"position":8527.87},{"rank":128,"ticker":"STT","momentum":3.1469730145,"atr":2.41394,"price":86.54,"sector":"Financials","shares":103,"position":8913.62},{"rank":129,"ticker":"BK","momentum":3.0185772793,"atr":1.216,"price":52.63,"sector":"Financials","shares":205,"position":10789.15},{"rank":130,"ticker":"ADI","momentum":2.5676897063,"atr":3.28675,"price":168.84,"sector":"Information Technology","shares":76,"position":12831.84},{"rank":131,"ticker":"TXN","momentum":1.9556336419,"atr":3.326495,"price":193.07,"sector":"Information Technology","shares":75,"position":14480.25},{"rank":132,"ticker":"MCHP","momentum":1.6411818637,"atr":3.815615,"price":153.07,"sector":"Information Technology","shares":65,"position":9949.55},{"rank":133,"ticker":"AJG","momentum":1.5279912359,"atr":2.606695,"price":150.89,"sector":"Financials","shares":95,"position":14334.55},{"rank":134,"ticker":"HLT","momentum":1.4472222002,"atr":3.15375,"price":135.16,"sector":"Consumer Discretionary","shares":79,"position":10677.64},{"rank":135,"ticker":"WFC","momentum":0.9333567782,"atr":1.351745,"price":47.03,"sector":"Financials","shares":184,"position":8653.52},{"rank":136,"ticker":"DISH","momentum":0.795689529,"atr":1.25175,"price":44.14,"sector":"Communication Services","shares":199,"position":8783.86},{"rank":137,"ticker":"COF","momentum":0.6994226926,"atr":4.16345,"price":166.55,"sector":"Financials","shares":60,"position":9993.0},{"rank":138,"ticker":"SYF","momentum":0.161293879,"atr":1.435695,"price":50.54,"sector":"Financials","shares":174,"position":8793.96},{"rank":139,"ticker":"MO","momentum":0.1317552237,"atr":0.779285,"price":48.74,"sector":"Consumer Staples","shares":320,"position":15596.8},{"rank":140,"ticker":"HSIC","momentum":0.1003797673,"atr":1.59269,"price":78.28,"sector":"Health Care","shares":156,"position":12211.68},{"rank":141,"ticker":"TSN","momentum":0.0298158239,"atr":1.39434,"price":80.49,"sector":"Consumer Staples","shares":179,"position":14407.71},{"rank":142,"ticker":"PNC","momentum":0.0066373781,"atr":4.158335,"price":197.44,"sector":"Financials","shares":60,"position":11846.4},{"rank":143,"ticker":"FOXA","momentum":0.0061487044,"atr":0.98775,"price":40.25,"sector":"Communication Services","shares":253,"position":10183.25},{"rank":144,"ticker":"JPM","momentum":0.0011489717,"atr":3.17129,"price":165.95,"sector":"Financials","shares":78,"position":12944.1},{"rank":145,"ticker":"WY","momentum":-0.0000002926,"atr":0.7479,"price":36.58,"sector":"Real Estate","shares":334,"position":12217.72},{"rank":146,"ticker":"CVS","momentum":-0.0001671978,"atr":1.597825,"price":86.79,"sector":"Health Care","shares":156,"position":13539.24},{"rank":147,"ticker":"SCHW","momentum":-0.0044821086,"atr":1.978505,"price":75.38,"sector":"Financials","shares":126,"position":9497.88},{"rank":148,"ticker":"MAR","momentum":-0.0292919634,"atr":3.545345,"price":151.91,"sector":"Consumer Discretionary","shares":70,"position":10633.7},{"rank":149,"ticker":"MET","momentum":-0.5748137416,"atr":1.433415,"price":62.58,"sector":"Financials","shares":174,"position":10888.92},{"rank":150,"ticker":"BKR","momentum":-1.0618163123,"atr":0.818,"price":25.05,"sector":"Energy","shares":305,"position":7640.25},{"rank":151,"ticker":"BAX","momentum":-1.1628477839,"atr":1.65367,"price":81.81,"sector":"Health Care","shares":151,"position":12353.31},{"rank":152,"ticker":"FOX","momentum":-1.6838854568,"atr":0.86955,"price":37.25,"sector":"Communication Services","shares":287,"position":10690.75},{"rank":153,"ticker":"K","momentum":-1.826523718,"atr":0.98254,"price":65.3,"sector":"Consumer Staples","shares":254,"position":16586.2},{"rank":154,"ticker":"J","momentum":-2.0492689772,"atr":3.040785,"price":136.42,"sector":"Industrials","shares":82,"position":11186.44},{"rank":155,"ticker":"RTX","momentum":-3.5492162308,"atr":1.52375,"price":86.99,"sector":"Industrials","shares":164,"position":14266.36},{"rank":156,"ticker":"ANTM","momentum":-3.7285653772,"atr":8.61649,"price":388.8,"sector":"Health Care","shares":29,"position":11275.2},{"rank":157,"ticker":"GE","momentum":-5.9877807037,"atr":2.785035,"price":106.28,"sector":"Industrials","shares":89,"position":9458.92},{"rank":158,"ticker":"CF","momentum":-7.1139884702,"atr":1.7046,"price":56.52,"sector":"Materials","shares":146,"position":8251.92},{"rank":159,"ticker":"GIS","momentum":-9.2762328346,"atr":1.149365,"price":60.77,"sector":"Consumer Staples","shares":217,"position":13187.09},{"rank":160,"ticker":"TDG","momentum":-10.9239671846,"atr":13.66519,"price":634.5,"sector":"Industrials","shares":18,"position":11421.0},{"rank":161,"ticker":"WMB","momentum":-14.5607597572,"atr":0.53063,"price":26.27,"sector":"Energy","shares":471,"position":12373.17},{"rank":162,"ticker":"CVX","momentum":-16.0135434904,"atr":2.222805,"price":103.33,"sector":"Energy","shares":112,"position":11572.96},{"rank":163,"ticker":"XOM","momentum":-17.8080772246,"atr":1.499485,"price":59.88,"sector":"Energy","shares":166,"position":9940.08},{"rank":164,"ticker":"F","momentum":-18.5019979044,"atr":0.3875,"price":14.3,"sector":"Consumer Discretionary","shares":645,"position":9223.5}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

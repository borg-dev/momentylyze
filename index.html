<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"MNST","momentum":70.5521888053,"atr":2.20683,"price":95.84,"sector":"Consumer Staples","shares":113,"position":10829.92},{"rank":2,"ticker":"MRK","momentum":28.3600231423,"atr":1.849315,"price":90.53,"sector":"Health Care","shares":135,"position":12221.55},{"rank":3,"ticker":"VICI","momentum":27.178323919,"atr":0.708635,"price":33.12,"sector":"Real Estate","shares":352,"position":11658.24},{"rank":4,"ticker":"LLY","momentum":27.003101434,"atr":7.38837,"price":331.55,"sector":"Health Care","shares":33,"position":10941.15},{"rank":5,"ticker":"K","momentum":23.5845526415,"atr":1.249035,"price":72.1,"sector":"Consumer Staples","shares":200,"position":14420.0},{"rank":6,"ticker":"CI","momentum":16.9745684332,"atr":7.204505,"price":272.63,"sector":"Health Care","shares":34,"position":9269.42},{"rank":7,"ticker":"AMCR","momentum":13.4854278285,"atr":0.283195,"price":12.74,"sector":"Materials","shares":882,"position":11236.68},{"rank":8,"ticker":"GPC","momentum":13.0318681864,"atr":2.60766,"price":144.53,"sector":"Consumer Discretionary","shares":95,"position":13730.35},{"rank":9,"ticker":"CPB","momentum":12.217372012,"atr":0.835535,"price":48.61,"sector":"Consumer Staples","shares":299,"position":14534.39},{"rank":10,"ticker":"GIS","momentum":10.3873759085,"atr":1.445685,"price":74.25,"sector":"Consumer Staples","shares":172,"position":12771.0},{"rank":11,"ticker":"VRTX","momentum":7.060873885,"atr":7.43073,"price":283.68,"sector":"Health Care","shares":33,"position":9361.44},{"rank":12,"ticker":"WAT","momentum":6.053382277,"atr":9.04223,"price":344.94,"sector":"Health Care","shares":27,"position":9313.38},{"rank":13,"ticker":"BF.B","momentum":5.8259796514,"atr":1.236215,"price":71.3,"sector":"Consumer Staples","shares":202,"position":14402.6},{"rank":14,"ticker":"TMUS","momentum":5.224456321,"atr":3.37215,"price":134.56,"sector":"Communication Services","shares":74,"position":9957.44},{"rank":15,"ticker":"MCK","momentum":4.644003838,"atr":8.03302,"price":336.2,"sector":"Health Care","shares":31,"position":10422.2},{"rank":16,"ticker":"TAP","momentum":4.5967101336,"atr":1.327415,"price":58.22,"sector":"Consumer Staples","shares":188,"position":10945.36},{"rank":17,"ticker":"XOM","momentum":4.4965970261,"atr":3.24231,"price":89.98,"sector":"Energy","shares":77,"position":6928.46},{"rank":18,"ticker":"KMB","momentum":3.8812875953,"atr":2.115985,"price":133.42,"sector":"Consumer Staples","shares":118,"position":15743.56},{"rank":19,"ticker":"AZO","momentum":1.9021754793,"atr":51.64245,"price":2144.87,"sector":"Consumer Discretionary","shares":4,"position":8579.48},{"rank":20,"ticker":"DG","momentum":1.5891349087,"atr":5.35145,"price":247.72,"sector":"Consumer Discretionary","shares":46,"position":11395.12},{"rank":21,"ticker":"ROL","momentum":1.1142451284,"atr":0.78251,"price":36.49,"sector":"Industrials","shares":319,"position":11640.31},{"rank":22,"ticker":"HII","momentum":0.4718801533,"atr":5.548575,"price":210.58,"sector":"Industrials","shares":45,"position":9476.1},{"rank":23,"ticker":"STZ","momentum":0.4260892171,"atr":5.681585,"price":240.67,"sector":"Consumer Staples","shares":44,"position":10589.48},{"rank":24,"ticker":"SYY","momentum":0.3472657688,"atr":1.779245,"price":87.86,"sector":"Consumer Staples","shares":140,"position":12300.4},{"rank":25,"ticker":"EA","momentum":0.333104156,"atr":2.756125,"price":129.92,"sector":"Communication Services","shares":90,"position":11692.8},{"rank":26,"ticker":"AMT","momentum":0.26123185,"atr":6.531995,"price":257.34,"sector":"Real Estate","shares":38,"position":9778.92},{"rank":27,"ticker":"MCD","momentum":0.2552336797,"atr":4.134595,"price":250.38,"sector":"Consumer Discretionary","shares":60,"position":15022.8},{"rank":28,"ticker":"CTLT","momentum":0.2031646264,"atr":3.738075,"price":107.92,"sector":"Health Care","shares":66,"position":7122.72},{"rank":29,"ticker":"CL","momentum":0.1699513014,"atr":1.38698,"price":77.85,"sector":"Consumer Staples","shares":180,"position":14013.0},{"rank":30,"ticker":"CTRA","momentum":0.0968911497,"atr":1.239345,"price":28.89,"sector":"Energy","shares":201,"position":5806.89},{"rank":31,"ticker":"AMGN","momentum":0.0942931612,"atr":3.911415,"price":248.72,"sector":"Health Care","shares":63,"position":15669.36},{"rank":32,"ticker":"CBOE","momentum":0.0822059644,"atr":2.59225,"price":124.75,"sector":"Financials","shares":96,"position":11976.0},{"rank":33,"ticker":"DPZ","momentum":0.0155127082,"atr":10.56115,"price":387.99,"sector":"Consumer Discretionary","shares":23,"position":8923.77},{"rank":34,"ticker":"SNPS","momentum":0.0018678111,"atr":9.26074,"price":337.67,"sector":"Information Technology","shares":26,"position":8779.42},{"rank":35,"ticker":"CNC","momentum":0.000002143,"atr":2.35941,"price":91.93,"sector":"Health Care","shares":105,"position":9652.65},{"rank":36,"ticker":"MAS","momentum":0.0000006866,"atr":1.3793,"price":55.41,"sector":"Industrials","shares":181,"position":10029.21},{"rank":37,"ticker":"CAG","momentum":-0.0150973377,"atr":0.74459,"price":33.87,"sector":"Consumer Staples","shares":335,"position":11346.45},{"rank":38,"ticker":"HSY","momentum":-0.02461213,"atr":3.3113,"price":216.86,"sector":"Consumer Staples","shares":75,"position":16264.5},{"rank":39,"ticker":"CDNS","momentum":-0.0258681414,"atr":4.877,"price":167.66,"sector":"Information Technology","shares":51,"position":8550.66},{"rank":40,"ticker":"PWR","momentum":-0.0311033803,"atr":4.865195,"price":133.68,"sector":"Industrials","shares":51,"position":6817.68},{"rank":41,"ticker":"INCY","momentum":-0.0335821728,"atr":1.955245,"price":80.62,"sector":"Health Care","shares":127,"position":10238.74},{"rank":42,"ticker":"PEP","momentum":-0.0401694846,"atr":2.922005,"price":169.85,"sector":"Consumer Staples","shares":85,"position":14437.25},{"rank":43,"ticker":"ULTA","momentum":-0.0412645668,"atr":12.002,"price":401.26,"sector":"Consumer Discretionary","shares":20,"position":8025.2},{"rank":44,"ticker":"ED","momentum":-0.102269576,"atr":1.9085,"price":94.09,"sector":"Utilities","shares":130,"position":12231.7},{"rank":45,"ticker":"O","momentum":-0.1187123589,"atr":1.232075,"price":71.61,"sector":"Real Estate","shares":202,"position":14465.22},{"rank":46,"ticker":"PFE","momentum":-0.1919803226,"atr":1.138565,"price":51.77,"sector":"Health Care","shares":219,"position":11337.63},{"rank":47,"ticker":"CMI","momentum":-0.2343753137,"atr":5.45674,"price":206.29,"sector":"Industrials","shares":45,"position":9283.05},{"rank":48,"ticker":"SO","momentum":-0.3550897315,"atr":1.27075,"price":72.69,"sector":"Utilities","shares":196,"position":14247.24},{"rank":49,"ticker":"PHM","momentum":-0.377367072,"atr":1.6952,"price":44.7,"sector":"Consumer Discretionary","shares":147,"position":6570.9},{"rank":50,"ticker":"UNH","momentum":-0.386306963,"atr":14.0415,"price":529.47,"sector":"Health Care","shares":17,"position":9000.99},{"rank":51,"ticker":"DRE","momentum":-0.4127892655,"atr":1.5575,"price":60.03,"sector":"Real Estate","shares":160,"position":9604.8},{"rank":52,"ticker":"MHK","momentum":-0.5998544522,"atr":4.80434,"price":134.2,"sector":"Consumer Discretionary","shares":52,"position":6978.4},{"rank":53,"ticker":"YUM","momentum":-1.1063888133,"atr":2.36692,"price":117.05,"sector":"Consumer Discretionary","shares":105,"position":12290.25},{"rank":54,"ticker":"MDLZ","momentum":-1.1469212603,"atr":1.15875,"price":62.76,"sector":"Consumer Staples","shares":215,"position":13493.4},{"rank":55,"ticker":"NEE","momentum":-1.558268031,"atr":1.874095,"price":80.98,"sector":"Utilities","shares":133,"position":10770.34},{"rank":56,"ticker":"TJX","momentum":-1.7821250266,"atr":1.54236,"price":63.29,"sector":"Consumer Discretionary","shares":162,"position":10252.98},{"rank":57,"ticker":"ON","momentum":-1.9318707914,"atr":2.61132,"price":59.34,"sector":"Information Technology","shares":95,"position":5637.3},{"rank":58,"ticker":"FIS","momentum":-1.9651447208,"atr":2.59572,"price":98.06,"sector":"Information Technology","shares":96,"position":9413.76},{"rank":59,"ticker":"RSG","momentum":-2.0731813727,"atr":2.424015,"price":132.05,"sector":"Industrials","shares":103,"position":13601.15},{"rank":60,"ticker":"GL","momentum":-2.1200129784,"atr":2.10271,"price":101.41,"sector":"Financials","shares":118,"position":11966.38},{"rank":61,"ticker":"AVY","momentum":-2.2136345244,"atr":4.02847,"price":174.78,"sector":"Materials","shares":62,"position":10836.36},{"rank":62,"ticker":"SNA","momentum":-2.3335219403,"atr":4.48045,"price":214.18,"sector":"Industrials","shares":55,"position":11779.9},{"rank":63,"ticker":"SHW","momentum":-2.3687151569,"atr":6.7695,"price":259.01,"sector":"Materials","shares":36,"position":9324.36},{"rank":64,"ticker":"JKHY","momentum":-2.6375666479,"atr":3.731145,"price":197.38,"sector":"Information Technology","shares":67,"position":13224.46},{"rank":65,"ticker":"BR","momentum":-2.8674934911,"atr":3.45568,"price":154.95,"sector":"Information Technology","shares":72,"position":11156.4},{"rank":66,"ticker":"KLAC","momentum":-3.7830086686,"atr":13.21137,"price":350.6,"sector":"Information Technology","shares":18,"position":6310.8},{"rank":67,"ticker":"ADP","momentum":-4.0307194377,"atr":4.86543,"price":218.38,"sector":"Information Technology","shares":51,"position":11137.38},{"rank":68,"ticker":"ADI","momentum":-4.0489177045,"atr":4.51725,"price":163.04,"sector":"Information Technology","shares":55,"position":8967.2},{"rank":69,"ticker":"ORLY","momentum":-4.2032372019,"atr":13.492245,"price":685.2,"sector":"Consumer Discretionary","shares":18,"position":12333.6},{"rank":70,"ticker":"DHI","momentum":-4.5302902907,"atr":2.73676,"price":75.36,"sector":"Consumer Discretionary","shares":91,"position":6857.76},{"rank":71,"ticker":"PCAR","momentum":-4.5362726214,"atr":2.024575,"price":86.03,"sector":"Industrials","shares":123,"position":10581.69},{"rank":72,"ticker":"MTB","momentum":-4.5513531345,"atr":5.17735,"price":172.44,"sector":"Financials","shares":48,"position":8277.12},{"rank":73,"ticker":"AJG","momentum":-4.7378960838,"atr":3.331,"price":169.71,"sector":"Financials","shares":75,"position":12728.25},{"rank":74,"ticker":"SBUX","momentum":-5.2078529213,"atr":2.00876,"price":81.5,"sector":"Consumer Discretionary","shares":124,"position":10106.0},{"rank":75,"ticker":"EL","momentum":-5.4012268041,"atr":7.32325,"price":258.69,"sector":"Consumer Staples","shares":34,"position":8795.46},{"rank":76,"ticker":"WM","momentum":-5.5022589782,"atr":2.667245,"price":155.9,"sector":"Industrials","shares":93,"position":14498.7},{"rank":77,"ticker":"LEN","momentum":-5.6018813509,"atr":2.80169,"price":81.61,"sector":"Consumer Discretionary","shares":89,"position":7263.29},{"rank":78,"ticker":"V","momentum":-5.9539930511,"atr":5.279505,"price":214.27,"sector":"Information Technology","shares":47,"position":10070.69},{"rank":79,"ticker":"IQV","momentum":-6.0520895489,"atr":6.301925,"price":221.62,"sector":"Health Care","shares":39,"position":8643.18},{"rank":80,"ticker":"IEX","momentum":-7.109875575,"atr":4.21925,"price":192.87,"sector":"Industrials","shares":59,"position":11379.33},{"rank":81,"ticker":"NVR","momentum":-7.3923854606,"atr":143.9246,"price":4464.83,"sector":"Consumer Discretionary","shares":1,"position":4464.83},{"rank":82,"ticker":"KDP","momentum":-7.6116488901,"atr":0.56575,"price":36.76,"sector":"Consumer Staples","shares":441,"position":16211.16},{"rank":83,"ticker":"ATO","momentum":-7.66637522,"atr":2.09197,"price":114.77,"sector":"Utilities","shares":119,"position":13657.63},{"rank":84,"ticker":"MPWR","momentum":-8.0742719317,"atr":19.02815,"price":430.28,"sector":"Information Technology","shares":13,"position":5593.64},{"rank":85,"ticker":"FRC","momentum":-8.3229042429,"atr":4.067125,"price":158.42,"sector":"Financials","shares":61,"position":9663.62},{"rank":86,"ticker":"TMO","momentum":-8.337349101,"atr":15.970765,"price":567.44,"sector":"Health Care","shares":15,"position":8511.6},{"rank":87,"ticker":"KEYS","momentum":-8.3583818502,"atr":3.91233,"price":152.06,"sector":"Information Technology","shares":63,"position":9579.78},{"rank":88,"ticker":"RMD","momentum":-8.7296088964,"atr":5.596915,"price":236.02,"sector":"Health Care","shares":44,"position":10384.88},{"rank":89,"ticker":"MA","momentum":-8.7690421343,"atr":8.88965,"price":344.21,"sector":"Information Technology","shares":28,"position":9637.88},{"rank":90,"ticker":"HWM","momentum":-9.3765527129,"atr":1.018365,"price":34.83,"sector":"Industrials","shares":245,"position":8533.35},{"rank":91,"ticker":"FISV","momentum":-9.406288658,"atr":2.492,"price":98.05,"sector":"Information Technology","shares":100,"position":9805.0},{"rank":92,"ticker":"CPRT","momentum":-10.1048827159,"atr":2.96265,"price":120.85,"sector":"Industrials","shares":84,"position":10151.4},{"rank":93,"ticker":"CTAS","momentum":-10.3092541715,"atr":8.7438,"price":396.67,"sector":"Industrials","shares":28,"position":11106.76},{"rank":94,"ticker":"FDS","momentum":-10.9329228669,"atr":9.83351,"price":406.23,"sector":"Financials","shares":25,"position":10155.75},{"rank":95,"ticker":"DHR","momentum":-11.2300488288,"atr":7.977175,"price":273.38,"sector":"Health Care","shares":31,"position":8474.78},{"rank":96,"ticker":"MSI","momentum":-11.6869831689,"atr":5.0425,"price":223.51,"sector":"Information Technology","shares":49,"position":10951.99},{"rank":97,"ticker":"CDW","momentum":-12.1544574632,"atr":3.983,"price":170.44,"sector":"Information Technology","shares":62,"position":10567.28},{"rank":98,"ticker":"NDAQ","momentum":-12.1764819425,"atr":3.966795,"price":172.0,"sector":"Financials","shares":63,"position":10836.0},{"rank":99,"ticker":"HD","momentum":-13.3106952143,"atr":7.01498,"price":306.15,"sector":"Consumer Discretionary","shares":35,"position":10715.25},{"rank":100,"ticker":"NXPI","momentum":-13.5319091826,"atr":5.99625,"price":174.13,"sector":"Information Technology","shares":41,"position":7139.33},{"rank":101,"ticker":"NDSN","momentum":-14.0874163823,"atr":5.225695,"price":217.71,"sector":"Industrials","shares":47,"position":10232.37},{"rank":102,"ticker":"SRE","momentum":-14.3686017566,"atr":3.364395,"price":158.27,"sector":"Utilities","shares":74,"position":11711.98},{"rank":103,"ticker":"GS","momentum":-14.8214887917,"atr":8.99141,"price":324.12,"sector":"Financials","shares":27,"position":8751.24},{"rank":104,"ticker":"XYL","momentum":-16.3701640026,"atr":2.049455,"price":84.3,"sector":"Industrials","shares":121,"position":10200.3},{"rank":105,"ticker":"COST","momentum":-17.3990886556,"atr":11.69638,"price":529.14,"sector":"Consumer Staples","shares":21,"position":11111.94},{"rank":106,"ticker":"ADSK","momentum":-18.5817077126,"atr":6.661755,"price":195.71,"sector":"Information Technology","shares":37,"position":7241.27},{"rank":107,"ticker":"PPG","momentum":-18.6150661092,"atr":3.990345,"price":126.87,"sector":"Materials","shares":62,"position":7865.94},{"rank":108,"ticker":"INTU","momentum":-20.6844661959,"atr":15.39755,"price":426.2,"sector":"Information Technology","shares":16,"position":6819.2},{"rank":109,"ticker":"RF","momentum":-22.0080124018,"atr":0.66805,"price":21.29,"sector":"Financials","shares":374,"position":7962.46},{"rank":110,"ticker":"ABMD","momentum":-24.8741191635,"atr":9.617075,"price":280.44,"sector":"Health Care","shares":25,"position":7011.0},{"rank":111,"ticker":"BA","momentum":-28.694116302,"atr":6.29951,"price":156.64,"sector":"Industrials","shares":39,"position":6108.96},{"rank":112,"ticker":"CBRE","momentum":-30.7022954223,"atr":1.864875,"price":82.83,"sector":"Real Estate","shares":134,"position":11099.22},{"rank":113,"ticker":"MOH","momentum":-31.0713784937,"atr":8.0235,"price":307.71,"sector":"Health Care","shares":31,"position":9539.01}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"LW","momentum":120.1430722263,"atr":1.378155,"price":79.52,"sector":"Consumer Staples","shares":181,"position":14393.12},{"rank":2,"ticker":"SNPS","momentum":96.6264523113,"atr":9.37594,"price":332.49,"sector":"Information Technology","shares":26,"position":8644.74},{"rank":3,"ticker":"NEE","momentum":88.2139172069,"atr":1.457505,"price":86.26,"sector":"Utilities","shares":171,"position":14750.46},{"rank":4,"ticker":"PWR","momentum":85.6800771336,"atr":3.523355,"price":139.1,"sector":"Industrials","shares":70,"position":9737.0},{"rank":5,"ticker":"CDNS","momentum":84.948428628,"atr":3.920495,"price":170.04,"sector":"Information Technology","shares":63,"position":10712.52},{"rank":6,"ticker":"NDAQ","momentum":73.8975654834,"atr":1.090565,"price":59.99,"sector":"Financials","shares":229,"position":13737.71},{"rank":7,"ticker":"BR","momentum":72.9404207078,"atr":3.559,"price":171.71,"sector":"Information Technology","shares":70,"position":12019.7},{"rank":8,"ticker":"KEYS","momentum":63.1261749306,"atr":3.96114,"price":164.06,"sector":"Information Technology","shares":63,"position":10335.78},{"rank":9,"ticker":"GPC","momentum":61.5079103711,"atr":2.632975,"price":156.78,"sector":"Consumer Discretionary","shares":94,"position":14737.32},{"rank":10,"ticker":"VICI","momentum":58.2803123652,"atr":0.526165,"price":33.11,"sector":"Real Estate","shares":475,"position":15727.25},{"rank":11,"ticker":"BF.B","momentum":57.6742017614,"atr":1.34544,"price":72.51,"sector":"Consumer Staples","shares":185,"position":13414.35},{"rank":12,"ticker":"DRE","momentum":55.2317357467,"atr":1.2944,"price":58.78,"sector":"Real Estate","shares":193,"position":11344.54},{"rank":13,"ticker":"RMD","momentum":50.1587175949,"atr":5.046195,"price":219.48,"sector":"Health Care","shares":49,"position":10754.52},{"rank":14,"ticker":"SBUX","momentum":49.8847106155,"atr":1.77052,"price":85.4,"sector":"Consumer Discretionary","shares":141,"position":12041.4},{"rank":15,"ticker":"ON","momentum":49.0882008773,"atr":3.442315,"price":68.22,"sector":"Information Technology","shares":72,"position":4911.84},{"rank":16,"ticker":"CNC","momentum":48.5096194302,"atr":2.174225,"price":91.24,"sector":"Health Care","shares":114,"position":10401.36},{"rank":17,"ticker":"BA","momentum":45.2586958933,"atr":5.11206,"price":153.66,"sector":"Industrials","shares":48,"position":7375.68},{"rank":18,"ticker":"ORLY","momentum":44.6553534541,"atr":12.32875,"price":706.47,"sector":"Consumer Discretionary","shares":20,"position":14129.4},{"rank":19,"ticker":"TMUS","momentum":44.5449008013,"atr":2.735225,"price":143.92,"sector":"Communication Services","shares":91,"position":13096.72},{"rank":20,"ticker":"MSI","momentum":43.8257707716,"atr":4.739,"price":244.17,"sector":"Information Technology","shares":52,"position":12696.84},{"rank":21,"ticker":"DHR","momentum":38.8655886522,"atr":5.681005,"price":273.86,"sector":"Health Care","shares":44,"position":12049.84},{"rank":22,"ticker":"FDS","momentum":37.9359266888,"atr":7.889455,"price":440.06,"sector":"Financials","shares":31,"position":13641.86},{"rank":23,"ticker":"ADP","momentum":35.3862538597,"atr":4.1284,"price":245.96,"sector":"Information Technology","shares":60,"position":14757.6},{"rank":24,"ticker":"MSCI","momentum":35.1078679119,"atr":11.716805,"price":456.91,"sector":"Financials","shares":21,"position":9595.11},{"rank":25,"ticker":"AES","momentum":34.7641930012,"atr":0.64625,"price":25.85,"sector":"Utilities","shares":386,"position":9978.1},{"rank":26,"ticker":"CI","momentum":32.9709602424,"atr":4.853635,"price":288.04,"sector":"Health Care","shares":51,"position":14690.04},{"rank":27,"ticker":"MCK","momentum":30.0297798542,"atr":7.27906,"price":363.83,"sector":"Health Care","shares":34,"position":12370.22},{"rank":28,"ticker":"INTU","momentum":29.7008028424,"atr":14.30385,"price":425.5,"sector":"Information Technology","shares":17,"position":7233.5},{"rank":29,"ticker":"GWW","momentum":29.2663705377,"atr":10.36533,"price":557.05,"sector":"Industrials","shares":24,"position":13369.2},{"rank":30,"ticker":"AZO","momentum":29.1810110085,"atr":44.57158,"price":2145.59,"sector":"Consumer Discretionary","shares":5,"position":10727.95},{"rank":31,"ticker":"AJG","momentum":29.0935036889,"atr":2.85239,"price":181.6,"sector":"Financials","shares":87,"position":15799.2},{"rank":32,"ticker":"VRTX","momentum":28.7988161262,"atr":8.00161,"price":290.2,"sector":"Health Care","shares":31,"position":8996.2},{"rank":33,"ticker":"CPRT","momentum":28.2979206185,"atr":2.7055,"price":117.89,"sector":"Industrials","shares":92,"position":10845.88},{"rank":34,"ticker":"CBOE","momentum":28.0887644485,"atr":2.6415,"price":121.23,"sector":"Financials","shares":94,"position":11395.62},{"rank":35,"ticker":"UPS","momentum":28.0462325168,"atr":3.54143,"price":196.61,"sector":"Industrials","shares":70,"position":13762.7},{"rank":36,"ticker":"CAH","momentum":25.1287487192,"atr":1.82025,"price":71.32,"sector":"Health Care","shares":137,"position":9770.84},{"rank":37,"ticker":"GIS","momentum":24.3715254273,"atr":1.1225,"price":77.16,"sector":"Consumer Staples","shares":222,"position":17129.52},{"rank":38,"ticker":"XYL","momentum":23.9724310639,"atr":2.2085,"price":92.09,"sector":"Industrials","shares":113,"position":10406.17},{"rank":39,"ticker":"TT","momentum":23.0731474101,"atr":3.46525,"price":156.82,"sector":"Industrials","shares":72,"position":11291.04},{"rank":40,"ticker":"AMT","momentum":21.3664566805,"atr":5.326535,"price":257.64,"sector":"Real Estate","shares":46,"position":11851.44},{"rank":41,"ticker":"JKHY","momentum":20.8520272702,"atr":4.484985,"price":194.82,"sector":"Information Technology","shares":55,"position":10715.1},{"rank":42,"ticker":"BRO","momentum":20.6646137806,"atr":1.09392,"price":63.66,"sector":"Financials","shares":228,"position":14514.48},{"rank":43,"ticker":"CMI","momentum":20.3026077337,"atr":4.016765,"price":214.92,"sector":"Industrials","shares":62,"position":13325.04},{"rank":44,"ticker":"IEX","momentum":19.6811151013,"atr":3.53325,"price":202.61,"sector":"Industrials","shares":70,"position":14182.7},{"rank":45,"ticker":"UNH","momentum":19.646863222,"atr":8.747175,"price":524.0,"sector":"Health Care","shares":28,"position":14672.0},{"rank":46,"ticker":"CTAS","momentum":18.4022994724,"atr":6.464,"price":407.54,"sector":"Industrials","shares":38,"position":15486.52},{"rank":47,"ticker":"PGR","momentum":18.0027521557,"atr":1.86857,"price":123.7,"sector":"Financials","shares":133,"position":16452.1},{"rank":48,"ticker":"K","momentum":15.589194273,"atr":1.101925,"price":73.34,"sector":"Consumer Staples","shares":226,"position":16574.84},{"rank":49,"ticker":"HII","momentum":15.0435166592,"atr":4.434325,"price":227.48,"sector":"Industrials","shares":56,"position":12738.88},{"rank":50,"ticker":"NDSN","momentum":15.0243773471,"atr":4.7487,"price":226.18,"sector":"Industrials","shares":52,"position":11761.36},{"rank":51,"ticker":"A","momentum":14.9012938971,"atr":3.57725,"price":128.93,"sector":"Health Care","shares":69,"position":8896.17},{"rank":52,"ticker":"BLK","momentum":14.6062564575,"atr":17.44528,"price":664.85,"sector":"Financials","shares":14,"position":9307.9},{"rank":53,"ticker":"DG","momentum":14.0954148433,"atr":5.31525,"price":242.77,"sector":"Consumer Discretionary","shares":47,"position":11410.19},{"rank":54,"ticker":"MCD","momentum":13.0569751138,"atr":3.57325,"price":256.47,"sector":"Consumer Discretionary","shares":69,"position":17696.43},{"rank":55,"ticker":"RSG","momentum":12.8916785324,"atr":2.272225,"price":143.97,"sector":"Industrials","shares":110,"position":15836.7},{"rank":56,"ticker":"ADSK","momentum":11.8930550066,"atr":6.934785,"price":201.95,"sector":"Information Technology","shares":36,"position":7270.2},{"rank":57,"ticker":"EXR","momentum":11.7291151407,"atr":4.11103,"price":200.94,"sector":"Real Estate","shares":60,"position":12056.4},{"rank":58,"ticker":"COST","momentum":11.7262860193,"atr":10.81231,"price":529.17,"sector":"Consumer Staples","shares":23,"position":12170.91},{"rank":59,"ticker":"KDP","momentum":11.6821229408,"atr":0.62875,"price":38.33,"sector":"Consumer Staples","shares":397,"position":15217.01},{"rank":60,"ticker":"AAPL","momentum":11.3191476714,"atr":3.323155,"price":157.96,"sector":"Information Technology","shares":75,"position":11847.0},{"rank":61,"ticker":"GS","momentum":10.8853773178,"atr":6.593225,"price":333.5,"sector":"Financials","shares":37,"position":12339.5},{"rank":62,"ticker":"AVY","momentum":10.7128091107,"atr":3.7332,"price":185.51,"sector":"Materials","shares":66,"position":12243.66},{"rank":63,"ticker":"LLY","momentum":10.5690544363,"atr":7.011355,"price":309.13,"sector":"Health Care","shares":35,"position":10819.55},{"rank":64,"ticker":"IT","momentum":10.0664928884,"atr":6.69135,"price":291.54,"sector":"Information Technology","shares":37,"position":10786.98},{"rank":65,"ticker":"FISV","momentum":9.9617547788,"atr":2.17181,"price":103.5,"sector":"Information Technology","shares":115,"position":11902.5},{"rank":66,"ticker":"APD","momentum":9.6986621971,"atr":4.883655,"price":250.0,"sector":"Materials","shares":51,"position":12750.0},{"rank":67,"ticker":"IR","momentum":9.2535469839,"atr":1.34175,"price":48.38,"sector":"Industrials","shares":186,"position":8998.68},{"rank":68,"ticker":"FTV","momentum":9.1784424973,"atr":1.185775,"price":63.27,"sector":"Industrials","shares":210,"position":13286.7},{"rank":69,"ticker":"PCAR","momentum":9.00737418,"atr":1.5157,"price":87.47,"sector":"Industrials","shares":164,"position":14345.08},{"rank":70,"ticker":"NOC","momentum":8.8375803026,"atr":8.91715,"price":480.32,"sector":"Industrials","shares":28,"position":13448.96},{"rank":71,"ticker":"TDG","momentum":8.7428003496,"atr":14.840315,"price":605.43,"sector":"Industrials","shares":16,"position":9686.88},{"rank":72,"ticker":"APH","momentum":8.7025487238,"atr":1.34116,"price":73.45,"sector":"Information Technology","shares":186,"position":13661.7},{"rank":73,"ticker":"CDAY","momentum":8.5010727045,"atr":2.25128,"price":58.09,"sector":"Information Technology","shares":111,"position":6447.99},{"rank":74,"ticker":"CDW","momentum":7.8753409578,"atr":3.925145,"price":170.51,"sector":"Information Technology","shares":63,"position":10742.13},{"rank":75,"ticker":"MOH","momentum":7.469139575,"atr":7.947795,"price":341.12,"sector":"Health Care","shares":31,"position":10574.72},{"rank":76,"ticker":"RJF","momentum":7.3918203841,"atr":1.97594,"price":104.56,"sector":"Financials","shares":126,"position":13174.56},{"rank":77,"ticker":"F","momentum":6.9047959883,"atr":0.495995,"price":15.19,"sector":"Consumer Discretionary","shares":504,"position":7655.76},{"rank":78,"ticker":"CPB","momentum":6.4930928563,"atr":0.84536,"price":49.37,"sector":"Consumer Staples","shares":295,"position":14564.15},{"rank":79,"ticker":"JBHT","momentum":6.3083836125,"atr":4.429125,"price":173.77,"sector":"Industrials","shares":56,"position":9731.12},{"rank":80,"ticker":"WM","momentum":5.9221209687,"atr":2.29345,"price":170.04,"sector":"Industrials","shares":109,"position":18534.36},{"rank":81,"ticker":"TJX","momentum":5.6785669228,"atr":1.837595,"price":63.84,"sector":"Consumer Discretionary","shares":136,"position":8682.24},{"rank":82,"ticker":"HWM","momentum":5.5111503389,"atr":0.805825,"price":35.05,"sector":"Industrials","shares":310,"position":10865.5},{"rank":83,"ticker":"MTB","momentum":5.4177615736,"atr":3.321995,"price":180.81,"sector":"Financials","shares":75,"position":13560.75},{"rank":84,"ticker":"BEN","momentum":4.4001031036,"atr":0.586155,"price":25.93,"sector":"Financials","shares":426,"position":11046.18},{"rank":85,"ticker":"HSY","momentum":4.2747090055,"atr":3.24698,"price":227.56,"sector":"Consumer Staples","shares":76,"position":17294.56},{"rank":86,"ticker":"CL","momentum":4.1374081997,"atr":1.1567,"price":79.8,"sector":"Consumer Staples","shares":216,"position":17236.8},{"rank":87,"ticker":"CHRW","momentum":4.0020000682,"atr":2.562465,"price":114.88,"sector":"Industrials","shares":97,"position":11143.36},{"rank":88,"ticker":"CARR","momentum":3.7688007346,"atr":0.891395,"price":39.79,"sector":"Industrials","shares":280,"position":11141.2},{"rank":89,"ticker":"VRSK","momentum":3.7234428321,"atr":3.490175,"price":188.9,"sector":"Industrials","shares":71,"position":13411.9},{"rank":90,"ticker":"SCHW","momentum":3.7068247948,"atr":1.915255,"price":71.72,"sector":"Financials","shares":130,"position":9323.6},{"rank":91,"ticker":"PEP","momentum":3.6098684966,"atr":2.24675,"price":172.85,"sector":"Consumer Staples","shares":111,"position":19186.35},{"rank":92,"ticker":"SO","momentum":3.5654498248,"atr":1.1016,"price":78.77,"sector":"Utilities","shares":226,"position":17802.02},{"rank":93,"ticker":"MS","momentum":3.5435235459,"atr":1.85318,"price":86.17,"sector":"Financials","shares":134,"position":11546.78},{"rank":94,"ticker":"MMC","momentum":2.9466143726,"atr":2.49125,"price":162.57,"sector":"Financials","shares":100,"position":16257.0},{"rank":95,"ticker":"AFL","momentum":2.1721482454,"atr":1.05225,"price":59.52,"sector":"Financials","shares":237,"position":14106.24},{"rank":96,"ticker":"CTXS","momentum":2.0083608378,"atr":0.561,"price":102.95,"sector":"Information Technology","shares":445,"position":45812.75},{"rank":97,"ticker":"ED","momentum":1.8878745219,"atr":1.459,"price":99.44,"sector":"Utilities","shares":171,"position":17004.24},{"rank":98,"ticker":"CVS","momentum":1.6724140289,"atr":1.82981,"price":99.93,"sector":"Health Care","shares":136,"position":13590.48},{"rank":99,"ticker":"LNT","momentum":1.6246400299,"atr":1.01575,"price":62.06,"sector":"Utilities","shares":246,"position":15266.76},{"rank":100,"ticker":"RF","momentum":1.3129558331,"atr":0.48223,"price":21.38,"sector":"Financials","shares":518,"position":11074.84},{"rank":101,"ticker":"PFG","momentum":1.2254808183,"atr":1.8025,"price":74.68,"sector":"Financials","shares":138,"position":10305.84},{"rank":102,"ticker":"LOW","momentum":0.9826912071,"atr":5.684005,"price":195.76,"sector":"Consumer Discretionary","shares":43,"position":8417.68},{"rank":103,"ticker":"TEL","momentum":0.913873698,"atr":2.784435,"price":124.72,"sector":"Information Technology","shares":89,"position":11100.08},{"rank":104,"ticker":"PSA","momentum":0.9064661034,"atr":6.829,"price":337.78,"sector":"Real Estate","shares":36,"position":12160.08},{"rank":105,"ticker":"MLM","momentum":0.672553556,"atr":8.19925,"price":342.6,"sector":"Materials","shares":30,"position":10278.0},{"rank":106,"ticker":"CNP","momentum":0.6515688013,"atr":0.565995,"price":31.95,"sector":"Utilities","shares":441,"position":14089.95},{"rank":107,"ticker":"CF","momentum":0.6498896281,"atr":3.94199,"price":102.42,"sector":"Materials","shares":63,"position":6452.46},{"rank":108,"ticker":"ATO","momentum":0.5749528791,"atr":1.66,"price":114.78,"sector":"Utilities","shares":150,"position":17217.0},{"rank":109,"ticker":"WEC","momentum":0.5738558708,"atr":1.530945,"price":104.65,"sector":"Utilities","shares":163,"position":17057.95},{"rank":110,"ticker":"DIS","momentum":0.4732137355,"atr":3.452945,"price":112.53,"sector":"Communication Services","shares":72,"position":8102.16},{"rank":111,"ticker":"XOM","momentum":0.4597930021,"atr":2.749225,"price":93.87,"sector":"Energy","shares":90,"position":8448.3},{"rank":112,"ticker":"ULTA","momentum":0.4473222253,"atr":11.0016,"price":424.25,"sector":"Consumer Discretionary","shares":22,"position":9333.5},{"rank":113,"ticker":"SNA","momentum":0.3501617952,"atr":3.81394,"price":215.0,"sector":"Industrials","shares":65,"position":13975.0},{"rank":114,"ticker":"CTVA","momentum":0.3161271552,"atr":1.3328,"price":60.81,"sector":"Materials","shares":187,"position":11371.47},{"rank":115,"ticker":"GILD","momentum":0.2793243656,"atr":1.168215,"price":64.95,"sector":"Health Care","shares":214,"position":13899.3},{"rank":116,"ticker":"HBAN","momentum":0.2553582399,"atr":0.289085,"price":13.37,"sector":"Financials","shares":864,"position":11551.68},{"rank":117,"ticker":"SJM","momentum":0.2156111091,"atr":2.521645,"price":141.99,"sector":"Consumer Staples","shares":99,"position":14057.01},{"rank":118,"ticker":"SRE","momentum":0.1989634139,"atr":2.521605,"price":168.01,"sector":"Utilities","shares":99,"position":16632.99},{"rank":119,"ticker":"PNW","momentum":0.1445831494,"atr":1.1746,"price":75.94,"sector":"Utilities","shares":212,"position":16099.28},{"rank":120,"ticker":"UNP","momentum":0.1352141564,"atr":4.1241,"price":226.06,"sector":"Industrials","shares":60,"position":13563.6},{"rank":121,"ticker":"STZ","momentum":0.1337927914,"atr":4.93491,"price":247.52,"sector":"Consumer Staples","shares":50,"position":12376.0},{"rank":122,"ticker":"EVRG","momentum":0.1300815311,"atr":1.079555,"price":69.74,"sector":"Utilities","shares":231,"position":16109.94},{"rank":123,"ticker":"AMP","momentum":0.1290134135,"atr":5.93495,"price":269.18,"sector":"Financials","shares":42,"position":11305.56},{"rank":124,"ticker":"CAG","momentum":0.12887953,"atr":0.53725,"price":34.3,"sector":"Consumer Staples","shares":465,"position":15949.5},{"rank":125,"ticker":"AME","momentum":0.1055443971,"atr":2.08022,"price":120.43,"sector":"Industrials","shares":120,"position":14451.6},{"rank":126,"ticker":"PPL","momentum":0.0787623849,"atr":0.51075,"price":29.28,"sector":"Utilities","shares":489,"position":14317.92},{"rank":127,"ticker":"AEP","momentum":0.06350443,"atr":1.66898,"price":102.38,"sector":"Utilities","shares":149,"position":15254.62},{"rank":128,"ticker":"ES","momentum":0.052780223,"atr":1.37422,"price":90.87,"sector":"Utilities","shares":181,"position":16447.47},{"rank":129,"ticker":"NTAP","momentum":0.0519038136,"atr":2.018,"price":72.16,"sector":"Information Technology","shares":123,"position":8875.68},{"rank":130,"ticker":"DTE","momentum":0.0463980597,"atr":1.875,"price":132.74,"sector":"Utilities","shares":133,"position":17654.42},{"rank":131,"ticker":"BDX","momentum":0.0430188462,"atr":4.60537,"price":255.25,"sector":"Health Care","shares":54,"position":13783.5},{"rank":132,"ticker":"GPN","momentum":0.0404568026,"atr":2.98089,"price":124.85,"sector":"Information Technology","shares":83,"position":10362.55},{"rank":133,"ticker":"WFC","momentum":0.0371719849,"atr":1.0135,"price":43.7,"sector":"Financials","shares":246,"position":10750.2},{"rank":134,"ticker":"BSX","momentum":0.0337321784,"atr":0.69125,"price":40.99,"sector":"Health Care","shares":361,"position":14797.39},{"rank":135,"ticker":"XEL","momentum":0.0308281067,"atr":1.113,"price":75.42,"sector":"Utilities","shares":224,"position":16894.08},{"rank":136,"ticker":"VMC","momentum":0.0216161619,"atr":3.722385,"price":166.22,"sector":"Materials","shares":67,"position":11136.74},{"rank":137,"ticker":"AEE","momentum":0.0036838808,"atr":1.49105,"price":93.86,"sector":"Utilities","shares":167,"position":15674.62},{"rank":138,"ticker":"MPC","momentum":0.0024657682,"atr":2.833395,"price":96.76,"sector":"Energy","shares":88,"position":8514.88},{"rank":139,"ticker":"DRI","momentum":0.0023157794,"atr":3.10825,"price":125.93,"sector":"Consumer Discretionary","shares":80,"position":10074.4},{"rank":140,"ticker":"BWA","momentum":0.0011643544,"atr":1.0124,"price":37.37,"sector":"Consumer Discretionary","shares":246,"position":9193.02},{"rank":141,"ticker":"EIX","momentum":0.0001280806,"atr":1.270255,"price":68.27,"sector":"Utilities","shares":196,"position":13380.92},{"rank":142,"ticker":"JCI","momentum":0.0000034843,"atr":1.4471,"price":55.65,"sector":"Industrials","shares":172,"position":9571.8},{"rank":143,"ticker":"D","momentum":0.0000000001,"atr":1.36925,"price":82.36,"sector":"Utilities","shares":182,"position":14989.52},{"rank":144,"ticker":"HON","momentum":-0.0001463965,"atr":3.127275,"price":190.73,"sector":"Industrials","shares":79,"position":15067.67},{"rank":145,"ticker":"GM","momentum":-0.0002387427,"atr":1.3007,"price":38.56,"sector":"Consumer Discretionary","shares":192,"position":7403.52},{"rank":146,"ticker":"ETR","momentum":-0.0066282316,"atr":1.9786,"price":117.02,"sector":"Utilities","shares":126,"position":14744.52},{"rank":147,"ticker":"IRM","momentum":-0.022784554,"atr":1.3227,"price":53.27,"sector":"Real Estate","shares":189,"position":10068.03},{"rank":148,"ticker":"EXPD","momentum":-0.0450992895,"atr":2.0145,"price":103.81,"sector":"Industrials","shares":124,"position":12872.44},{"rank":149,"ticker":"MET","momentum":-0.0792689684,"atr":1.25375,"price":64.84,"sector":"Financials","shares":199,"position":12903.16},{"rank":150,"ticker":"COP","momentum":-0.1586692666,"atr":3.63346,"price":107.53,"sector":"Energy","shares":68,"position":7312.04},{"rank":151,"ticker":"DVN","momentum":-0.4073266101,"atr":3.09239,"price":68.16,"sector":"Energy","shares":80,"position":5452.8},{"rank":152,"ticker":"NRG","momentum":-0.4238829678,"atr":0.942265,"price":41.16,"sector":"Utilities","shares":265,"position":10907.4},{"rank":153,"ticker":"ADM","momentum":-0.7935702099,"atr":1.877585,"price":87.58,"sector":"Consumer Staples","shares":133,"position":11648.14},{"rank":154,"ticker":"ELV","momentum":-0.9352309924,"atr":9.9245,"price":490.17,"sector":"Health Care","shares":25,"position":12254.25},{"rank":155,"ticker":"WMT","momentum":-1.3683067784,"atr":2.63579,"price":134.48,"sector":"Consumer Staples","shares":94,"position":12641.12},{"rank":156,"ticker":"CTRA","momentum":-1.5280977688,"atr":1.1623,"price":30.23,"sector":"Energy","shares":215,"position":6499.45}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

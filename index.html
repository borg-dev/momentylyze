<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"CF","momentum":231.854691321,"atr":6.32645,"price":95.79,"sector":"Materials","shares":39,"position":3735.81},{"rank":2,"ticker":"VLO","momentum":222.8351508528,"atr":6.01034,"price":122.98,"sector":"Energy","shares":41,"position":5042.18},{"rank":3,"ticker":"CTRA","momentum":214.7638249515,"atr":1.56006,"price":30.69,"sector":"Energy","shares":160,"position":4910.4},{"rank":4,"ticker":"MCK","momentum":124.5216292045,"atr":10.0364,"price":322.86,"sector":"Health Care","shares":24,"position":7748.64},{"rank":5,"ticker":"DVN","momentum":111.4408097209,"atr":3.920785,"price":69.92,"sector":"Energy","shares":63,"position":4404.96},{"rank":6,"ticker":"CEG","momentum":109.1602409789,"atr":2.912775,"price":56.65,"sector":"Utilities","shares":85,"position":4815.25},{"rank":7,"ticker":"MPC","momentum":107.3021640126,"atr":3.832415,"price":96.56,"sector":"Energy","shares":65,"position":6276.4},{"rank":8,"ticker":"CVX","momentum":101.1134876189,"atr":6.2765,"price":167.82,"sector":"Energy","shares":39,"position":6544.98},{"rank":9,"ticker":"LLY","momentum":87.0478486875,"atr":9.827655,"price":298.85,"sector":"Health Care","shares":25,"position":7471.25},{"rank":10,"ticker":"SRE","momentum":84.0585390041,"atr":3.992155,"price":160.11,"sector":"Utilities","shares":62,"position":9926.82},{"rank":11,"ticker":"ADM","momentum":82.2076467633,"atr":3.28181,"price":84.0,"sector":"Consumer Staples","shares":76,"position":6384.0},{"rank":12,"ticker":"BMY","momentum":81.4445619667,"atr":1.658,"price":76.19,"sector":"Health Care","shares":150,"position":11428.5},{"rank":13,"ticker":"WMB","momentum":80.9505803686,"atr":1.2105,"price":35.38,"sector":"Energy","shares":206,"position":7288.28},{"rank":14,"ticker":"AIZ","momentum":80.0815843817,"atr":5.09175,"price":176.17,"sector":"Financials","shares":49,"position":8632.33},{"rank":15,"ticker":"WRB","momentum":76.8424465367,"atr":1.80279,"price":66.48,"sector":"Financials","shares":138,"position":9174.24},{"rank":16,"ticker":"HAL","momentum":70.7157342253,"atr":1.95305,"price":36.7,"sector":"Energy","shares":128,"position":4697.6},{"rank":17,"ticker":"CTVA","momentum":68.7656607344,"atr":1.894605,"price":59.23,"sector":"Materials","shares":131,"position":7759.13},{"rank":18,"ticker":"EXC","momentum":62.4731092645,"atr":1.256135,"price":47.15,"sector":"Utilities","shares":199,"position":9382.85},{"rank":19,"ticker":"XOM","momentum":58.5152610478,"atr":3.45775,"price":91.86,"sector":"Energy","shares":72,"position":6613.92},{"rank":20,"ticker":"PXD","momentum":55.535316161,"atr":11.88421,"price":266.48,"sector":"Energy","shares":21,"position":5596.08},{"rank":21,"ticker":"ABC","momentum":54.939372193,"atr":4.95725,"price":150.18,"sector":"Health Care","shares":50,"position":7509.0},{"rank":22,"ticker":"BKR","momentum":54.1034481052,"atr":1.60983,"price":34.55,"sector":"Energy","shares":155,"position":5355.25},{"rank":23,"ticker":"ED","momentum":51.445784024,"atr":2.29825,"price":95.81,"sector":"Utilities","shares":108,"position":10347.48},{"rank":24,"ticker":"NOC","momentum":47.7236809288,"atr":12.1153,"price":443.33,"sector":"Industrials","shares":20,"position":8866.6},{"rank":25,"ticker":"CNP","momentum":47.6056537089,"atr":0.73925,"price":30.58,"sector":"Utilities","shares":338,"position":10336.04},{"rank":26,"ticker":"DOW","momentum":45.7319386997,"atr":2.049045,"price":68.11,"sector":"Materials","shares":122,"position":8309.42},{"rank":27,"ticker":"COP","momentum":42.84487533,"atr":5.1345,"price":105.02,"sector":"Energy","shares":48,"position":5040.96},{"rank":28,"ticker":"AEP","momentum":42.6233357962,"atr":2.543,"price":99.7,"sector":"Utilities","shares":98,"position":9770.6},{"rank":29,"ticker":"LMT","momentum":42.2395106552,"atr":10.69635,"price":424.15,"sector":"Industrials","shares":23,"position":9755.45},{"rank":30,"ticker":"ANTM","momentum":40.2139967869,"atr":14.63875,"price":492.85,"sector":"Health Care","shares":17,"position":8378.45},{"rank":31,"ticker":"LDOS","momentum":37.3555981346,"atr":2.6057,"price":100.6,"sector":"Industrials","shares":95,"position":9557.0},{"rank":32,"ticker":"MRK","momentum":35.564082576,"atr":2.18901,"price":93.55,"sector":"Health Care","shares":114,"position":10664.7},{"rank":33,"ticker":"HST","momentum":34.9575474687,"atr":0.979815,"price":18.61,"sector":"Real Estate","shares":255,"position":4745.55},{"rank":34,"ticker":"DTE","momentum":34.7212168038,"atr":2.970495,"price":128.72,"sector":"Utilities","shares":84,"position":10812.48},{"rank":35,"ticker":"CI","momentum":33.8980607616,"atr":7.7121,"price":259.49,"sector":"Health Care","shares":32,"position":8303.68},{"rank":36,"ticker":"SO","momentum":30.7978537295,"atr":1.76326,"price":73.41,"sector":"Utilities","shares":141,"position":10350.81},{"rank":37,"ticker":"ABBV","momentum":30.4474233858,"atr":4.62486,"price":151.01,"sector":"Health Care","shares":54,"position":8154.54},{"rank":38,"ticker":"CMS","momentum":30.2185771459,"atr":1.590545,"price":68.83,"sector":"Utilities","shares":157,"position":10806.31},{"rank":39,"ticker":"TMUS","momentum":30.2128464518,"atr":4.494745,"price":126.04,"sector":"Communication Services","shares":55,"position":6932.2},{"rank":40,"ticker":"VRTX","momentum":28.789203433,"atr":9.470245,"price":258.59,"sector":"Health Care","shares":26,"position":6723.34},{"rank":41,"ticker":"XEL","momentum":27.6002604066,"atr":1.7436,"price":74.22,"sector":"Utilities","shares":143,"position":10613.46},{"rank":42,"ticker":"ETR","momentum":26.0046780195,"atr":3.016,"price":116.98,"sector":"Utilities","shares":82,"position":9592.36},{"rank":43,"ticker":"LYB","momentum":25.5298461921,"atr":3.78375,"price":107.87,"sector":"Materials","shares":66,"position":7119.42},{"rank":44,"ticker":"KMI","momentum":25.0106664372,"atr":0.613,"price":19.03,"sector":"Energy","shares":407,"position":7745.21},{"rank":45,"ticker":"AEE","momentum":23.169811032,"atr":1.97813,"price":92.64,"sector":"Utilities","shares":126,"position":11672.64},{"rank":46,"ticker":"DUK","momentum":22.7363913441,"atr":2.652135,"price":109.83,"sector":"Utilities","shares":94,"position":10324.02},{"rank":47,"ticker":"HSIC","momentum":22.6059087147,"atr":2.59025,"price":83.45,"sector":"Health Care","shares":96,"position":8011.2},{"rank":48,"ticker":"WEC","momentum":21.2457905133,"atr":2.475295,"price":103.55,"sector":"Utilities","shares":100,"position":10355.0},{"rank":49,"ticker":"ROL","momentum":20.4924436172,"atr":1.135805,"price":35.28,"sector":"Industrials","shares":220,"position":7761.6},{"rank":50,"ticker":"BALL","momentum":18.8062942938,"atr":0.1,"price":68.98,"sector":"Materials","shares":2500,"position":172450.0},{"rank":51,"ticker":"VTR","momentum":18.4084943032,"atr":1.66875,"price":56.52,"sector":"Real Estate","shares":149,"position":8421.48},{"rank":52,"ticker":"JNJ","momentum":17.0550655474,"atr":3.29832,"price":176.98,"sector":"Health Care","shares":75,"position":13273.5},{"rank":53,"ticker":"AMGN","momentum":16.4105133966,"atr":5.964195,"price":247.5,"sector":"Health Care","shares":41,"position":10147.5},{"rank":54,"ticker":"J","momentum":14.5403410243,"atr":4.496,"price":135.94,"sector":"Industrials","shares":55,"position":7476.7},{"rank":55,"ticker":"EVRG","momentum":14.0737398427,"atr":1.664805,"price":67.43,"sector":"Utilities","shares":150,"position":10114.5},{"rank":56,"ticker":"NI","momentum":13.3985037277,"atr":0.68165,"price":30.28,"sector":"Utilities","shares":366,"position":11082.48},{"rank":57,"ticker":"D","momentum":13.3021703156,"atr":2.03263,"price":82.54,"sector":"Utilities","shares":122,"position":10069.88},{"rank":58,"ticker":"L","momentum":13.1886286435,"atr":1.680115,"price":62.79,"sector":"Financials","shares":148,"position":9292.92},{"rank":59,"ticker":"PNW","momentum":12.9255485905,"atr":1.973695,"price":75.31,"sector":"Utilities","shares":126,"position":9489.06},{"rank":60,"ticker":"HOLX","momentum":12.3565111515,"atr":2.18175,"price":77.75,"sector":"Health Care","shares":114,"position":8863.5},{"rank":61,"ticker":"REGN","momentum":12.129954609,"atr":19.80906,"price":661.14,"sector":"Health Care","shares":12,"position":7933.68},{"rank":62,"ticker":"CPB","momentum":11.2951690378,"atr":1.485,"price":46.03,"sector":"Consumer Staples","shares":168,"position":7733.04},{"rank":63,"ticker":"K","momentum":11.1817475775,"atr":2.116235,"price":67.74,"sector":"Consumer Staples","shares":118,"position":7993.32},{"rank":64,"ticker":"INCY","momentum":6.8342192167,"atr":2.52249,"price":74.88,"sector":"Health Care","shares":99,"position":7413.12},{"rank":65,"ticker":"RSG","momentum":6.8045303636,"atr":3.737745,"price":129.45,"sector":"Industrials","shares":66,"position":8543.7},{"rank":66,"ticker":"CERN","momentum":6.6702100771,"atr":0.35045,"price":93.93,"sector":"Health Care","shares":713,"position":66972.09},{"rank":67,"ticker":"SLB","momentum":6.4475061176,"atr":2.21325,"price":41.12,"sector":"Energy","shares":112,"position":4605.44},{"rank":68,"ticker":"ES","momentum":5.852349447,"atr":2.250285,"price":90.37,"sector":"Utilities","shares":111,"position":10031.07},{"rank":69,"ticker":"CNC","momentum":3.4031925523,"atr":3.07275,"price":84.96,"sector":"Health Care","shares":81,"position":6881.76},{"rank":70,"ticker":"PGR","momentum":2.1247888611,"atr":3.27725,"price":110.99,"sector":"Financials","shares":76,"position":8435.24},{"rank":71,"ticker":"AMCR","momentum":1.5633029988,"atr":0.43929,"price":12.93,"sector":"Materials","shares":569,"position":7357.17},{"rank":72,"ticker":"PSX","momentum":1.3273223691,"atr":3.94825,"price":93.79,"sector":"Energy","shares":63,"position":5908.77},{"rank":73,"ticker":"CCI","momentum":1.1480102248,"atr":5.08575,"price":182.2,"sector":"Real Estate","shares":49,"position":8927.8},{"rank":74,"ticker":"OGN","momentum":0.8729307334,"atr":1.29224,"price":37.64,"sector":"Health Care","shares":193,"position":7264.52},{"rank":75,"ticker":"T","momentum":0.7575768981,"atr":0.49663,"price":20.4,"sector":"Communication Services","shares":503,"position":10261.2},{"rank":76,"ticker":"NRG","momentum":0.3879565343,"atr":1.442,"price":45.72,"sector":"Utilities","shares":173,"position":7909.56},{"rank":77,"ticker":"IP","momentum":0.0542243784,"atr":1.39825,"price":47.48,"sector":"Materials","shares":178,"position":8451.44},{"rank":78,"ticker":"LIN","momentum":0.023709899,"atr":8.81062,"price":315.18,"sector":"Materials","shares":28,"position":8825.04},{"rank":79,"ticker":"DGX","momentum":0.0187288251,"atr":3.894375,"price":141.03,"sector":"Health Care","shares":64,"position":9025.92},{"rank":80,"ticker":"PPL","momentum":0.0017652188,"atr":0.635695,"price":29.2,"sector":"Utilities","shares":393,"position":11475.6},{"rank":81,"ticker":"MNST","momentum":-0.0000783389,"atr":2.9892,"price":87.63,"sector":"Consumer Staples","shares":83,"position":7273.29},{"rank":82,"ticker":"WDC","momentum":-0.1967337216,"atr":2.89151,"price":56.81,"sector":"Information Technology","shares":86,"position":4885.66},{"rank":83,"ticker":"PM","momentum":-0.235686218,"atr":2.82918,"price":101.15,"sector":"Consumer Staples","shares":88,"position":8901.2},{"rank":84,"ticker":"ADI","momentum":-0.6055153963,"atr":6.225865,"price":162.44,"sector":"Information Technology","shares":40,"position":6497.6},{"rank":85,"ticker":"PFE","momentum":-0.9140728733,"atr":1.54499,"price":52.47,"sector":"Health Care","shares":161,"position":8447.67},{"rank":86,"ticker":"GILD","momentum":-6.3839414987,"atr":1.347245,"price":63.84,"sector":"Health Care","shares":185,"position":11810.4},{"rank":87,"ticker":"CE","momentum":-8.4410909009,"atr":6.07167,"price":150.73,"sector":"Materials","shares":41,"position":6179.93},{"rank":88,"ticker":"EA","momentum":-13.5415493939,"atr":4.828855,"price":130.76,"sector":"Communication Services","shares":51,"position":6668.76}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

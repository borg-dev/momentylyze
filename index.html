<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"F","momentum":388.1675942861,"atr":1.09138,"price":20.65,"sector":"Consumer Discretionary","shares":229,"position":4728.85},{"rank":2,"ticker":"QCOM","momentum":206.8754476455,"atr":6.26014,"price":164.93,"sector":"Information Technology","shares":39,"position":6432.27},{"rank":3,"ticker":"HPQ","momentum":200.8224668144,"atr":0.83221,"price":34.86,"sector":"Information Technology","shares":300,"position":10458.0},{"rank":4,"ticker":"PFE","momentum":151.6251168512,"atr":1.591765,"price":52.79,"sector":"Health Care","shares":157,"position":8288.03},{"rank":5,"ticker":"MU","momentum":132.0278433083,"atr":3.37046,"price":81.93,"sector":"Information Technology","shares":74,"position":6062.82},{"rank":6,"ticker":"AOS","momentum":121.3678346366,"atr":2.001305,"price":76.82,"sector":"Industrials","shares":124,"position":9525.68},{"rank":7,"ticker":"DVN","momentum":116.5916290526,"atr":2.028135,"price":46.12,"sector":"Energy","shares":123,"position":5672.76},{"rank":8,"ticker":"CNC","momentum":114.5990191177,"atr":1.993265,"price":77.14,"sector":"Health Care","shares":125,"position":9642.5},{"rank":9,"ticker":"ABBV","momentum":113.5365622353,"atr":2.18532,"price":131.98,"sector":"Health Care","shares":114,"position":15045.72},{"rank":10,"ticker":"CHD","momentum":108.7724913581,"atr":1.828705,"price":103.4,"sector":"Consumer Staples","shares":136,"position":14062.4},{"rank":11,"ticker":"GWW","momentum":105.5787663826,"atr":11.91825,"price":492.95,"sector":"Industrials","shares":20,"position":9859.0},{"rank":12,"ticker":"JNPR","momentum":100.9163111977,"atr":0.74705,"price":32.87,"sector":"Information Technology","shares":334,"position":10978.58},{"rank":13,"ticker":"MCK","momentum":98.466103875,"atr":5.091745,"price":246.62,"sector":"Health Care","shares":49,"position":12084.38},{"rank":14,"ticker":"CVS","momentum":94.8636655042,"atr":1.798215,"price":101.56,"sector":"Health Care","shares":139,"position":14116.84},{"rank":15,"ticker":"VRTX","momentum":92.0579957098,"atr":4.26675,"price":228.08,"sector":"Health Care","shares":58,"position":13228.64},{"rank":16,"ticker":"DRE","momentum":91.7302123792,"atr":1.331735,"price":57.63,"sector":"Real Estate","shares":187,"position":10776.81},{"rank":17,"ticker":"AZO","momentum":88.8748186064,"atr":47.940345,"price":1942.17,"sector":"Consumer Discretionary","shares":5,"position":9710.85},{"rank":18,"ticker":"AAPL","momentum":86.782914081,"atr":3.689745,"price":162.41,"sector":"Information Technology","shares":67,"position":10881.47},{"rank":19,"ticker":"CERN","momentum":86.3393022964,"atr":0.5168,"price":91.7,"sector":"Health Care","shares":483,"position":44291.1},{"rank":20,"ticker":"PLD","momentum":85.2585576901,"atr":3.436,"price":155.43,"sector":"Real Estate","shares":72,"position":11190.96},{"rank":21,"ticker":"FCX","momentum":76.5774042772,"atr":1.50072,"price":40.99,"sector":"Materials","shares":166,"position":6804.34},{"rank":22,"ticker":"APA","momentum":76.0851936999,"atr":1.45079,"price":30.1,"sector":"Energy","shares":172,"position":5177.2},{"rank":23,"ticker":"CVX","momentum":73.944822504,"atr":2.148135,"price":126.91,"sector":"Energy","shares":116,"position":14721.56},{"rank":24,"ticker":"CHRW","momentum":72.0233203269,"atr":2.49882,"price":104.98,"sector":"Industrials","shares":100,"position":10498.0},{"rank":25,"ticker":"CF","momentum":70.6403133421,"atr":2.51964,"price":66.0,"sector":"Materials","shares":99,"position":6534.0},{"rank":26,"ticker":"SEE","momentum":69.327110715,"atr":1.39562,"price":66.77,"sector":"Materials","shares":179,"position":11951.83},{"rank":27,"ticker":"PSA","momentum":69.1467974834,"atr":6.823,"price":353.35,"sector":"Real Estate","shares":36,"position":12720.6},{"rank":28,"ticker":"SBNY","momentum":67.8059538651,"atr":13.011785,"price":326.33,"sector":"Financials","shares":19,"position":6200.27},{"rank":29,"ticker":"MAS","momentum":66.8625797877,"atr":1.527385,"price":64.26,"sector":"Industrials","shares":163,"position":10474.38},{"rank":30,"ticker":"FMC","momentum":64.9595367976,"atr":2.231125,"price":108.85,"sector":"Materials","shares":112,"position":12191.2},{"rank":31,"ticker":"EMN","momentum":64.8678994696,"atr":2.765,"price":120.09,"sector":"Materials","shares":90,"position":10808.1},{"rank":32,"ticker":"HRL","momentum":64.8098895122,"atr":0.701535,"price":49.13,"sector":"Consumer Staples","shares":356,"position":17490.28},{"rank":33,"ticker":"UNP","momentum":63.1715426401,"atr":4.8019,"price":246.33,"sector":"Industrials","shares":52,"position":12809.16},{"rank":34,"ticker":"KR","momentum":62.2265171755,"atr":1.225495,"price":46.92,"sector":"Consumer Staples","shares":203,"position":9524.76},{"rank":35,"ticker":"STZ","momentum":61.7867670066,"atr":4.853555,"price":241.01,"sector":"Consumer Staples","shares":51,"position":12291.51},{"rank":36,"ticker":"SJM","momentum":61.614569849,"atr":2.416535,"price":143.22,"sector":"Consumer Staples","shares":103,"position":14751.66},{"rank":37,"ticker":"SCHW","momentum":59.0457923692,"atr":2.30319,"price":89.2,"sector":"Financials","shares":108,"position":9633.6},{"rank":38,"ticker":"ED","momentum":58.9813528454,"atr":1.31812,"price":82.66,"sector":"Utilities","shares":189,"position":15622.74},{"rank":39,"ticker":"ATO","momentum":58.3588523868,"atr":1.707425,"price":104.59,"sector":"Utilities","shares":146,"position":15270.14},{"rank":40,"ticker":"CME","momentum":58.275255823,"atr":3.884745,"price":225.91,"sector":"Financials","shares":64,"position":14458.24},{"rank":41,"ticker":"FFIV","momentum":57.90255637,"atr":6.49428,"price":221.26,"sector":"Information Technology","shares":38,"position":8407.88},{"rank":42,"ticker":"PHM","momentum":56.8655653907,"atr":1.70524,"price":51.51,"sector":"Consumer Discretionary","shares":146,"position":7520.46},{"rank":43,"ticker":"TSN","momentum":55.5831271528,"atr":1.527495,"price":89.93,"sector":"Consumer Staples","shares":163,"position":14658.59},{"rank":44,"ticker":"PGR","momentum":55.0504248013,"atr":1.901705,"price":108.02,"sector":"Financials","shares":131,"position":14150.62},{"rank":45,"ticker":"UNH","momentum":55.0354058695,"atr":9.771745,"price":461.17,"sector":"Health Care","shares":25,"position":11529.25},{"rank":46,"ticker":"DD","momentum":54.3560842354,"atr":1.801,"price":77.47,"sector":"Materials","shares":138,"position":10690.86},{"rank":47,"ticker":"MKC","momentum":53.8526728053,"atr":1.52725,"price":95.71,"sector":"Consumer Staples","shares":163,"position":15600.73},{"rank":48,"ticker":"ANTM","momentum":53.697470755,"atr":9.54075,"price":441.56,"sector":"Health Care","shares":26,"position":11480.56},{"rank":49,"ticker":"NI","momentum":52.1079218353,"atr":0.4025,"price":27.53,"sector":"Utilities","shares":621,"position":17096.13},{"rank":50,"ticker":"CTSH","momentum":50.7402491556,"atr":1.7265,"price":84.26,"sector":"Information Technology","shares":144,"position":12133.44},{"rank":51,"ticker":"PG","momentum":49.8292600884,"atr":2.689905,"price":162.62,"sector":"Consumer Staples","shares":92,"position":14961.04},{"rank":52,"ticker":"GIS","momentum":48.3194063578,"atr":1.08923,"price":69.03,"sector":"Consumer Staples","shares":229,"position":15807.87},{"rank":53,"ticker":"EXC","momentum":48.0646016861,"atr":0.981945,"price":56.77,"sector":"Utilities","shares":254,"position":14419.58},{"rank":54,"ticker":"EIX","momentum":47.4325783493,"atr":1.191795,"price":62.98,"sector":"Utilities","shares":209,"position":13162.82},{"rank":55,"ticker":"ITW","momentum":47.3761766786,"atr":3.92312,"price":237.45,"sector":"Industrials","shares":63,"position":14959.35},{"rank":56,"ticker":"PEP","momentum":46.4867953257,"atr":2.14918,"price":174.22,"sector":"Consumer Staples","shares":116,"position":20209.52},{"rank":57,"ticker":"FE","momentum":46.4676563954,"atr":0.59525,"price":41.33,"sector":"Utilities","shares":419,"position":17317.27},{"rank":58,"ticker":"JBHT","momentum":45.9757399205,"atr":5.026185,"price":198.95,"sector":"Industrials","shares":49,"position":9748.55},{"rank":59,"ticker":"IR","momentum":42.5834248028,"atr":1.3968,"price":57.27,"sector":"Industrials","shares":178,"position":10194.06},{"rank":60,"ticker":"PFG","momentum":41.2812635692,"atr":1.677845,"price":72.0,"sector":"Financials","shares":149,"position":10728.0},{"rank":61,"ticker":"HPE","momentum":40.3475301031,"atr":0.424615,"price":16.14,"sector":"Information Technology","shares":588,"position":9490.32},{"rank":62,"ticker":"EOG","momentum":39.4463479661,"atr":3.31169,"price":100.63,"sector":"Energy","shares":75,"position":7547.25},{"rank":63,"ticker":"AFL","momentum":39.1969997467,"atr":1.06288,"price":60.86,"sector":"Financials","shares":235,"position":14302.1},{"rank":64,"ticker":"AVB","momentum":38.1969317411,"atr":4.25397,"price":242.0,"sector":"Real Estate","shares":58,"position":14036.0},{"rank":65,"ticker":"WY","momentum":38.0346220137,"atr":0.92954,"price":38.01,"sector":"Real Estate","shares":268,"position":10186.68},{"rank":66,"ticker":"HSY","momentum":37.4531184122,"atr":2.74699,"price":200.35,"sector":"Consumer Staples","shares":91,"position":18231.85},{"rank":67,"ticker":"AMP","momentum":35.4468021069,"atr":7.518,"price":299.38,"sector":"Financials","shares":33,"position":9879.54},{"rank":68,"ticker":"AME","momentum":35.3999949146,"atr":2.99971,"price":136.42,"sector":"Industrials","shares":83,"position":11322.86},{"rank":69,"ticker":"UDR","momentum":33.9404115544,"atr":1.05929,"price":56.33,"sector":"Real Estate","shares":236,"position":13293.88},{"rank":70,"ticker":"MDLZ","momentum":33.4785885045,"atr":0.945055,"price":68.36,"sector":"Consumer Staples","shares":264,"position":18047.04},{"rank":71,"ticker":"NSC","momentum":32.9469531642,"atr":6.111325,"price":276.42,"sector":"Industrials","shares":40,"position":11056.8},{"rank":72,"ticker":"CTVA","momentum":32.7684654719,"atr":1.03425,"price":45.44,"sector":"Materials","shares":241,"position":10951.04},{"rank":73,"ticker":"CMA","momentum":32.444323679,"atr":2.690125,"price":89.7,"sector":"Financials","shares":92,"position":8252.4},{"rank":74,"ticker":"CI","momentum":32.2771550069,"atr":5.240305,"price":236.25,"sector":"Health Care","shares":47,"position":11103.75},{"rank":75,"ticker":"CL","momentum":30.9094174426,"atr":1.176495,"price":83.67,"sector":"Consumer Staples","shares":212,"position":17738.04},{"rank":76,"ticker":"KIM","momentum":30.5216497555,"atr":0.555465,"price":23.69,"sector":"Real Estate","shares":450,"position":10660.5},{"rank":77,"ticker":"WRB","momentum":29.8897845761,"atr":1.66498,"price":82.54,"sector":"Financials","shares":150,"position":12381.0},{"rank":78,"ticker":"EQR","momentum":29.7800189542,"atr":1.560445,"price":88.06,"sector":"Real Estate","shares":160,"position":14089.6},{"rank":79,"ticker":"AAP","momentum":29.7147980523,"atr":5.599955,"price":226.15,"sector":"Consumer Discretionary","shares":44,"position":9950.6},{"rank":80,"ticker":"PXD","momentum":29.6906509407,"atr":5.775455,"price":206.91,"sector":"Energy","shares":43,"position":8897.13},{"rank":81,"ticker":"COP","momentum":29.4864263904,"atr":2.337705,"price":82.72,"sector":"Energy","shares":106,"position":8768.32},{"rank":82,"ticker":"CNP","momentum":28.6883318873,"atr":0.43475,"price":27.34,"sector":"Utilities","shares":575,"position":15720.5},{"rank":83,"ticker":"PCAR","momentum":28.5470962734,"atr":1.92576,"price":91.56,"sector":"Industrials","shares":129,"position":11811.24},{"rank":84,"ticker":"KO","momentum":28.3245028939,"atr":0.74659,"price":60.45,"sector":"Consumer Staples","shares":334,"position":20190.3},{"rank":85,"ticker":"BRK.B","momentum":27.3387632157,"atr":4.768565,"price":305.22,"sector":"Financials","shares":52,"position":15871.44},{"rank":86,"ticker":"DOV","momentum":27.1697293355,"atr":3.65225,"price":173.53,"sector":"Industrials","shares":68,"position":11800.04},{"rank":87,"ticker":"ADM","momentum":26.5188023829,"atr":1.127665,"price":68.94,"sector":"Consumer Staples","shares":221,"position":15235.74},{"rank":88,"ticker":"KEY","momentum":24.5756315584,"atr":0.6815,"price":24.79,"sector":"Financials","shares":366,"position":9073.14},{"rank":89,"ticker":"MCD","momentum":24.3780074478,"atr":3.415825,"price":254.59,"sector":"Consumer Discretionary","shares":73,"position":18585.07},{"rank":90,"ticker":"UPS","momentum":24.1044234746,"atr":4.13386,"price":201.95,"sector":"Industrials","shares":60,"position":12117.0},{"rank":91,"ticker":"BK","momentum":22.9615007847,"atr":1.487595,"price":57.18,"sector":"Financials","shares":168,"position":9606.24},{"rank":92,"ticker":"NEM","momentum":22.7746530246,"atr":1.43777,"price":63.09,"sector":"Materials","shares":173,"position":10914.57},{"rank":93,"ticker":"CLX","momentum":22.1045474599,"atr":3.05018,"price":178.6,"sector":"Consumer Staples","shares":81,"position":14466.6},{"rank":94,"ticker":"PH","momentum":21.57555449,"atr":7.060055,"price":313.48,"sector":"Industrials","shares":35,"position":10971.8},{"rank":95,"ticker":"XEL","momentum":21.3375609485,"atr":1.13118,"price":68.22,"sector":"Utilities","shares":221,"position":15076.62},{"rank":96,"ticker":"XOM","momentum":20.5271923846,"atr":1.5565,"price":72.17,"sector":"Energy","shares":160,"position":11547.2},{"rank":97,"ticker":"RJF","momentum":19.9090096089,"atr":2.73807,"price":98.16,"sector":"Financials","shares":91,"position":8932.56},{"rank":98,"ticker":"PEG","momentum":19.8295786658,"atr":1.0492,"price":65.44,"sector":"Utilities","shares":238,"position":15574.72},{"rank":99,"ticker":"MTB","momentum":19.6432699051,"atr":5.21712,"price":160.11,"sector":"Financials","shares":47,"position":7525.17},{"rank":100,"ticker":"AKAM","momentum":18.520896329,"atr":2.174895,"price":112.61,"sector":"Information Technology","shares":114,"position":12837.54},{"rank":101,"ticker":"WEC","momentum":18.2943020516,"atr":1.607455,"price":96.99,"sector":"Utilities","shares":155,"position":15033.45},{"rank":102,"ticker":"CB","momentum":18.2331009006,"atr":3.920615,"price":192.01,"sector":"Financials","shares":63,"position":12096.63},{"rank":103,"ticker":"FDX","momentum":17.9053921334,"atr":4.91783,"price":244.91,"sector":"Industrials","shares":50,"position":12245.5},{"rank":104,"ticker":"CAT","momentum":17.8039462198,"atr":4.72626,"price":214.09,"sector":"Industrials","shares":52,"position":11132.68},{"rank":105,"ticker":"STE","momentum":17.6815612044,"atr":5.72025,"price":227.68,"sector":"Health Care","shares":43,"position":9790.24},{"rank":106,"ticker":"WFC","momentum":17.1955304528,"atr":1.426415,"price":53.67,"sector":"Financials","shares":175,"position":9392.25},{"rank":107,"ticker":"AEE","momentum":16.9374216735,"atr":1.3267,"price":87.72,"sector":"Utilities","shares":188,"position":16491.36},{"rank":108,"ticker":"KMB","momentum":16.7448025696,"atr":2.163745,"price":143.32,"sector":"Consumer Staples","shares":115,"position":16481.8},{"rank":109,"ticker":"SO","momentum":16.5378974208,"atr":0.98228,"price":67.81,"sector":"Utilities","shares":254,"position":17223.74},{"rank":110,"ticker":"HLT","momentum":14.9612827533,"atr":3.67329,"price":142.26,"sector":"Consumer Discretionary","shares":68,"position":9673.68},{"rank":111,"ticker":"L","momentum":14.3302241681,"atr":1.056135,"price":58.15,"sector":"Financials","shares":236,"position":13723.4},{"rank":112,"ticker":"ABC","momentum":14.238960602,"atr":2.66746,"price":131.52,"sector":"Health Care","shares":93,"position":12231.36},{"rank":113,"ticker":"PBCT","momentum":13.7461044184,"atr":0.608,"price":18.53,"sector":"Financials","shares":411,"position":7615.83},{"rank":114,"ticker":"AEP","momentum":13.1228041428,"atr":1.335995,"price":89.97,"sector":"Utilities","shares":187,"position":16824.39},{"rank":115,"ticker":"FITB","momentum":13.1038203552,"atr":1.241,"price":45.04,"sector":"Financials","shares":201,"position":9053.04},{"rank":116,"ticker":"LNT","momentum":12.5299764462,"atr":1.013215,"price":59.76,"sector":"Utilities","shares":246,"position":14700.96},{"rank":117,"ticker":"CMS","momentum":12.3178981719,"atr":0.99975,"price":63.74,"sector":"Utilities","shares":250,"position":15935.0},{"rank":118,"ticker":"WBA","momentum":11.4931027473,"atr":1.15275,"price":52.5,"sector":"Consumer Staples","shares":216,"position":11340.0},{"rank":119,"ticker":"D","momentum":11.2815851818,"atr":1.234195,"price":79.31,"sector":"Utilities","shares":202,"position":16020.62},{"rank":120,"ticker":"CFG","momentum":11.1630775323,"atr":1.484045,"price":50.62,"sector":"Financials","shares":168,"position":8504.16},{"rank":121,"ticker":"ES","momentum":9.7711282756,"atr":1.689495,"price":87.11,"sector":"Utilities","shares":147,"position":12805.17},{"rank":122,"ticker":"ETR","momentum":9.5669137826,"atr":1.960285,"price":109.42,"sector":"Utilities","shares":127,"position":13896.34},{"rank":123,"ticker":"RE","momentum":9.0359768527,"atr":5.63625,"price":284.03,"sector":"Financials","shares":44,"position":12497.32},{"rank":124,"ticker":"DE","momentum":8.9356672093,"atr":9.07883,"price":364.28,"sector":"Industrials","shares":27,"position":9835.56},{"rank":125,"ticker":"MPC","momentum":8.9226883046,"atr":1.785505,"price":70.7,"sector":"Energy","shares":140,"position":9898.0},{"rank":126,"ticker":"AMGN","momentum":8.8142952631,"atr":3.89614,"price":227.72,"sector":"Health Care","shares":64,"position":14574.08},{"rank":127,"ticker":"HAL","momentum":8.5334115597,"atr":0.85979,"price":27.54,"sector":"Energy","shares":290,"position":7986.6},{"rank":128,"ticker":"PPL","momentum":7.9155451976,"atr":0.382245,"price":29.66,"sector":"Utilities","shares":654,"position":19397.64},{"rank":129,"ticker":"GL","momentum":7.4722502128,"atr":2.101215,"price":100.99,"sector":"Financials","shares":118,"position":11916.82},{"rank":130,"ticker":"BAC","momentum":6.6064150076,"atr":1.181615,"price":44.92,"sector":"Financials","shares":211,"position":9478.12},{"rank":131,"ticker":"CPB","momentum":6.1794513925,"atr":0.85598,"price":45.3,"sector":"Consumer Staples","shares":292,"position":13227.6},{"rank":132,"ticker":"BAX","momentum":5.8339568766,"atr":1.29275,"price":86.28,"sector":"Health Care","shares":193,"position":16652.04},{"rank":133,"ticker":"MAR","momentum":5.806336394,"atr":4.489595,"price":156.99,"sector":"Consumer Discretionary","shares":55,"position":8634.45},{"rank":134,"ticker":"GD","momentum":5.2004185653,"atr":3.32363,"price":206.54,"sector":"Industrials","shares":75,"position":15490.5},{"rank":135,"ticker":"INCY","momentum":4.6997127615,"atr":1.850195,"price":74.79,"sector":"Health Care","shares":135,"position":10096.65},{"rank":136,"ticker":"NOC","momentum":4.5152909452,"atr":6.575475,"price":398.81,"sector":"Industrials","shares":38,"position":15154.78},{"rank":137,"ticker":"BMY","momentum":4.4781572873,"atr":1.11607,"price":63.54,"sector":"Health Care","shares":224,"position":14232.96},{"rank":138,"ticker":"DUK","momentum":4.1608165168,"atr":1.510165,"price":102.98,"sector":"Utilities","shares":165,"position":16991.7},{"rank":139,"ticker":"K","momentum":3.4527190477,"atr":0.945565,"price":66.61,"sector":"Consumer Staples","shares":264,"position":17585.04},{"rank":140,"ticker":"SLB","momentum":3.3326113803,"atr":1.1495,"price":36.36,"sector":"Energy","shares":217,"position":7890.12},{"rank":141,"ticker":"PEAK","momentum":3.2884935634,"atr":0.5935,"price":35.04,"sector":"Real Estate","shares":421,"position":14751.84},{"rank":142,"ticker":"VLO","momentum":2.4471150994,"atr":2.18416,"price":79.29,"sector":"Energy","shares":114,"position":9039.06},{"rank":143,"ticker":"PSX","momentum":2.2996361818,"atr":2.25695,"price":83.44,"sector":"Energy","shares":110,"position":9178.4},{"rank":144,"ticker":"PRU","momentum":2.1784048462,"atr":2.38964,"price":110.01,"sector":"Financials","shares":104,"position":11441.04},{"rank":145,"ticker":"TAP","momentum":1.9821000363,"atr":1.2049,"price":48.62,"sector":"Consumer Staples","shares":207,"position":10064.34},{"rank":146,"ticker":"TFC","momentum":1.7208481112,"atr":1.57125,"price":61.47,"sector":"Financials","shares":159,"position":9773.73},{"rank":147,"ticker":"BDX","momentum":1.418307375,"atr":4.324995,"price":264.63,"sector":"Health Care","shares":57,"position":15083.91},{"rank":148,"ticker":"MOS","momentum":1.2950284141,"atr":1.380075,"price":39.31,"sector":"Materials","shares":181,"position":7115.11},{"rank":149,"ticker":"HST","momentum":1.2901189459,"atr":0.52725,"price":17.04,"sector":"Real Estate","shares":474,"position":8076.96},{"rank":150,"ticker":"SRE","momentum":1.1115504644,"atr":2.1352,"price":134.9,"sector":"Utilities","shares":117,"position":15783.3},{"rank":151,"ticker":"TRV","momentum":0.8531026937,"atr":3.305745,"price":162.61,"sector":"Financials","shares":75,"position":12195.75},{"rank":152,"ticker":"MA","momentum":0.8441348073,"atr":9.376015,"price":355.08,"sector":"Information Technology","shares":26,"position":9232.08},{"rank":153,"ticker":"LMT","momentum":0.5542930594,"atr":6.061,"price":371.2,"sector":"Industrials","shares":41,"position":15219.2},{"rank":154,"ticker":"WELL","momentum":0.543595374,"atr":2.02675,"price":87.51,"sector":"Real Estate","shares":123,"position":10763.73},{"rank":155,"ticker":"AIG","momentum":0.5104671115,"atr":1.412245,"price":57.32,"sector":"Financials","shares":177,"position":10145.64},{"rank":156,"ticker":"HWM","momentum":0.493862133,"atr":0.886855,"price":32.63,"sector":"Industrials","shares":281,"position":9169.03},{"rank":157,"ticker":"VTRS","momentum":0.4664894751,"atr":0.317,"price":14.53,"sector":"Health Care","shares":788,"position":11449.64},{"rank":158,"ticker":"NLOK","momentum":0.3223928066,"atr":0.52495,"price":26.06,"sector":"Information Technology","shares":476,"position":12404.56},{"rank":159,"ticker":"BKR","momentum":0.1840261811,"atr":0.850745,"price":27.24,"sector":"Energy","shares":293,"position":7981.32},{"rank":160,"ticker":"OMC","momentum":0.1520426664,"atr":1.60275,"price":75.6,"sector":"Communication Services","shares":155,"position":11718.0},{"rank":161,"ticker":"MET","momentum":0.1480136666,"atr":1.38325,"price":65.61,"sector":"Financials","shares":180,"position":11809.8},{"rank":162,"ticker":"WMB","momentum":0.1208531163,"atr":0.59027,"price":28.76,"sector":"Energy","shares":423,"position":12165.48},{"rank":163,"ticker":"CAG","momentum":0.0913094603,"atr":0.76288,"price":35.25,"sector":"Consumer Staples","shares":327,"position":11526.75},{"rank":164,"ticker":"HES","momentum":0.0716769217,"atr":3.120005,"price":87.69,"sector":"Energy","shares":80,"position":7015.2},{"rank":165,"ticker":"MO","momentum":0.05469688,"atr":0.8239,"price":50.32,"sector":"Consumer Staples","shares":303,"position":15246.96},{"rank":166,"ticker":"MRK","momentum":0.0122293444,"atr":1.45803,"price":79.98,"sector":"Health Care","shares":171,"position":13676.58},{"rank":167,"ticker":"IBM","momentum":-0.0007815591,"atr":2.761755,"price":129.35,"sector":"Information Technology","shares":90,"position":11641.5},{"rank":168,"ticker":"RTX","momentum":-0.0088455412,"atr":1.545595,"price":87.21,"sector":"Industrials","shares":161,"position":14040.81},{"rank":169,"ticker":"LYB","momentum":-0.0391459073,"atr":2.499055,"price":94.15,"sector":"Materials","shares":100,"position":9415.0},{"rank":170,"ticker":"PNW","momentum":-0.1347201937,"atr":1.314975,"price":70.69,"sector":"Utilities","shares":190,"position":13431.1},{"rank":171,"ticker":"KHC","momentum":-0.240409122,"atr":0.61428,"price":37.0,"sector":"Consumer Staples","shares":406,"position":15022.0},{"rank":172,"ticker":"PM","momentum":-0.2997047557,"atr":1.480235,"price":102.92,"sector":"Consumer Staples","shares":168,"position":17290.56},{"rank":173,"ticker":"KMI","momentum":-0.333339704,"atr":0.35464,"price":17.37,"sector":"Energy","shares":704,"position":12228.48},{"rank":174,"ticker":"VZ","momentum":-0.6524111006,"atr":0.76187,"price":53.16,"sector":"Communication Services","shares":328,"position":17436.48},{"rank":175,"ticker":"BSX","momentum":-1.0168004853,"atr":0.939,"price":42.97,"sector":"Health Care","shares":266,"position":11430.02},{"rank":176,"ticker":"EA","momentum":-1.5360824476,"atr":3.653,"price":139.01,"sector":"Communication Services","shares":68,"position":9452.68},{"rank":177,"ticker":"T","momentum":-2.9301598036,"atr":0.57011,"price":26.61,"sector":"Communication Services","shares":438,"position":11655.18},{"rank":178,"ticker":"WTW","momentum":-57.4695383036,"atr":0.1,"price":225.64,"sector":"Financials","shares":2500,"position":564100.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

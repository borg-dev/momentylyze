<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"DXCM","momentum":297.6216379573,"atr":14.47574,"price":570.42,"sector":"Health Care","shares":17,"position":9697.14},{"rank":2,"ticker":"PAYC","momentum":295.025756788,"atr":9.545655,"price":500.45,"sector":"Information Technology","shares":26,"position":13011.7},{"rank":3,"ticker":"CMG","momentum":247.5566438685,"atr":31.338665,"price":1935.04,"sector":"Consumer Discretionary","shares":7,"position":13545.28},{"rank":4,"ticker":"FTNT","momentum":245.2894658157,"atr":8.363865,"price":301.62,"sector":"Information Technology","shares":29,"position":8746.98},{"rank":5,"ticker":"MSCI","momentum":210.1269849573,"atr":12.32111,"price":645.15,"sector":"Financials","shares":20,"position":12903.0},{"rank":6,"ticker":"RMD","momentum":206.8427561576,"atr":5.391395,"price":288.48,"sector":"Health Care","shares":46,"position":13270.08},{"rank":7,"ticker":"IT","momentum":195.1833667875,"atr":6.461575,"price":316.55,"sector":"Information Technology","shares":38,"position":12028.9},{"rank":8,"ticker":"BIO","momentum":194.8129993969,"atr":17.951845,"price":785.64,"sector":"Health Care","shares":13,"position":10213.32},{"rank":9,"ticker":"WST","momentum":189.6760691904,"atr":9.528145,"price":449.18,"sector":"Health Care","shares":26,"position":11678.68},{"rank":10,"ticker":"AMD","momentum":180.4829045445,"atr":2.6316,"price":104.38,"sector":"Information Technology","shares":94,"position":9811.72},{"rank":11,"ticker":"NOW","momentum":171.2838677116,"atr":12.139995,"price":662.65,"sector":"Information Technology","shares":20,"position":13253.0},{"rank":12,"ticker":"CRL","momentum":160.8094123899,"atr":8.47008,"price":446.34,"sector":"Health Care","shares":29,"position":12943.86},{"rank":13,"ticker":"DHR","momentum":160.4267121737,"atr":6.034775,"price":324.13,"sector":"Health Care","shares":41,"position":13289.33},{"rank":14,"ticker":"PKI","momentum":152.1906136383,"atr":4.263375,"price":185.05,"sector":"Health Care","shares":58,"position":10732.9},{"rank":15,"ticker":"CDNS","momentum":151.9598065848,"atr":2.8679,"price":162.23,"sector":"Information Technology","shares":87,"position":14114.01},{"rank":16,"ticker":"SNPS","momentum":144.3525712036,"atr":5.6982,"price":320.52,"sector":"Information Technology","shares":43,"position":13782.36},{"rank":17,"ticker":"CTLT","momentum":142.954298481,"atr":3.06769,"price":137.21,"sector":"Health Care","shares":81,"position":11114.01},{"rank":18,"ticker":"NVDA","momentum":142.4304633403,"atr":5.78729,"price":219.41,"sector":"Information Technology","shares":43,"position":9434.63},{"rank":19,"ticker":"REGN","momentum":137.144640079,"atr":14.79127,"price":647.06,"sector":"Health Care","shares":16,"position":10352.96},{"rank":20,"ticker":"WAT","momentum":135.07437683,"atr":8.421195,"price":395.58,"sector":"Health Care","shares":29,"position":11471.82},{"rank":21,"ticker":"HOLX","momentum":128.4586001747,"atr":1.427745,"price":76.74,"sector":"Health Care","shares":175,"position":13429.5},{"rank":22,"ticker":"ADBE","momentum":128.0531233001,"atr":12.2032,"price":626.08,"sector":"Information Technology","shares":20,"position":12521.6},{"rank":23,"ticker":"A","momentum":126.5340540776,"atr":3.043345,"price":172.44,"sector":"Health Care","shares":82,"position":14140.08},{"rank":24,"ticker":"INTU","momentum":123.9344397095,"atr":10.58474,"price":562.8,"sector":"Information Technology","shares":23,"position":12944.4},{"rank":25,"ticker":"EW","momentum":119.3632054993,"atr":2.21266,"price":119.66,"sector":"Health Care","shares":112,"position":13401.92},{"rank":26,"ticker":"ISRG","momentum":114.4844223573,"atr":20.611735,"price":1028.47,"sector":"Health Care","shares":12,"position":12341.64},{"rank":27,"ticker":"CARR","momentum":111.0483174914,"atr":1.219925,"price":52.59,"sector":"Industrials","shares":204,"position":10728.36},{"rank":28,"ticker":"KEYS","momentum":110.6358363514,"atr":2.555495,"price":176.72,"sector":"Information Technology","shares":97,"position":17141.84},{"rank":29,"ticker":"TMO","momentum":107.9470212056,"atr":12.97735,"price":606.63,"sector":"Health Care","shares":19,"position":11525.97},{"rank":30,"ticker":"GNRC","momentum":101.9270799956,"atr":13.778855,"price":442.27,"sector":"Industrials","shares":18,"position":7960.86},{"rank":31,"ticker":"GRMN","momentum":100.0652647703,"atr":2.902835,"price":169.35,"sector":"Consumer Discretionary","shares":86,"position":14564.1},{"rank":32,"ticker":"ABMD","momentum":99.5167770105,"atr":8.373745,"price":348.96,"sector":"Health Care","shares":29,"position":10119.84},{"rank":33,"ticker":"TECH","momentum":98.1615377714,"atr":12.998025,"price":533.0,"sector":"Health Care","shares":19,"position":10127.0},{"rank":34,"ticker":"MTD","momentum":96.1361623197,"atr":32.477745,"price":1542.78,"sector":"Health Care","shares":7,"position":10799.46},{"rank":35,"ticker":"GOOGL","momentum":95.3877944108,"atr":41.527735,"price":2805.67,"sector":"Communication Services","shares":6,"position":16834.02},{"rank":36,"ticker":"COST","momentum":93.2327293846,"atr":6.25647,"price":452.33,"sector":"Consumer Staples","shares":39,"position":17640.87},{"rank":37,"ticker":"EXR","momentum":87.1075113299,"atr":3.509395,"price":179.18,"sector":"Real Estate","shares":71,"position":12721.78},{"rank":38,"ticker":"ACN","momentum":85.7526481928,"atr":4.5508,"price":334.66,"sector":"Information Technology","shares":54,"position":18071.64},{"rank":39,"ticker":"MSFT","momentum":85.6280641996,"atr":4.416705,"price":298.58,"sector":"Information Technology","shares":56,"position":16720.48},{"rank":40,"ticker":"DGX","momentum":83.9620101979,"atr":2.496875,"price":152.71,"sector":"Health Care","shares":100,"position":15271.0},{"rank":41,"ticker":"TRMB","momentum":80.7667936383,"atr":1.77222,"price":90.54,"sector":"Information Technology","shares":141,"position":12766.14},{"rank":42,"ticker":"GOOG","momentum":79.1989181988,"atr":42.543295,"price":2818.77,"sector":"Communication Services","shares":5,"position":14093.85},{"rank":43,"ticker":"AWK","momentum":77.9348948089,"atr":3.12248,"price":177.72,"sector":"Utilities","shares":80,"position":14217.6},{"rank":44,"ticker":"VRSK","momentum":76.4399894176,"atr":2.806825,"price":205.56,"sector":"Industrials","shares":89,"position":18294.84},{"rank":45,"ticker":"SBAC","momentum":76.3100052812,"atr":6.5005,"price":358.48,"sector":"Real Estate","shares":38,"position":13622.24},{"rank":46,"ticker":"CDW","momentum":73.6036528756,"atr":3.240895,"price":189.63,"sector":"Information Technology","shares":77,"position":14601.51},{"rank":47,"ticker":"ROK","momentum":72.6176335139,"atr":4.91162,"price":301.94,"sector":"Industrials","shares":50,"position":15097.0},{"rank":48,"ticker":"SPGI","momentum":72.6156395671,"atr":6.6617,"price":445.64,"sector":"Financials","shares":37,"position":16488.68},{"rank":49,"ticker":"MSI","momentum":72.4120714523,"atr":3.385325,"price":239.15,"sector":"Information Technology","shares":73,"position":17457.95},{"rank":50,"ticker":"MAA","momentum":70.6894367,"atr":3.208,"price":190.28,"sector":"Real Estate","shares":77,"position":14651.56},{"rank":51,"ticker":"IDXX","momentum":70.2773752572,"atr":15.959945,"price":671.47,"sector":"Health Care","shares":15,"position":10072.05},{"rank":52,"ticker":"AAPL","momentum":67.9488212421,"atr":2.9562,"price":145.85,"sector":"Information Technology","shares":84,"position":12251.4},{"rank":53,"ticker":"NDAQ","momentum":67.6048700576,"atr":2.826085,"price":194.5,"sector":"Financials","shares":88,"position":17116.0},{"rank":54,"ticker":"NEE","momentum":63.9456312663,"atr":1.320965,"price":81.9,"sector":"Utilities","shares":189,"position":15479.1},{"rank":55,"ticker":"MMC","momentum":63.0113053524,"atr":2.12161,"price":157.08,"sector":"Financials","shares":117,"position":18378.36},{"rank":56,"ticker":"EFX","momentum":62.9380448649,"atr":5.23654,"price":262.68,"sector":"Industrials","shares":47,"position":12345.96},{"rank":57,"ticker":"PFE","momentum":62.304652087,"atr":0.95564,"price":43.95,"sector":"Health Care","shares":261,"position":11470.95},{"rank":58,"ticker":"XYL","momentum":59.5811423895,"atr":2.225665,"price":133.16,"sector":"Industrials","shares":112,"position":14913.92},{"rank":59,"ticker":"INFO","momentum":59.3933349732,"atr":1.95632,"price":122.37,"sector":"Industrials","shares":127,"position":15540.99},{"rank":60,"ticker":"ZTS","momentum":59.1437033363,"atr":3.31714,"price":201.35,"sector":"Health Care","shares":75,"position":15101.25},{"rank":61,"ticker":"ZBRA","momentum":59.047812798,"atr":11.253635,"price":547.58,"sector":"Information Technology","shares":22,"position":12046.76},{"rank":62,"ticker":"RSG","momentum":58.981055455,"atr":1.43697,"price":124.49,"sector":"Industrials","shares":173,"position":21536.77},{"rank":63,"ticker":"EBAY","momentum":58.4470059236,"atr":1.731235,"price":73.21,"sector":"Consumer Discretionary","shares":144,"position":10542.24},{"rank":64,"ticker":"COO","momentum":56.9581657593,"atr":8.3745,"price":433.76,"sector":"Health Care","shares":29,"position":12579.04},{"rank":65,"ticker":"MS","momentum":55.1419225025,"atr":2.060465,"price":100.8,"sector":"Financials","shares":121,"position":12196.8},{"rank":66,"ticker":"TROW","momentum":54.414493285,"atr":4.255795,"price":206.93,"sector":"Financials","shares":58,"position":12001.94},{"rank":67,"ticker":"JCI","momentum":53.7150952927,"atr":1.39,"price":72.82,"sector":"Industrials","shares":179,"position":13034.78},{"rank":68,"ticker":"DOV","momentum":53.1806096526,"atr":2.6901,"price":162.25,"sector":"Industrials","shares":92,"position":14927.0},{"rank":69,"ticker":"AMT","momentum":51.1793066833,"atr":4.970745,"price":293.55,"sector":"Real Estate","shares":50,"position":14677.5},{"rank":70,"ticker":"CHTR","momentum":51.0836985665,"atr":13.81431,"price":751.55,"sector":"Communication Services","shares":18,"position":13527.9},{"rank":71,"ticker":"APH","momentum":50.9388051083,"atr":1.048,"price":75.56,"sector":"Information Technology","shares":238,"position":17983.28},{"rank":72,"ticker":"CPRT","momentum":50.0034982791,"atr":3.43825,"price":144.35,"sector":"Industrials","shares":72,"position":10393.2},{"rank":73,"ticker":"LH","momentum":48.5044071266,"atr":4.99308,"price":291.46,"sector":"Health Care","shares":50,"position":14573.0},{"rank":74,"ticker":"ULTA","momentum":48.0412431847,"atr":10.7371,"price":375.85,"sector":"Consumer Discretionary","shares":23,"position":8644.55},{"rank":75,"ticker":"PNR","momentum":47.1992114842,"atr":1.49105,"price":75.34,"sector":"Industrials","shares":167,"position":12581.78},{"rank":76,"ticker":"ROL","momentum":43.4973923672,"atr":0.7845,"price":37.54,"sector":"Industrials","shares":318,"position":11937.72},{"rank":77,"ticker":"ETN","momentum":43.4953762248,"atr":2.844,"price":156.43,"sector":"Industrials","shares":87,"position":13609.41},{"rank":78,"ticker":"AON","momentum":43.425076252,"atr":4.364245,"price":299.08,"sector":"Financials","shares":57,"position":17047.56},{"rank":79,"ticker":"ARE","momentum":42.1335222294,"atr":3.05125,"price":196.54,"sector":"Real Estate","shares":81,"position":15919.74},{"rank":80,"ticker":"PLD","momentum":41.9828049771,"atr":2.31211,"price":130.01,"sector":"Real Estate","shares":108,"position":14041.08},{"rank":81,"ticker":"CTAS","momentum":41.4502275095,"atr":6.054,"price":396.2,"sector":"Industrials","shares":41,"position":16244.2},{"rank":82,"ticker":"PWR","momentum":41.2022668265,"atr":3.26129,"price":115.87,"sector":"Industrials","shares":76,"position":8806.12},{"rank":83,"ticker":"ABT","momentum":40.4014143181,"atr":1.876325,"price":124.65,"sector":"Health Care","shares":133,"position":16578.45},{"rank":84,"ticker":"PSA","momentum":40.1244188299,"atr":5.560085,"price":309.19,"sector":"Real Estate","shares":44,"position":13604.36},{"rank":85,"ticker":"MCO","momentum":38.783566242,"atr":5.29375,"price":370.38,"sector":"Financials","shares":47,"position":17407.86},{"rank":86,"ticker":"WM","momentum":38.2772880992,"atr":1.67627,"price":153.42,"sector":"Industrials","shares":149,"position":22859.58},{"rank":87,"ticker":"CRM","momentum":37.7066660779,"atr":4.990845,"price":259.17,"sector":"Information Technology","shares":50,"position":12958.5},{"rank":88,"ticker":"CBOE","momentum":37.3787088864,"atr":2.51859,"price":123.99,"sector":"Financials","shares":99,"position":12275.01},{"rank":89,"ticker":"BRO","momentum":37.1816567009,"atr":0.989095,"price":57.4,"sector":"Financials","shares":252,"position":14464.8},{"rank":90,"ticker":"UDR","momentum":37.1340868379,"atr":1.02975,"price":53.64,"sector":"Real Estate","shares":242,"position":12980.88},{"rank":91,"ticker":"ODFL","momentum":36.377159272,"atr":6.222695,"price":296.73,"sector":"Industrials","shares":40,"position":11869.2},{"rank":92,"ticker":"IPG","momentum":36.1331021318,"atr":0.7705,"price":36.99,"sector":"Communication Services","shares":324,"position":11984.76},{"rank":93,"ticker":"STE","momentum":34.6772346381,"atr":3.747645,"price":215.71,"sector":"Health Care","shares":66,"position":14236.86},{"rank":94,"ticker":"ANSS","momentum":33.8560746422,"atr":6.956985,"price":357.84,"sector":"Information Technology","shares":35,"position":12524.4},{"rank":95,"ticker":"ORCL","momentum":33.505256274,"atr":1.604355,"price":88.44,"sector":"Information Technology","shares":155,"position":13708.2},{"rank":96,"ticker":"ORLY","momentum":33.3111469673,"atr":10.11168,"price":620.26,"sector":"Consumer Discretionary","shares":24,"position":14886.24},{"rank":97,"ticker":"TSCO","momentum":30.8818632305,"atr":4.062575,"price":211.87,"sector":"Consumer Discretionary","shares":61,"position":12924.07},{"rank":98,"ticker":"FFIV","momentum":30.8502043609,"atr":4.001915,"price":198.59,"sector":"Information Technology","shares":62,"position":12312.58},{"rank":99,"ticker":"WAB","momentum":29.6595245119,"atr":1.74605,"price":86.86,"sector":"Industrials","shares":143,"position":12420.98},{"rank":100,"ticker":"EXC","momentum":29.4602083951,"atr":0.755435,"price":49.38,"sector":"Utilities","shares":330,"position":16295.4},{"rank":101,"ticker":"BLL","momentum":29.3453956656,"atr":1.30033,"price":92.95,"sector":"Materials","shares":192,"position":17846.4},{"rank":102,"ticker":"AZO","momentum":29.0079910565,"atr":31.46101,"price":1683.76,"sector":"Consumer Discretionary","shares":7,"position":11786.32},{"rank":103,"ticker":"EL","momentum":28.9203416747,"atr":5.90426,"price":318.56,"sector":"Consumer Staples","shares":42,"position":13379.52},{"rank":104,"ticker":"KMX","momentum":28.7798204667,"atr":3.08146,"price":140.51,"sector":"Consumer Discretionary","shares":81,"position":11381.31},{"rank":105,"ticker":"EQIX","momentum":28.7357839468,"atr":20.851495,"price":860.12,"sector":"Real Estate","shares":11,"position":9461.32},{"rank":106,"ticker":"PAYX","momentum":28.5277128187,"atr":1.4225,"price":109.37,"sector":"Information Technology","shares":175,"position":19139.75},{"rank":107,"ticker":"KLAC","momentum":28.0969357899,"atr":9.444585,"price":365.51,"sector":"Information Technology","shares":26,"position":9503.26},{"rank":108,"ticker":"IQV","momentum":27.064865595,"atr":4.35736,"price":259.75,"sector":"Health Care","shares":57,"position":14805.75},{"rank":109,"ticker":"CSCO","momentum":26.9416789221,"atr":0.90596,"price":55.52,"sector":"Information Technology","shares":275,"position":15268.0},{"rank":110,"ticker":"AVB","momentum":26.9000361171,"atr":3.789095,"price":223.48,"sector":"Real Estate","shares":65,"position":14526.2},{"rank":111,"ticker":"JKHY","momentum":26.7250459915,"atr":3.026075,"price":168.76,"sector":"Information Technology","shares":82,"position":13838.32},{"rank":112,"ticker":"YUM","momentum":26.3757896525,"atr":1.91723,"price":125.55,"sector":"Consumer Discretionary","shares":130,"position":16321.5},{"rank":113,"ticker":"TEL","momentum":24.802100242,"atr":2.25484,"price":140.54,"sector":"Information Technology","shares":110,"position":15459.4},{"rank":114,"ticker":"IR","momentum":24.5537543979,"atr":1.32925,"price":52.9,"sector":"Industrials","shares":188,"position":9945.2},{"rank":115,"ticker":"CB","momentum":23.6272731182,"atr":3.02024,"price":176.93,"sector":"Financials","shares":82,"position":14508.26},{"rank":116,"ticker":"AVGO","momentum":22.8301992421,"atr":9.386535,"price":500.59,"sector":"Information Technology","shares":26,"position":13015.34},{"rank":117,"ticker":"ESS","momentum":22.2813564047,"atr":6.637,"price":329.64,"sector":"Real Estate","shares":37,"position":12196.68},{"rank":118,"ticker":"DRE","momentum":21.981002483,"atr":0.936245,"price":49.42,"sector":"Real Estate","shares":267,"position":13195.14},{"rank":119,"ticker":"PG","momentum":20.1288471446,"atr":1.56375,"price":143.6,"sector":"Consumer Staples","shares":159,"position":22832.4},{"rank":120,"ticker":"OGN","momentum":19.9950948567,"atr":0.909855,"price":32.65,"sector":"Health Care","shares":274,"position":8946.1},{"rank":121,"ticker":"SHW","momentum":19.5872995861,"atr":4.755095,"price":291.99,"sector":"Materials","shares":52,"position":15183.48},{"rank":122,"ticker":"SYK","momentum":19.4773814976,"atr":4.39562,"price":271.65,"sector":"Health Care","shares":56,"position":15212.4},{"rank":123,"ticker":"GS","momentum":19.1548677052,"atr":8.337565,"price":385.47,"sector":"Financials","shares":29,"position":11178.63},{"rank":124,"ticker":"CTSH","momentum":18.5199249355,"atr":1.026945,"price":75.39,"sector":"Information Technology","shares":243,"position":18319.77},{"rank":125,"ticker":"PEP","momentum":18.0563106785,"atr":1.88625,"price":154.01,"sector":"Consumer Staples","shares":132,"position":20329.32},{"rank":126,"ticker":"TGT","momentum":17.6925542165,"atr":3.40923,"price":241.77,"sector":"Consumer Discretionary","shares":73,"position":17649.21},{"rank":127,"ticker":"GILD","momentum":17.1377224998,"atr":1.2075,"price":71.38,"sector":"Health Care","shares":207,"position":14775.66},{"rank":128,"ticker":"HD","momentum":15.2715979978,"atr":4.89697,"price":335.93,"sector":"Consumer Discretionary","shares":51,"position":17132.43},{"rank":129,"ticker":"NVR","momentum":14.5864778299,"atr":89.595875,"price":5017.45,"sector":"Consumer Discretionary","shares":2,"position":10034.9},{"rank":130,"ticker":"BDX","momentum":13.3568815968,"atr":3.5447,"price":256.8,"sector":"Health Care","shares":70,"position":17976.0},{"rank":131,"ticker":"BSX","momentum":13.1436732658,"atr":0.84709,"price":44.31,"sector":"Health Care","shares":295,"position":13071.45},{"rank":132,"ticker":"LIN","momentum":12.0380093427,"atr":4.15003,"price":306.06,"sector":"Materials","shares":60,"position":18363.6},{"rank":133,"ticker":"TJX","momentum":11.7119142108,"atr":1.24914,"price":69.53,"sector":"Consumer Discretionary","shares":200,"position":13906.0},{"rank":134,"ticker":"MDT","momentum":11.5523216028,"atr":1.98608,"price":128.91,"sector":"Health Care","shares":125,"position":16113.75},{"rank":135,"ticker":"PM","momentum":11.1994695277,"atr":1.652775,"price":100.51,"sector":"Consumer Staples","shares":151,"position":15177.01},{"rank":136,"ticker":"ICE","momentum":10.890971017,"atr":1.462005,"price":116.91,"sector":"Financials","shares":170,"position":19874.7},{"rank":137,"ticker":"GD","momentum":10.8637976789,"atr":2.936785,"price":193.75,"sector":"Industrials","shares":85,"position":16468.75},{"rank":138,"ticker":"ECL","momentum":9.9407939427,"atr":3.250235,"price":220.86,"sector":"Materials","shares":76,"position":16785.36},{"rank":139,"ticker":"MCK","momentum":8.6354755758,"atr":3.88381,"price":202.63,"sector":"Health Care","shares":64,"position":12968.32},{"rank":140,"ticker":"DFS","momentum":8.5203790807,"atr":3.569495,"price":124.62,"sector":"Financials","shares":70,"position":8723.4},{"rank":141,"ticker":"TXT","momentum":8.4242942274,"atr":1.60795,"price":69.66,"sector":"Industrials","shares":155,"position":10797.3},{"rank":142,"ticker":"NXPI","momentum":8.2611270466,"atr":5.56527,"price":213.08,"sector":"Information Technology","shares":44,"position":9375.52},{"rank":143,"ticker":"JNPR","momentum":8.20548251,"atr":0.465745,"price":27.77,"sector":"Information Technology","shares":536,"position":14884.72},{"rank":144,"ticker":"ABC","momentum":7.8132013314,"atr":2.263885,"price":122.09,"sector":"Health Care","shares":110,"position":13429.9},{"rank":145,"ticker":"AMP","momentum":6.619939082,"atr":5.611615,"price":259.13,"sector":"Financials","shares":44,"position":11401.72},{"rank":146,"ticker":"MCD","momentum":6.1537876738,"atr":2.986275,"price":243.13,"sector":"Consumer Discretionary","shares":83,"position":20179.79},{"rank":147,"ticker":"AAP","momentum":5.4391433092,"atr":3.99745,"price":211.21,"sector":"Consumer Discretionary","shares":62,"position":13095.02},{"rank":148,"ticker":"DLR","momentum":4.6162817081,"atr":3.15091,"price":159.53,"sector":"Real Estate","shares":79,"position":12602.87},{"rank":149,"ticker":"AIG","momentum":4.0123010337,"atr":1.05325,"price":53.71,"sector":"Financials","shares":237,"position":12729.27},{"rank":150,"ticker":"ADI","momentum":3.9393926049,"atr":3.35675,"price":173.85,"sector":"Information Technology","shares":74,"position":12864.9},{"rank":151,"ticker":"LKQ","momentum":2.786762729,"atr":1.09447,"price":50.56,"sector":"Consumer Discretionary","shares":228,"position":11527.68},{"rank":152,"ticker":"TXN","momentum":1.9021781574,"atr":2.94725,"price":195.92,"sector":"Information Technology","shares":84,"position":16457.28},{"rank":153,"ticker":"EIX","momentum":0.9230072832,"atr":0.943565,"price":58.35,"sector":"Utilities","shares":264,"position":15404.4},{"rank":154,"ticker":"MCHP","momentum":0.6040346306,"atr":3.6725,"price":161.49,"sector":"Information Technology","shares":68,"position":10981.32},{"rank":155,"ticker":"HLT","momentum":0.487172076,"atr":2.77625,"price":129.19,"sector":"Consumer Discretionary","shares":90,"position":11627.1},{"rank":156,"ticker":"WFC","momentum":0.29999002,"atr":1.343995,"price":47.08,"sector":"Financials","shares":186,"position":8756.88},{"rank":157,"ticker":"SIVB","momentum":0.2544823846,"atr":16.5387,"price":607.83,"sector":"Financials","shares":15,"position":9117.45},{"rank":158,"ticker":"SYF","momentum":0.2053580976,"atr":1.457695,"price":48.35,"sector":"Financials","shares":171,"position":8267.85},{"rank":159,"ticker":"AMAT","momentum":0.0730555094,"atr":3.8785,"price":138.1,"sector":"Information Technology","shares":64,"position":8838.4},{"rank":160,"ticker":"COG","momentum":0.0220817412,"atr":0.71025,"price":19.36,"sector":"Energy","shares":351,"position":6795.36},{"rank":161,"ticker":"AJG","momentum":0.0122878039,"atr":2.317695,"price":151.39,"sector":"Financials","shares":107,"position":16198.73},{"rank":162,"ticker":"FOXA","momentum":-0.4465703085,"atr":0.89425,"price":38.21,"sector":"Communication Services","shares":279,"position":10660.59},{"rank":163,"ticker":"WY","momentum":-0.9220402468,"atr":0.749,"price":36.41,"sector":"Real Estate","shares":333,"position":12124.53},{"rank":164,"ticker":"MAR","momentum":-1.5551343935,"atr":3.28369,"price":144.4,"sector":"Consumer Discretionary","shares":76,"position":10974.4},{"rank":165,"ticker":"BAX","momentum":-2.9573551712,"atr":1.73142,"price":81.05,"sector":"Health Care","shares":144,"position":11671.2},{"rank":166,"ticker":"TDG","momentum":-5.6829239377,"atr":13.02819,"price":629.09,"sector":"Industrials","shares":19,"position":11952.71},{"rank":167,"ticker":"BKR","momentum":-6.8443595637,"atr":0.7335,"price":23.44,"sector":"Energy","shares":340,"position":7969.6},{"rank":168,"ticker":"FOX","momentum":-9.3185174987,"atr":0.814995,"price":35.42,"sector":"Communication Services","shares":306,"position":10838.52},{"rank":169,"ticker":"CF","momentum":-27.6979432982,"atr":1.50285,"price":50.42,"sector":"Materials","shares":166,"position":8369.72}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"PAYC","momentum":269.9451377532,"atr":12.315625,"price":505.06,"sector":"Information Technology","shares":20,"position":10101.2},{"rank":2,"ticker":"DXCM","momentum":180.4294256597,"atr":16.65318,"price":529.1,"sector":"Health Care","shares":15,"position":7936.5},{"rank":3,"ticker":"IT","momentum":164.9572985153,"atr":8.16499,"price":304.1,"sector":"Information Technology","shares":30,"position":9123.0},{"rank":4,"ticker":"CMG","momentum":135.4695025173,"atr":41.72323,"price":1817.61,"sector":"Consumer Discretionary","shares":5,"position":9088.05},{"rank":5,"ticker":"FTNT","momentum":134.5513988907,"atr":9.75317,"price":307.17,"sector":"Information Technology","shares":25,"position":7679.25},{"rank":6,"ticker":"CTLT","momentum":118.4908712174,"atr":3.344235,"price":130.34,"sector":"Health Care","shares":74,"position":9645.16},{"rank":7,"ticker":"WST","momentum":110.5464965052,"atr":12.16275,"price":407.14,"sector":"Health Care","shares":20,"position":8142.8},{"rank":8,"ticker":"PWR","momentum":109.5187914722,"atr":3.11872,"price":112.77,"sector":"Industrials","shares":80,"position":9021.6},{"rank":9,"ticker":"NOW","momentum":105.8805395954,"atr":16.985,"price":617.58,"sector":"Information Technology","shares":14,"position":8646.12},{"rank":10,"ticker":"BIO","momentum":103.2608665083,"atr":20.988095,"price":722.43,"sector":"Health Care","shares":11,"position":7946.73},{"rank":11,"ticker":"MSCI","momentum":98.6771551598,"atr":17.29014,"price":600.12,"sector":"Financials","shares":14,"position":8401.68},{"rank":12,"ticker":"DHR","momentum":92.9453173954,"atr":7.35884,"price":299.77,"sector":"Health Care","shares":33,"position":9892.41},{"rank":13,"ticker":"TMO","momentum":92.2101754223,"atr":16.300545,"price":583.92,"sector":"Health Care","shares":15,"position":8758.8},{"rank":14,"ticker":"AMD","momentum":90.2455976465,"atr":3.12599,"price":105.06,"sector":"Information Technology","shares":79,"position":8299.74},{"rank":15,"ticker":"AON","momentum":89.2178263724,"atr":5.60468,"price":294.5,"sector":"Financials","shares":44,"position":12958.0},{"rank":16,"ticker":"CDNS","momentum":84.5494894458,"atr":3.869265,"price":150.12,"sector":"Information Technology","shares":64,"position":9607.68},{"rank":17,"ticker":"CRL","momentum":80.1487187744,"atr":13.362,"price":409.16,"sector":"Health Care","shares":18,"position":7364.88},{"rank":18,"ticker":"VRSK","momentum":78.3457211714,"atr":3.45502,"price":207.47,"sector":"Industrials","shares":72,"position":14937.84},{"rank":19,"ticker":"PKI","momentum":75.4915857832,"atr":4.7628,"price":169.97,"sector":"Health Care","shares":52,"position":8838.44},{"rank":20,"ticker":"COST","momentum":72.1238853042,"atr":9.04692,"price":451.85,"sector":"Consumer Staples","shares":27,"position":12199.95},{"rank":21,"ticker":"SNPS","momentum":66.0647349471,"atr":7.767055,"price":291.66,"sector":"Information Technology","shares":32,"position":9333.12},{"rank":22,"ticker":"ODFL","momentum":65.1384563885,"atr":6.56723,"price":287.67,"sector":"Industrials","shares":38,"position":10931.46},{"rank":23,"ticker":"INTU","momentum":61.9537804061,"atr":13.15322,"price":531.12,"sector":"Information Technology","shares":19,"position":10091.28},{"rank":24,"ticker":"HOLX","momentum":56.0770623575,"atr":1.712895,"price":71.37,"sector":"Health Care","shares":145,"position":10348.65},{"rank":25,"ticker":"DGX","momentum":55.6162473983,"atr":2.825515,"price":141.93,"sector":"Health Care","shares":88,"position":12489.84},{"rank":26,"ticker":"GOOGL","momentum":55.4620814002,"atr":56.222785,"price":2795.71,"sector":"Communication Services","shares":4,"position":11182.84},{"rank":27,"ticker":"TECH","momentum":53.5788301407,"atr":15.96024,"price":479.62,"sector":"Health Care","shares":15,"position":7194.3},{"rank":28,"ticker":"ACN","momentum":53.5622183312,"atr":6.415,"price":325.19,"sector":"Information Technology","shares":38,"position":12357.22},{"rank":29,"ticker":"ISRG","momentum":53.3517463036,"atr":9.0064983333,"price":328.54,"sector":"Health Care","shares":27,"position":8870.58},{"rank":30,"ticker":"RSG","momentum":51.5691631163,"atr":2.02742,"price":125.64,"sector":"Industrials","shares":123,"position":15453.72},{"rank":31,"ticker":"MMC","momentum":50.3804355476,"atr":2.87048,"price":156.66,"sector":"Financials","shares":87,"position":13629.42},{"rank":32,"ticker":"KEYS","momentum":49.044546634,"atr":3.665745,"price":161.76,"sector":"Information Technology","shares":68,"position":10999.68},{"rank":33,"ticker":"NVDA","momentum":48.0402575039,"atr":6.897245,"price":208.31,"sector":"Information Technology","shares":36,"position":7499.16},{"rank":34,"ticker":"IPG","momentum":47.1670209101,"atr":0.999745,"price":37.23,"sector":"Communication Services","shares":250,"position":9307.5},{"rank":35,"ticker":"BLL","momentum":45.4860720516,"atr":1.430095,"price":91.4,"sector":"Materials","shares":174,"position":15903.6},{"rank":36,"ticker":"NDAQ","momentum":45.3491572394,"atr":3.73327,"price":197.4,"sector":"Financials","shares":66,"position":13028.4},{"rank":37,"ticker":"MSI","momentum":43.6111535014,"atr":4.359745,"price":236.76,"sector":"Information Technology","shares":57,"position":13495.32},{"rank":38,"ticker":"CARR","momentum":43.0021467845,"atr":1.36975,"price":51.5,"sector":"Industrials","shares":182,"position":9373.0},{"rank":39,"ticker":"TSCO","momentum":41.1782149208,"atr":4.3316,"price":194.72,"sector":"Consumer Discretionary","shares":57,"position":11099.04},{"rank":40,"ticker":"ULTA","momentum":40.948455164,"atr":9.224855,"price":378.37,"sector":"Consumer Discretionary","shares":27,"position":10215.99},{"rank":41,"ticker":"APH","momentum":40.1526349956,"atr":1.422,"price":75.74,"sector":"Information Technology","shares":175,"position":13254.5},{"rank":42,"ticker":"MSFT","momentum":40.1130341885,"atr":5.87754,"price":294.85,"sector":"Information Technology","shares":42,"position":12383.7},{"rank":43,"ticker":"CRM","momentum":38.2753782034,"atr":6.342465,"price":272.48,"sector":"Information Technology","shares":39,"position":10626.72},{"rank":44,"ticker":"EFX","momentum":37.9219380553,"atr":5.605,"price":258.68,"sector":"Industrials","shares":44,"position":11381.92},{"rank":45,"ticker":"MS","momentum":37.664925534,"atr":2.80192,"price":100.04,"sector":"Financials","shares":89,"position":8903.56},{"rank":46,"ticker":"BRO","momentum":36.815956682,"atr":1.25595,"price":59.99,"sector":"Financials","shares":199,"position":11938.01},{"rank":47,"ticker":"GOOG","momentum":36.5902774273,"atr":57.982925,"price":2801.12,"sector":"Communication Services","shares":4,"position":11204.48},{"rank":48,"ticker":"AZO","momentum":35.5627821869,"atr":38.126565,"price":1681.37,"sector":"Consumer Discretionary","shares":6,"position":10088.22},{"rank":49,"ticker":"MAA","momentum":35.399712601,"atr":3.64075,"price":191.18,"sector":"Real Estate","shares":68,"position":13000.24},{"rank":50,"ticker":"NEE","momentum":33.363488226,"atr":1.52015,"price":80.21,"sector":"Utilities","shares":164,"position":13154.44},{"rank":51,"ticker":"AWK","momentum":33.0890869343,"atr":3.40502,"price":170.83,"sector":"Utilities","shares":73,"position":12470.59},{"rank":52,"ticker":"WM","momentum":32.986951071,"atr":2.263725,"price":154.72,"sector":"Industrials","shares":110,"position":17019.2},{"rank":53,"ticker":"ABMD","momentum":32.5969654968,"atr":10.4486,"price":337.13,"sector":"Health Care","shares":23,"position":7753.99},{"rank":54,"ticker":"WAB","momentum":32.3928619118,"atr":1.967,"price":89.67,"sector":"Industrials","shares":127,"position":11388.09},{"rank":55,"ticker":"SPGI","momentum":32.2523726627,"atr":9.057,"price":429.72,"sector":"Financials","shares":27,"position":11602.44},{"rank":56,"ticker":"INFO","momentum":30.511341788,"atr":2.70822,"price":119.14,"sector":"Industrials","shares":92,"position":10960.88},{"rank":57,"ticker":"IR","momentum":29.8229717068,"atr":1.26972,"price":50.99,"sector":"Industrials","shares":196,"position":9994.04},{"rank":58,"ticker":"AIG","momentum":28.4525727899,"atr":1.26225,"price":57.61,"sector":"Financials","shares":198,"position":11406.78},{"rank":59,"ticker":"EXC","momentum":25.7660747626,"atr":0.91201,"price":48.35,"sector":"Utilities","shares":274,"position":13247.9},{"rank":60,"ticker":"ORLY","momentum":25.6121048596,"atr":11.652795,"price":610.25,"sector":"Consumer Discretionary","shares":21,"position":12815.25},{"rank":61,"ticker":"CTSH","momentum":24.3657451186,"atr":1.42544,"price":75.49,"sector":"Information Technology","shares":175,"position":13210.75},{"rank":62,"ticker":"ORCL","momentum":24.2383026339,"atr":2.2502,"price":94.39,"sector":"Information Technology","shares":111,"position":10477.29},{"rank":63,"ticker":"CB","momentum":23.7682888193,"atr":3.587245,"price":182.78,"sector":"Financials","shares":69,"position":12611.82},{"rank":64,"ticker":"CTAS","momentum":20.8303944811,"atr":8.181,"price":402.8,"sector":"Industrials","shares":30,"position":12084.0},{"rank":65,"ticker":"CBOE","momentum":20.8167553215,"atr":2.95529,"price":126.37,"sector":"Financials","shares":84,"position":10615.08},{"rank":66,"ticker":"ROL","momentum":20.6015647575,"atr":0.7955,"price":36.69,"sector":"Industrials","shares":314,"position":11520.66},{"rank":67,"ticker":"EXR","momentum":20.2327496104,"atr":3.670585,"price":171.07,"sector":"Real Estate","shares":68,"position":11632.76},{"rank":68,"ticker":"EBAY","momentum":20.1088232936,"atr":1.971935,"price":75.05,"sector":"Consumer Discretionary","shares":126,"position":9456.3},{"rank":69,"ticker":"CPRT","momentum":20.0919137826,"atr":3.83625,"price":140.4,"sector":"Industrials","shares":65,"position":9126.0},{"rank":70,"ticker":"AAPL","momentum":19.948397604,"atr":2.952505,"price":142.9,"sector":"Information Technology","shares":84,"position":12003.6},{"rank":71,"ticker":"ROK","momentum":19.6717422961,"atr":5.780515,"price":301.33,"sector":"Industrials","shares":43,"position":12957.19},{"rank":72,"ticker":"HD","momentum":18.624903311,"atr":6.11773,"price":334.34,"sector":"Consumer Discretionary","shares":40,"position":13373.6},{"rank":73,"ticker":"OGN","momentum":17.8620834238,"atr":0.8442,"price":32.57,"sector":"Health Care","shares":296,"position":9640.72},{"rank":74,"ticker":"SIVB","momentum":17.712356907,"atr":21.220805,"price":670.49,"sector":"Financials","shares":11,"position":7375.39},{"rank":75,"ticker":"GNRC","momentum":16.7706138826,"atr":16.035585,"price":406.78,"sector":"Industrials","shares":15,"position":6101.7},{"rank":76,"ticker":"ZTS","momentum":16.6698907636,"atr":4.369465,"price":197.88,"sector":"Health Care","shares":57,"position":11279.16},{"rank":77,"ticker":"FFIV","momentum":16.2663379598,"atr":4.7675,"price":200.77,"sector":"Information Technology","shares":52,"position":10440.04},{"rank":78,"ticker":"AMP","momentum":16.0599172149,"atr":7.44921,"price":279.1,"sector":"Financials","shares":33,"position":9210.3},{"rank":79,"ticker":"PG","momentum":15.0991016408,"atr":2.05275,"price":141.73,"sector":"Consumer Staples","shares":121,"position":17149.33},{"rank":80,"ticker":"AVGO","momentum":14.5471408115,"atr":9.97763,"price":492.85,"sector":"Information Technology","shares":25,"position":12321.25},{"rank":81,"ticker":"UDR","momentum":13.5715102553,"atr":1.028,"price":53.04,"sector":"Real Estate","shares":243,"position":12888.72},{"rank":82,"ticker":"SHW","momentum":13.4388335835,"atr":5.808375,"price":289.99,"sector":"Materials","shares":43,"position":12469.57},{"rank":83,"ticker":"MCK","momentum":13.0193840674,"atr":4.23998,"price":200.2,"sector":"Health Care","shares":58,"position":11611.6},{"rank":84,"ticker":"PAYX","momentum":11.1173734406,"atr":2.090095,"price":118.67,"sector":"Information Technology","shares":119,"position":14121.73},{"rank":85,"ticker":"STE","momentum":10.8889310527,"atr":4.733145,"price":219.49,"sector":"Health Care","shares":52,"position":11413.48},{"rank":86,"ticker":"PLD","momentum":10.8224554622,"atr":2.210945,"price":128.53,"sector":"Real Estate","shares":113,"position":14523.89},{"rank":87,"ticker":"GD","momentum":10.8139077045,"atr":3.56325,"price":202.12,"sector":"Industrials","shares":70,"position":14148.4},{"rank":88,"ticker":"TEL","momentum":10.2202625061,"atr":3.062715,"price":145.67,"sector":"Information Technology","shares":81,"position":11799.27},{"rank":89,"ticker":"AJG","momentum":10.0371520606,"atr":3.23159,"price":155.66,"sector":"Financials","shares":77,"position":11985.82},{"rank":90,"ticker":"AVB","momentum":9.7018691433,"atr":4.298,"price":223.85,"sector":"Real Estate","shares":58,"position":12983.3},{"rank":91,"ticker":"JBHT","momentum":9.4978306881,"atr":4.030625,"price":169.78,"sector":"Industrials","shares":62,"position":10526.36},{"rank":92,"ticker":"MCD","momentum":9.2915212897,"atr":3.57479,"price":247.7,"sector":"Consumer Discretionary","shares":69,"position":17091.3},{"rank":93,"ticker":"DISH","momentum":8.8630832164,"atr":1.271495,"price":44.51,"sector":"Communication Services","shares":196,"position":8723.96},{"rank":94,"ticker":"TXT","momentum":8.7177072221,"atr":1.934745,"price":72.01,"sector":"Industrials","shares":129,"position":9289.29},{"rank":95,"ticker":"GS","momentum":8.6057402841,"atr":10.41425,"price":392.81,"sector":"Financials","shares":24,"position":9427.44},{"rank":96,"ticker":"FRC","momentum":7.9581212769,"atr":4.528,"price":204.03,"sector":"Financials","shares":55,"position":11221.65},{"rank":97,"ticker":"ESS","momentum":7.9011919979,"atr":6.83775,"price":326.61,"sector":"Real Estate","shares":36,"position":11757.96},{"rank":98,"ticker":"LKQ","momentum":7.5958558464,"atr":1.31092,"price":52.52,"sector":"Consumer Discretionary","shares":190,"position":9978.8},{"rank":99,"ticker":"BK","momentum":7.3616310431,"atr":1.3795,"price":55.84,"sector":"Financials","shares":181,"position":10107.04},{"rank":100,"ticker":"HLT","momentum":7.3253869621,"atr":3.5105,"price":141.51,"sector":"Consumer Discretionary","shares":71,"position":10047.21},{"rank":101,"ticker":"PEP","momentum":6.4590008982,"atr":2.31975,"price":156.03,"sector":"Consumer Staples","shares":107,"position":16695.21},{"rank":102,"ticker":"ABC","momentum":5.3367664251,"atr":2.3855,"price":119.37,"sector":"Health Care","shares":104,"position":12414.48},{"rank":103,"ticker":"STT","momentum":5.3138518331,"atr":2.474415,"price":91.2,"sector":"Financials","shares":101,"position":9211.2},{"rank":104,"ticker":"WY","momentum":4.1049870186,"atr":0.7854,"price":36.26,"sector":"Real Estate","shares":318,"position":11530.68},{"rank":105,"ticker":"ES","momentum":3.9434162327,"atr":1.61725,"price":85.41,"sector":"Utilities","shares":154,"position":13153.14},{"rank":106,"ticker":"BR","momentum":3.896382913,"atr":2.851095,"price":168.94,"sector":"Information Technology","shares":87,"position":14697.78},{"rank":107,"ticker":"DFS","momentum":3.8393208787,"atr":3.764255,"price":128.35,"sector":"Financials","shares":66,"position":8471.1},{"rank":108,"ticker":"FOXA","momentum":3.3676027336,"atr":1.0805,"price":42.25,"sector":"Communication Services","shares":231,"position":9759.75},{"rank":109,"ticker":"ICE","momentum":3.3279584068,"atr":2.318705,"price":128.1,"sector":"Financials","shares":107,"position":13706.7},{"rank":110,"ticker":"TXN","momentum":3.3003835843,"atr":3.68099,"price":195.24,"sector":"Information Technology","shares":67,"position":13081.08},{"rank":111,"ticker":"JPM","momentum":3.2922551541,"atr":3.61048,"price":170.22,"sector":"Financials","shares":69,"position":11745.18},{"rank":112,"ticker":"WFC","momentum":3.0580585506,"atr":1.278995,"price":48.0,"sector":"Financials","shares":195,"position":9360.0},{"rank":113,"ticker":"AAP","momentum":3.056954159,"atr":4.38886,"price":214.15,"sector":"Consumer Discretionary","shares":56,"position":11992.4},{"rank":114,"ticker":"AIZ","momentum":2.7656732841,"atr":3.069,"price":162.21,"sector":"Financials","shares":81,"position":13139.01},{"rank":115,"ticker":"TSN","momentum":2.5732403822,"atr":1.356325,"price":78.57,"sector":"Consumer Staples","shares":184,"position":14456.88},{"rank":116,"ticker":"PNC","momentum":2.372554126,"atr":4.573085,"price":202.76,"sector":"Financials","shares":54,"position":10949.04},{"rank":117,"ticker":"LHX","momentum":1.8376190052,"atr":4.75782,"price":233.17,"sector":"Industrials","shares":52,"position":12124.84},{"rank":118,"ticker":"DRE","momentum":1.7479627001,"atr":0.9344,"price":50.4,"sector":"Real Estate","shares":267,"position":13456.8},{"rank":119,"ticker":"COF","momentum":1.7366971159,"atr":4.413655,"price":168.8,"sector":"Financials","shares":56,"position":9452.8},{"rank":120,"ticker":"RE","momentum":1.691388001,"atr":5.0375,"price":268.6,"sector":"Financials","shares":49,"position":13161.4},{"rank":121,"ticker":"TRV","momentum":1.5809148486,"atr":3.103065,"price":157.33,"sector":"Financials","shares":80,"position":12586.4},{"rank":122,"ticker":"JNPR","momentum":1.2490523836,"atr":0.553985,"price":28.69,"sector":"Information Technology","shares":451,"position":12939.19},{"rank":123,"ticker":"MAR","momentum":1.0626270286,"atr":4.007785,"price":157.09,"sector":"Consumer Discretionary","shares":62,"position":9739.58},{"rank":124,"ticker":"ADI","momentum":0.9046091974,"atr":3.37275,"price":168.62,"sector":"Information Technology","shares":74,"position":12477.88},{"rank":125,"ticker":"ADP","momentum":0.6363843542,"atr":3.47217,"price":206.16,"sector":"Information Technology","shares":72,"position":14843.52},{"rank":126,"ticker":"HSIC","momentum":0.3428232261,"atr":1.71614,"price":79.83,"sector":"Health Care","shares":145,"position":11575.35},{"rank":127,"ticker":"CVS","momentum":0.2268652196,"atr":1.670325,"price":84.37,"sector":"Health Care","shares":149,"position":12571.13},{"rank":128,"ticker":"SCHW","momentum":0.1933060927,"atr":2.30424,"price":77.34,"sector":"Financials","shares":108,"position":8352.72},{"rank":129,"ticker":"SYF","momentum":0.1451282659,"atr":1.426245,"price":49.95,"sector":"Financials","shares":175,"position":8741.25},{"rank":130,"ticker":"EIX","momentum":0.1344933821,"atr":1.11004,"price":57.14,"sector":"Utilities","shares":225,"position":12856.5},{"rank":131,"ticker":"FOX","momentum":0.1278279336,"atr":0.923055,"price":39.08,"sector":"Communication Services","shares":270,"position":10551.6},{"rank":132,"ticker":"MET","momentum":0.0720440913,"atr":1.587665,"price":64.99,"sector":"Financials","shares":157,"position":10203.43},{"rank":133,"ticker":"CNP","momentum":0.0463245866,"atr":0.60125,"price":25.54,"sector":"Utilities","shares":415,"position":10599.1},{"rank":134,"ticker":"BKR","momentum":0.0170252184,"atr":0.84417,"price":25.24,"sector":"Energy","shares":296,"position":7471.04},{"rank":135,"ticker":"CF","momentum":0.0002631224,"atr":2.02097,"price":61.06,"sector":"Materials","shares":123,"position":7510.38},{"rank":136,"ticker":"HSY","momentum":0.0001014072,"atr":2.995025,"price":177.75,"sector":"Consumer Staples","shares":83,"position":14753.25},{"rank":137,"ticker":"MRK","momentum":-0.0002156942,"atr":1.88958,"price":80.63,"sector":"Health Care","shares":132,"position":10643.16},{"rank":138,"ticker":"CE","momentum":-0.0200658554,"atr":4.093105,"price":159.07,"sector":"Materials","shares":61,"position":9703.27},{"rank":139,"ticker":"BRK.B","momentum":-0.0955702562,"atr":4.2174,"price":284.14,"sector":"Financials","shares":59,"position":16764.26},{"rank":140,"ticker":"C","momentum":-0.175746548,"atr":1.769675,"price":72.35,"sector":"Financials","shares":141,"position":10201.35},{"rank":141,"ticker":"BAX","momentum":-0.2024257187,"atr":1.443315,"price":80.2,"sector":"Health Care","shares":173,"position":13874.6},{"rank":142,"ticker":"L","momentum":-0.218418096,"atr":1.15825,"price":57.42,"sector":"Financials","shares":215,"position":12345.3},{"rank":143,"ticker":"APTV","momentum":-0.2919927706,"atr":4.84225,"price":165.12,"sector":"Consumer Discretionary","shares":51,"position":8421.12},{"rank":144,"ticker":"RTX","momentum":-0.4060294091,"atr":1.64028,"price":90.62,"sector":"Industrials","shares":152,"position":13774.24},{"rank":145,"ticker":"WLTW","momentum":-0.4352354154,"atr":5.42021,"price":242.89,"sector":"Financials","shares":46,"position":11172.94},{"rank":146,"ticker":"J","momentum":-0.5616094291,"atr":3.40024,"price":135.35,"sector":"Industrials","shares":73,"position":9880.55},{"rank":147,"ticker":"ANET","momentum":-0.5716468662,"atr":8.47851,"price":371.92,"sector":"Information Technology","shares":29,"position":10785.68},{"rank":148,"ticker":"WRB","momentum":-0.9791979935,"atr":1.317,"price":77.15,"sector":"Financials","shares":189,"position":14581.35},{"rank":149,"ticker":"CSX","momentum":-1.3586664075,"atr":0.684575,"price":32.71,"sector":"Industrials","shares":365,"position":11939.15},{"rank":150,"ticker":"ADM","momentum":-1.4898135538,"atr":1.40944,"price":63.29,"sector":"Consumer Staples","shares":177,"position":11202.33},{"rank":151,"ticker":"NOC","momentum":-1.6013660981,"atr":6.83389,"price":389.72,"sector":"Industrials","shares":36,"position":14029.92},{"rank":152,"ticker":"GIS","momentum":-1.6090674479,"atr":1.107365,"price":61.46,"sector":"Consumer Staples","shares":225,"position":13828.5},{"rank":153,"ticker":"ANTM","momentum":-1.9327936643,"atr":9.207255,"price":386.17,"sector":"Health Care","shares":27,"position":10426.59},{"rank":154,"ticker":"GE","momentum":-2.0355465899,"atr":2.72158,"price":104.72,"sector":"Industrials","shares":91,"position":9529.52},{"rank":155,"ticker":"NTRS","momentum":-2.5373276216,"atr":3.099095,"price":115.45,"sector":"Financials","shares":80,"position":9236.0},{"rank":156,"ticker":"HPE","momentum":-2.5810990828,"atr":0.39628,"price":14.83,"sector":"Information Technology","shares":630,"position":9342.9},{"rank":157,"ticker":"WMB","momentum":-3.757059974,"atr":0.63138,"price":28.32,"sector":"Energy","shares":395,"position":11186.4},{"rank":158,"ticker":"CVX","momentum":-6.3335570787,"atr":2.399305,"price":108.05,"sector":"Energy","shares":104,"position":11237.2},{"rank":159,"ticker":"GPC","momentum":-6.8492010891,"atr":2.51807,"price":126.04,"sector":"Consumer Discretionary","shares":99,"position":12477.96},{"rank":160,"ticker":"TDG","momentum":-8.4461060499,"atr":14.700975,"price":644.06,"sector":"Industrials","shares":17,"position":10949.02},{"rank":161,"ticker":"IBM","momentum":-8.5176079349,"atr":2.533395,"price":143.22,"sector":"Information Technology","shares":98,"position":14035.56},{"rank":162,"ticker":"LUV","momentum":-8.6395713604,"atr":1.483525,"price":53.92,"sector":"Industrials","shares":168,"position":9058.56},{"rank":163,"ticker":"XOM","momentum":-9.4060191999,"atr":1.609985,"price":62.18,"sector":"Energy","shares":155,"position":9637.9},{"rank":164,"ticker":"NWS","momentum":-10.7803484018,"atr":0.581995,"price":23.93,"sector":"Communication Services","shares":429,"position":10265.97},{"rank":165,"ticker":"F","momentum":-13.4444873952,"atr":0.468,"price":15.12,"sector":"Consumer Discretionary","shares":534,"position":8074.08},{"rank":166,"ticker":"NSC","momentum":-14.9923412949,"atr":5.312985,"price":264.88,"sector":"Industrials","shares":47,"position":12449.36},{"rank":167,"ticker":"HII","momentum":-17.1674834062,"atr":4.37263,"price":206.39,"sector":"Industrials","shares":57,"position":11764.23},{"rank":168,"ticker":"KMI","momentum":-26.7944782368,"atr":0.38388,"price":17.47,"sector":"Energy","shares":651,"position":11372.97},{"rank":169,"ticker":"TTWO","momentum":-28.4117242531,"atr":4.149085,"price":173.69,"sector":"Communication Services","shares":60,"position":10421.4},{"rank":170,"ticker":"GM","momentum":-28.7252606937,"atr":1.556005,"price":58.57,"sector":"Consumer Discretionary","shares":160,"position":9371.2},{"rank":171,"ticker":"CTRA","momentum":-48.3118344785,"atr":0.1,"price":22.27,"sector":"Energy","shares":2500,"position":55675.0}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>

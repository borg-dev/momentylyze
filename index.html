<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Momentylyze - Hebelwerk Momentumtabelle</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator_modern.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>

</head>

<body>

    <div id="sp500"></div>
    <script type="text/javascript">
        var tabledata = [{"rank":1,"ticker":"LW","momentum":124.0083481047,"atr":1.460405,"price":80.11,"sector":"Consumer Staples","shares":171,"position":13698.81},{"rank":2,"ticker":"NEE","momentum":92.4708471978,"atr":1.625005,"price":90.24,"sector":"Utilities","shares":153,"position":13806.72},{"rank":3,"ticker":"NDAQ","momentum":91.7124650101,"atr":1.22451,"price":62.42,"sector":"Financials","shares":204,"position":12733.68},{"rank":4,"ticker":"PWR","momentum":88.2514692291,"atr":3.608495,"price":142.43,"sector":"Industrials","shares":69,"position":9827.67},{"rank":5,"ticker":"CDNS","momentum":86.8239176066,"atr":4.027745,"price":170.89,"sector":"Information Technology","shares":62,"position":10595.18},{"rank":6,"ticker":"BR","momentum":85.4111572267,"atr":3.73125,"price":169.56,"sector":"Information Technology","shares":67,"position":11360.52},{"rank":7,"ticker":"SNPS","momentum":83.5597975354,"atr":9.34424,"price":332.04,"sector":"Information Technology","shares":26,"position":8633.04},{"rank":8,"ticker":"KEYS","momentum":72.5604345152,"atr":4.10639,"price":169.67,"sector":"Information Technology","shares":60,"position":10180.2},{"rank":9,"ticker":"DRE","momentum":71.4695430533,"atr":1.32645,"price":59.85,"sector":"Real Estate","shares":188,"position":11251.8},{"rank":10,"ticker":"GPC","momentum":69.4880744239,"atr":2.84395,"price":161.95,"sector":"Consumer Discretionary","shares":87,"position":14089.65},{"rank":11,"ticker":"BA","momentum":65.5436900423,"atr":5.233385,"price":155.95,"sector":"Industrials","shares":47,"position":7329.65},{"rank":12,"ticker":"ORLY","momentum":64.9349008031,"atr":12.68856,"price":724.41,"sector":"Consumer Discretionary","shares":19,"position":13763.79},{"rank":13,"ticker":"VICI","momentum":58.6891302898,"atr":0.554665,"price":33.5,"sector":"Real Estate","shares":450,"position":15075.0},{"rank":14,"ticker":"FDS","momentum":58.1536945092,"atr":8.664955,"price":444.77,"sector":"Financials","shares":28,"position":12453.56},{"rank":15,"ticker":"BF.B","momentum":55.5914958889,"atr":1.375395,"price":72.75,"sector":"Consumer Staples","shares":181,"position":13167.75},{"rank":16,"ticker":"RMD","momentum":54.3290693017,"atr":5.40395,"price":231.29,"sector":"Health Care","shares":46,"position":10639.34},{"rank":17,"ticker":"MSI","momentum":53.7829512132,"atr":4.37025,"price":249.55,"sector":"Information Technology","shares":57,"position":14224.35},{"rank":18,"ticker":"SBUX","momentum":53.0310696626,"atr":2.04525,"price":88.31,"sector":"Consumer Discretionary","shares":122,"position":10773.82},{"rank":19,"ticker":"AES","momentum":48.7272282025,"atr":0.64325,"price":27.18,"sector":"Utilities","shares":388,"position":10545.84},{"rank":20,"ticker":"ON","momentum":48.4634747566,"atr":3.379815,"price":67.36,"sector":"Information Technology","shares":73,"position":4917.28},{"rank":21,"ticker":"TMUS","momentum":45.5217108657,"atr":2.884225,"price":145.5,"sector":"Communication Services","shares":86,"position":12513.0},{"rank":22,"ticker":"AJG","momentum":44.6733912937,"atr":3.12075,"price":186.58,"sector":"Financials","shares":80,"position":14926.4},{"rank":23,"ticker":"CAH","momentum":44.5381244525,"atr":1.97025,"price":70.97,"sector":"Health Care","shares":126,"position":8942.22},{"rank":24,"ticker":"CNC","momentum":44.1728259606,"atr":2.263995,"price":89.33,"sector":"Health Care","shares":110,"position":9826.3},{"rank":25,"ticker":"ADP","momentum":43.9066407117,"atr":4.348315,"price":241.72,"sector":"Information Technology","shares":57,"position":13778.04},{"rank":26,"ticker":"GWW","momentum":41.1649552686,"atr":10.53383,"price":573.78,"sector":"Industrials","shares":23,"position":13196.94},{"rank":27,"ticker":"MSCI","momentum":38.4053925293,"atr":12.429685,"price":474.3,"sector":"Financials","shares":20,"position":9486.0},{"rank":28,"ticker":"DHR","momentum":38.011926013,"atr":6.131625,"price":277.47,"sector":"Health Care","shares":40,"position":11098.8},{"rank":29,"ticker":"TT","momentum":37.0146241378,"atr":3.744,"price":161.14,"sector":"Industrials","shares":66,"position":10635.24},{"rank":30,"ticker":"BRO","momentum":36.6198705258,"atr":1.184,"price":65.26,"sector":"Financials","shares":211,"position":13769.86},{"rank":31,"ticker":"INTU","momentum":36.5406091123,"atr":14.74085,"price":435.29,"sector":"Information Technology","shares":16,"position":6964.64},{"rank":32,"ticker":"UPS","momentum":34.9002473208,"atr":3.81643,"price":196.29,"sector":"Industrials","shares":65,"position":12758.85},{"rank":33,"ticker":"MCK","momentum":34.1481929662,"atr":7.305805,"price":366.96,"sector":"Health Care","shares":34,"position":12476.64},{"rank":34,"ticker":"AZO","momentum":33.8932949223,"atr":45.44808,"price":2197.06,"sector":"Consumer Discretionary","shares":5,"position":10985.3},{"rank":35,"ticker":"CI","momentum":33.3024069901,"atr":5.139555,"price":290.0,"sector":"Health Care","shares":48,"position":13920.0},{"rank":36,"ticker":"CBOE","momentum":32.4645076184,"atr":2.87725,"price":123.69,"sector":"Financials","shares":86,"position":10637.34},{"rank":37,"ticker":"EXR","momentum":28.7208724033,"atr":4.09874,"price":205.12,"sector":"Real Estate","shares":60,"position":12307.2},{"rank":38,"ticker":"VRTX","momentum":27.9229611614,"atr":7.67011,"price":284.44,"sector":"Health Care","shares":32,"position":9102.08},{"rank":39,"ticker":"XYL","momentum":27.4057062774,"atr":2.27525,"price":95.8,"sector":"Industrials","shares":109,"position":10442.2},{"rank":40,"ticker":"CPRT","momentum":27.164066359,"atr":2.722255,"price":118.83,"sector":"Industrials","shares":91,"position":10813.53},{"rank":41,"ticker":"GIS","momentum":27.142155863,"atr":1.22675,"price":76.28,"sector":"Consumer Staples","shares":203,"position":15484.84},{"rank":42,"ticker":"CTAS","momentum":25.7320963313,"atr":7.42025,"price":428.19,"sector":"Industrials","shares":33,"position":14130.27},{"rank":43,"ticker":"JKHY","momentum":24.8111268808,"atr":4.554485,"price":196.78,"sector":"Information Technology","shares":54,"position":10626.12},{"rank":44,"ticker":"COST","momentum":23.421972548,"atr":11.42755,"price":529.64,"sector":"Consumer Staples","shares":21,"position":11122.44},{"rank":45,"ticker":"UNH","momentum":23.1703394834,"atr":9.283175,"price":521.68,"sector":"Health Care","shares":26,"position":13563.68},{"rank":46,"ticker":"IEX","momentum":22.8559433572,"atr":3.813625,"price":207.24,"sector":"Industrials","shares":65,"position":13470.6},{"rank":47,"ticker":"IT","momentum":22.4042107622,"atr":6.85185,"price":296.75,"sector":"Information Technology","shares":36,"position":10683.0},{"rank":48,"ticker":"HII","momentum":21.5598883526,"atr":4.248825,"price":232.65,"sector":"Industrials","shares":58,"position":13493.7},{"rank":49,"ticker":"AMT","momentum":20.4492063053,"atr":5.556785,"price":259.5,"sector":"Real Estate","shares":44,"position":11418.0},{"rank":50,"ticker":"RSG","momentum":20.2514384244,"atr":2.31359,"price":147.46,"sector":"Industrials","shares":108,"position":15925.68},{"rank":51,"ticker":"NDSN","momentum":18.3020880857,"atr":5.089575,"price":232.31,"sector":"Industrials","shares":49,"position":11383.19},{"rank":52,"ticker":"PGR","momentum":17.9097835357,"atr":2.14259,"price":127.2,"sector":"Financials","shares":116,"position":14755.2},{"rank":53,"ticker":"CMI","momentum":17.6519633502,"atr":4.33234,"price":216.0,"sector":"Industrials","shares":57,"position":12312.0},{"rank":54,"ticker":"DG","momentum":17.5311251618,"atr":5.46225,"price":245.89,"sector":"Consumer Discretionary","shares":45,"position":11065.05},{"rank":55,"ticker":"BLK","momentum":16.7831514605,"atr":18.834165,"price":674.22,"sector":"Financials","shares":13,"position":8764.86},{"rank":56,"ticker":"MOH","momentum":16.5954014296,"atr":8.667545,"price":346.12,"sector":"Health Care","shares":28,"position":9691.36},{"rank":57,"ticker":"AAPL","momentum":16.0880046236,"atr":3.464505,"price":155.96,"sector":"Information Technology","shares":72,"position":11229.12},{"rank":58,"ticker":"KDP","momentum":15.6666307836,"atr":0.68325,"price":38.34,"sector":"Consumer Staples","shares":365,"position":13994.1},{"rank":59,"ticker":"F","momentum":15.4611498023,"atr":0.490995,"price":15.43,"sector":"Consumer Discretionary","shares":509,"position":7853.87},{"rank":60,"ticker":"AVY","momentum":14.7296607788,"atr":3.9077,"price":188.67,"sector":"Materials","shares":63,"position":11886.21},{"rank":61,"ticker":"A","momentum":14.545238014,"atr":3.5945,"price":131.43,"sector":"Health Care","shares":69,"position":9068.67},{"rank":62,"ticker":"MCD","momentum":14.4051631694,"atr":3.624,"price":258.42,"sector":"Consumer Discretionary","shares":68,"position":17572.56},{"rank":63,"ticker":"FISV","momentum":14.2449821896,"atr":2.29556,"price":105.75,"sector":"Information Technology","shares":108,"position":11421.0},{"rank":64,"ticker":"TDG","momentum":14.1741278874,"atr":15.208565,"price":614.87,"sector":"Industrials","shares":16,"position":9837.92},{"rank":65,"ticker":"RJF","momentum":13.9364405882,"atr":2.12134,"price":105.73,"sector":"Financials","shares":117,"position":12370.41},{"rank":66,"ticker":"SPGI","momentum":13.8054166468,"atr":8.21525,"price":363.53,"sector":"Financials","shares":30,"position":10905.9},{"rank":67,"ticker":"K","momentum":13.4858709572,"atr":1.157425,"price":73.17,"sector":"Consumer Staples","shares":215,"position":15731.55},{"rank":68,"ticker":"GS","momentum":13.2394196928,"atr":7.277975,"price":330.56,"sector":"Financials","shares":34,"position":11239.04},{"rank":69,"ticker":"CDAY","momentum":12.5625956189,"atr":2.21453,"price":61.65,"sector":"Information Technology","shares":112,"position":6904.8},{"rank":70,"ticker":"WM","momentum":12.1963611511,"atr":2.45235,"price":173.73,"sector":"Industrials","shares":101,"position":17546.73},{"rank":71,"ticker":"VRSK","momentum":11.9069121714,"atr":3.865175,"price":191.39,"sector":"Industrials","shares":64,"position":12248.96},{"rank":72,"ticker":"ADSK","momentum":11.015700772,"atr":7.111285,"price":206.19,"sector":"Information Technology","shares":35,"position":7216.65},{"rank":73,"ticker":"APH","momentum":10.6211493887,"atr":1.44841,"price":74.25,"sector":"Information Technology","shares":172,"position":12771.0},{"rank":74,"ticker":"FTV","momentum":9.8798269273,"atr":1.285095,"price":64.84,"sector":"Industrials","shares":194,"position":12578.96},{"rank":75,"ticker":"IR","momentum":9.7781272554,"atr":1.4045,"price":48.73,"sector":"Industrials","shares":177,"position":8625.21},{"rank":76,"ticker":"TYL","momentum":9.3897021498,"atr":9.43147,"price":373.71,"sector":"Information Technology","shares":26,"position":9716.46},{"rank":77,"ticker":"APD","momentum":9.0699697048,"atr":5.10686,"price":253.78,"sector":"Materials","shares":48,"position":12181.44},{"rank":78,"ticker":"TJX","momentum":8.870574454,"atr":1.952845,"price":65.84,"sector":"Consumer Discretionary","shares":128,"position":8427.52},{"rank":79,"ticker":"PCAR","momentum":8.7140526148,"atr":1.65127,"price":88.57,"sector":"Industrials","shares":151,"position":13374.07},{"rank":80,"ticker":"PSA","momentum":7.9799388213,"atr":6.60975,"price":342.29,"sector":"Real Estate","shares":37,"position":12664.73},{"rank":81,"ticker":"NOC","momentum":7.6755102525,"atr":8.66315,"price":487.78,"sector":"Industrials","shares":28,"position":13657.84},{"rank":82,"ticker":"MTB","momentum":7.3030027723,"atr":3.718445,"price":182.81,"sector":"Financials","shares":67,"position":12248.27},{"rank":83,"ticker":"ROL","momentum":6.9703975768,"atr":0.7675,"price":35.96,"sector":"Industrials","shares":325,"position":11687.0},{"rank":84,"ticker":"MMC","momentum":6.8573826108,"atr":2.8145,"price":165.56,"sector":"Financials","shares":88,"position":14569.28},{"rank":85,"ticker":"CDW","momentum":6.8039831262,"atr":3.916145,"price":173.07,"sector":"Information Technology","shares":63,"position":10903.41},{"rank":86,"ticker":"SCHW","momentum":6.7751865504,"atr":2.026505,"price":71.79,"sector":"Financials","shares":123,"position":8830.17},{"rank":87,"ticker":"ABMD","momentum":6.4369660117,"atr":8.615515,"price":268.18,"sector":"Health Care","shares":29,"position":7777.22},{"rank":88,"ticker":"LLY","momentum":6.3183637053,"atr":7.462145,"price":311.6,"sector":"Health Care","shares":33,"position":10282.8},{"rank":89,"ticker":"HSY","momentum":6.2156333541,"atr":3.626975,"price":228.25,"sector":"Consumer Staples","shares":68,"position":15521.0},{"rank":90,"ticker":"CARR","momentum":6.2112190913,"atr":0.986395,"price":41.5,"sector":"Industrials","shares":253,"position":10499.5},{"rank":91,"ticker":"CPB","momentum":5.7425638646,"atr":0.95511,"price":49.31,"sector":"Consumer Staples","shares":261,"position":12869.91},{"rank":92,"ticker":"SO","momentum":5.6624220565,"atr":1.17935,"price":79.75,"sector":"Utilities","shares":211,"position":16827.25},{"rank":93,"ticker":"HWM","momentum":5.6398312022,"atr":0.838075,"price":35.36,"sector":"Industrials","shares":298,"position":10537.28},{"rank":94,"ticker":"CHRW","momentum":5.6057981137,"atr":2.569215,"price":114.15,"sector":"Industrials","shares":97,"position":11072.55},{"rank":95,"ticker":"PEP","momentum":5.3434336347,"atr":2.51225,"price":173.25,"sector":"Consumer Staples","shares":99,"position":17151.75},{"rank":96,"ticker":"MS","momentum":5.2238171051,"atr":2.135245,"price":86.86,"sector":"Financials","shares":117,"position":10162.62},{"rank":97,"ticker":"AON","momentum":4.88990811,"atr":5.5209,"price":288.57,"sector":"Financials","shares":45,"position":12985.65},{"rank":98,"ticker":"MNST","momentum":4.8684704155,"atr":1.623775,"price":90.45,"sector":"Consumer Staples","shares":153,"position":13838.85},{"rank":99,"ticker":"BEN","momentum":4.8426372753,"atr":0.593405,"price":26.05,"sector":"Financials","shares":421,"position":10967.05},{"rank":100,"ticker":"AFL","momentum":4.6194685026,"atr":1.1315,"price":60.86,"sector":"Financials","shares":220,"position":13389.2},{"rank":101,"ticker":"CVS","momentum":3.6650502706,"atr":1.90956,"price":100.68,"sector":"Health Care","shares":130,"position":13088.4},{"rank":102,"ticker":"LNT","momentum":3.1884347676,"atr":1.072,"price":63.11,"sector":"Utilities","shares":233,"position":14704.63},{"rank":103,"ticker":"CTXS","momentum":3.0737260417,"atr":0.544,"price":103.41,"sector":"Information Technology","shares":459,"position":47465.19},{"rank":104,"ticker":"AWK","momentum":3.049102043,"atr":3.1611,"price":153.34,"sector":"Utilities","shares":79,"position":12113.86},{"rank":105,"ticker":"GL","momentum":2.9116258231,"atr":1.69055,"price":99.8,"sector":"Financials","shares":147,"position":14670.6},{"rank":106,"ticker":"ED","momentum":2.7376238935,"atr":1.594,"price":101.23,"sector":"Utilities","shares":156,"position":15791.88},{"rank":107,"ticker":"PH","momentum":2.7352650881,"atr":7.01225,"price":273.01,"sector":"Industrials","shares":35,"position":9555.35},{"rank":108,"ticker":"PFG","momentum":2.4528234737,"atr":1.681,"price":75.31,"sector":"Financials","shares":148,"position":11145.88},{"rank":109,"ticker":"RF","momentum":2.2486286555,"atr":0.524975,"price":21.55,"sector":"Financials","shares":476,"position":10257.8},{"rank":110,"ticker":"LOW","momentum":2.2319079136,"atr":5.785265,"price":201.3,"sector":"Consumer Discretionary","shares":43,"position":8655.9},{"rank":111,"ticker":"ULTA","momentum":2.1870692933,"atr":12.024475,"price":444.01,"sector":"Consumer Discretionary","shares":20,"position":8880.2},{"rank":112,"ticker":"DIS","momentum":2.0368422605,"atr":3.445695,"price":112.69,"sector":"Communication Services","shares":72,"position":8113.68},{"rank":113,"ticker":"URI","momentum":1.9855161012,"atr":9.34931,"price":297.11,"sector":"Industrials","shares":26,"position":7724.86},{"rank":114,"ticker":"MLM","momentum":1.8111353055,"atr":8.52775,"price":351.63,"sector":"Materials","shares":29,"position":10197.27},{"rank":115,"ticker":"CF","momentum":1.6300988337,"atr":4.111995,"price":102.33,"sector":"Materials","shares":60,"position":6139.8},{"rank":116,"ticker":"CNP","momentum":1.5996707696,"atr":0.597495,"price":32.67,"sector":"Utilities","shares":418,"position":13656.06},{"rank":117,"ticker":"HD","momentum":1.3658292695,"atr":7.42991,"price":297.47,"sector":"Consumer Discretionary","shares":33,"position":9816.51},{"rank":118,"ticker":"SJM","momentum":1.2293902342,"atr":2.714195,"price":140.92,"sector":"Consumer Staples","shares":92,"position":12964.64},{"rank":119,"ticker":"ATO","momentum":1.2104678431,"atr":1.7855,"price":117.64,"sector":"Utilities","shares":140,"position":16469.6},{"rank":120,"ticker":"SRE","momentum":1.0300901765,"atr":2.768855,"price":173.49,"sector":"Utilities","shares":90,"position":15614.1},{"rank":121,"ticker":"WEC","momentum":0.970701064,"atr":1.696445,"price":106.22,"sector":"Utilities","shares":147,"position":15614.34},{"rank":122,"ticker":"ECL","momentum":0.8928414795,"atr":3.9757,"price":170.92,"sector":"Materials","shares":62,"position":10597.04},{"rank":123,"ticker":"TEL","momentum":0.885014807,"atr":2.993435,"price":126.47,"sector":"Information Technology","shares":83,"position":10497.01},{"rank":124,"ticker":"UNP","momentum":0.7407503258,"atr":4.4106,"price":228.79,"sector":"Industrials","shares":56,"position":12812.24},{"rank":125,"ticker":"SNA","momentum":0.7356732695,"atr":4.243305,"price":223.47,"sector":"Industrials","shares":58,"position":12961.26},{"rank":126,"ticker":"GPN","momentum":0.7279076241,"atr":3.09139,"price":129.74,"sector":"Information Technology","shares":80,"position":10379.2},{"rank":127,"ticker":"CTVA","momentum":0.7209832563,"atr":1.2478,"price":61.82,"sector":"Materials","shares":200,"position":12364.0},{"rank":128,"ticker":"HBAN","momentum":0.6006723923,"atr":0.325335,"price":13.55,"sector":"Financials","shares":768,"position":10406.4},{"rank":129,"ticker":"PPG","momentum":0.5809528506,"atr":3.592495,"price":127.84,"sector":"Materials","shares":69,"position":8820.96},{"rank":130,"ticker":"BSX","momentum":0.5480541383,"atr":0.77525,"price":41.47,"sector":"Health Care","shares":322,"position":13353.34},{"rank":131,"ticker":"CAG","momentum":0.507312549,"atr":0.5735,"price":34.7,"sector":"Consumer Staples","shares":435,"position":15094.5},{"rank":132,"ticker":"EVRG","momentum":0.4874544239,"atr":1.198505,"price":70.12,"sector":"Utilities","shares":208,"position":14584.96},{"rank":133,"ticker":"AMP","momentum":0.4769037088,"atr":6.44645,"price":276.86,"sector":"Financials","shares":38,"position":10520.68},{"rank":134,"ticker":"AME","momentum":0.4486799489,"atr":2.335475,"price":122.63,"sector":"Industrials","shares":107,"position":13121.41},{"rank":135,"ticker":"GILD","momentum":0.4385949792,"atr":1.251715,"price":64.79,"sector":"Health Care","shares":199,"position":12893.21},{"rank":136,"ticker":"DTE","momentum":0.4292292344,"atr":2.00325,"price":135.29,"sector":"Utilities","shares":124,"position":16775.96},{"rank":137,"ticker":"NTAP","momentum":0.3920646831,"atr":2.01325,"price":70.7,"sector":"Information Technology","shares":124,"position":8766.8},{"rank":138,"ticker":"ETN","momentum":0.388984157,"atr":3.23679,"price":141.27,"sector":"Industrials","shares":77,"position":10877.79},{"rank":139,"ticker":"STZ","momentum":0.3734038767,"atr":4.33941,"price":248.39,"sector":"Consumer Staples","shares":57,"position":14158.23},{"rank":140,"ticker":"JCI","momentum":0.3720205856,"atr":1.54525,"price":56.96,"sector":"Industrials","shares":161,"position":9170.56},{"rank":141,"ticker":"PNW","momentum":0.3413700478,"atr":1.2406,"price":76.7,"sector":"Utilities","shares":201,"position":15416.7},{"rank":142,"ticker":"AEP","momentum":0.3283113127,"atr":1.87223,"price":104.74,"sector":"Utilities","shares":133,"position":13930.42},{"rank":143,"ticker":"STT","momentum":0.3040618507,"atr":1.73612,"price":69.74,"sector":"Financials","shares":143,"position":9972.82},{"rank":144,"ticker":"VMC","momentum":0.2753100072,"atr":3.833885,"price":170.03,"sector":"Materials","shares":65,"position":11051.95},{"rank":145,"ticker":"XOM","momentum":0.2391150364,"atr":2.759225,"price":94.14,"sector":"Energy","shares":90,"position":8472.6},{"rank":146,"ticker":"PPL","momentum":0.2156690449,"atr":0.53496,"price":29.59,"sector":"Utilities","shares":467,"position":13818.53},{"rank":147,"ticker":"WFC","momentum":0.2054585389,"atr":1.073,"price":43.84,"sector":"Financials","shares":232,"position":10170.88},{"rank":148,"ticker":"ES","momentum":0.1888476036,"atr":1.50247,"price":91.82,"sector":"Utilities","shares":166,"position":15242.12},{"rank":149,"ticker":"XEL","momentum":0.1792887013,"atr":1.25325,"price":76.98,"sector":"Utilities","shares":199,"position":15319.02},{"rank":150,"ticker":"DRI","momentum":0.1705455833,"atr":3.369,"price":128.05,"sector":"Consumer Discretionary","shares":74,"position":9475.7},{"rank":151,"ticker":"BDX","momentum":0.1640079877,"atr":4.46566,"price":258.97,"sector":"Health Care","shares":55,"position":14243.35},{"rank":152,"ticker":"WTW","momentum":0.1322479303,"atr":4.02056,"price":210.25,"sector":"Financials","shares":62,"position":13035.5},{"rank":153,"ticker":"GD","momentum":0.0994730325,"atr":4.21588,"price":227.74,"sector":"Industrials","shares":59,"position":13436.66},{"rank":154,"ticker":"AEE","momentum":0.095224234,"atr":1.5308,"price":95.61,"sector":"Utilities","shares":163,"position":15584.43},{"rank":155,"ticker":"GM","momentum":0.0619480015,"atr":1.294745,"price":40.11,"sector":"Consumer Discretionary","shares":193,"position":7741.23},{"rank":156,"ticker":"EIX","momentum":0.048225633,"atr":1.412255,"price":68.03,"sector":"Utilities","shares":177,"position":12041.31},{"rank":157,"ticker":"ZION","momentum":0.0353703242,"atr":1.30524,"price":56.35,"sector":"Financials","shares":191,"position":10762.85},{"rank":158,"ticker":"NI","momentum":0.0335412805,"atr":0.53795,"price":30.44,"sector":"Utilities","shares":464,"position":14124.16},{"rank":159,"ticker":"EQR","momentum":0.0178600678,"atr":1.55292,"price":76.25,"sector":"Real Estate","shares":160,"position":12200.0},{"rank":160,"ticker":"D","momentum":0.0106031623,"atr":1.35975,"price":83.39,"sector":"Utilities","shares":183,"position":15260.37},{"rank":161,"ticker":"AVB","momentum":0.0103225027,"atr":4.44434,"price":210.45,"sector":"Real Estate","shares":56,"position":11785.2},{"rank":162,"ticker":"ETR","momentum":0.0015055291,"atr":2.1036,"price":119.17,"sector":"Utilities","shares":118,"position":14062.06},{"rank":163,"ticker":"IRM","momentum":0.0012657131,"atr":1.1982,"price":52.75,"sector":"Real Estate","shares":208,"position":10972.0},{"rank":164,"ticker":"MPC","momentum":0.0003594494,"atr":2.878145,"price":98.34,"sector":"Energy","shares":86,"position":8457.24},{"rank":165,"ticker":"ITW","momentum":0.0003086695,"atr":4.346715,"price":202.79,"sector":"Industrials","shares":57,"position":11559.03},{"rank":166,"ticker":"BWA","momentum":0.0001763718,"atr":1.0989,"price":37.81,"sector":"Consumer Discretionary","shares":227,"position":8582.87},{"rank":167,"ticker":"CMS","momentum":-0.0000051654,"atr":1.1625,"price":69.72,"sector":"Utilities","shares":215,"position":14989.8},{"rank":168,"ticker":"DUK","momentum":-0.0000613428,"atr":1.73892,"price":110.25,"sector":"Utilities","shares":143,"position":15765.75},{"rank":169,"ticker":"HON","momentum":-0.0005696688,"atr":3.535525,"price":189.09,"sector":"Industrials","shares":70,"position":13236.3},{"rank":170,"ticker":"MET","momentum":-0.000942631,"atr":1.32675,"price":66.17,"sector":"Financials","shares":188,"position":12439.96},{"rank":171,"ticker":"ADM","momentum":-0.0894184157,"atr":2.039085,"price":87.23,"sector":"Consumer Staples","shares":122,"position":10642.06},{"rank":172,"ticker":"COP","momentum":-0.1140181817,"atr":3.684995,"price":106.76,"sector":"Energy","shares":67,"position":7152.92},{"rank":173,"ticker":"WMT","momentum":-0.1635665223,"atr":2.869915,"price":135.74,"sector":"Consumer Staples","shares":87,"position":11809.38},{"rank":174,"ticker":"DVN","momentum":-0.4175451152,"atr":3.113165,"price":68.36,"sector":"Energy","shares":80,"position":5468.8},{"rank":175,"ticker":"PEG","momentum":-0.662535507,"atr":1.241015,"price":67.23,"sector":"Utilities","shares":201,"position":13513.23},{"rank":176,"ticker":"NRG","momentum":-0.7671421578,"atr":0.96657,"price":41.69,"sector":"Utilities","shares":258,"position":10756.02},{"rank":177,"ticker":"RE","momentum":-2.37953328,"atr":5.03765,"price":281.42,"sector":"Financials","shares":49,"position":13789.58},{"rank":178,"ticker":"FE","momentum":-2.8880973183,"atr":0.75639,"price":41.15,"sector":"Utilities","shares":330,"position":13579.5},{"rank":179,"ticker":"WRB","momentum":-4.8192520833,"atr":1.259,"price":66.86,"sector":"Financials","shares":198,"position":13238.28}];

        const sectorTypes = ["Communication Services", "Consumer Discretionary", "Consumer Staples", "Energy", "Financials", "Health Care", "Industrials", "Information Technology", "Materials", "Real Estate", "Utilities"];
        function multiSelectHeaderFilter(cell) {
            var values = sectorTypes;

            const filterFunc = (rowData) => {
                return values.includes(rowData['sector']);
            }

            const getSelectedValues = (multiSelect) => {
                var result = [];
                var options = multiSelect && multiSelect.options;
                var opt;

                for (var i = 0, iLen = options.length; i < iLen; i++) {
                opt = options[i];

                if (opt.selected) {
                    result.push(opt.value || opt.text);
                }
                }
                return result;
            }

            const onChange = () => {
                var editor = document.getElementById('sectorSelector');
                values = getSelectedValues(editor);
                console.log("values: " + values);
                cell.getColumn().getTable().removeFilter(filterFunc);
                cell.getColumn().getTable().addFilter(filterFunc);
            }

            var select = document.createElement("select");
            select.multiple = "multiple";
            select.id = 'sectorSelector';
            select.class = "chosen-select";
            select.style = 'width: 100%';
            sectorTypes.forEach(sector => {
                select.innerHTML += "<option id='" + sector + "' value='" + sector + "' selected='selected'>" + sector + "</option>";
            });
            cell.getColumn().getTable().addFilter(filterFunc);
            select.addEventListener('change', onChange);

            return select;
        }

        var table = new Tabulator("#sp500", {
            data: tabledata,
            layout: "fitColumns",
            pagination: "local",
            paginationSize: 500,
            tooltips: true,
            columns: [{
                    title: "Rank",
                    field: "rank",
                    sorter: "number",
                }, 
                {
                    title: "Ticker",
                    field: "ticker",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: "input"
                },
                {
                    title: "Sector",
                    field: "sector",
                    sorter: "string",
                    hozAlign: "left",
                    headerFilter: multiSelectHeaderFilter, 
                    headerFilterLiveFilter: false
                },
                {
                    title: "Momentum",
                    field: "momentum",
                    sorter: "number",
                    hozAlign: "left",
                }, 
                {
                    title: "ATR20d",
                    field: "atr",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Price ($)",
                    field: "price",
                    sorter: "money",
                    hozAlign: "left",
                },
                {
                    title: "Shares",
                    field: "shares",
                    sorter: "number",
                    hozAlign: "left",
                },
                {
                    title: "Position ($)",
                    field: "position",
                    sorter: "money",
                    hozAlign: "left",
                },
            ],
        });
    </script>
</body>

</html>
